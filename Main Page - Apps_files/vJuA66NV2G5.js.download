if (self.CavalryLogger) { CavalryLogger.start_js(["rmDOM"]); }

__d("CometStyleXDarkTheme",[],(function(a,b,c,d,e,f){e.exports={"fds-active-icon":"black","fds-attachment-footer-background":"black","fds-black":"black","fds-black-alpha-05":"rgba(0, 0, 0, 0.05)","fds-black-alpha-10":"rgba(0, 0, 0, 0.1)","fds-black-alpha-15":"rgba(0, 0, 0, 0.15)","fds-black-alpha-20":"rgba(0, 0, 0, 0.2)","fds-black-alpha-30":"rgba(0, 0, 0, 0.3)","fds-black-alpha-40":"rgba(0, 0, 0, 0.4)","fds-black-alpha-50":"rgba(0, 0, 0, 0.5)","fds-black-alpha-60":"rgba(0, 0, 0, 0.6)","fds-black-alpha-80":"rgba(0, 0, 0, 0.8)","fds-blue-05":"black","fds-blue-30":"black","fds-blue-40":"black","fds-blue-60":"black","fds-blue-70":"black","fds-blue-80":"black","fds-blue-95":"black","fds-blue-badge":"black","fds-blue-link":"black","fds-button-icon":"black","fds-button-text":"black","fds-comment-background":"black","fds-dark-mode-gray-35":"black","fds-dark-mode-gray-50":"black","fds-dark-mode-gray-70":"black","fds-dark-mode-gray-80":"black","fds-dark-mode-gray-90":"black","fds-dark-mode-gray-100":"black","fds-dark-ui-card-border":"black","fds-dark-ui-cards":"black","fds-dark-ui-disabled-icon":"black","fds-dark-ui-divider":"black","fds-dark-ui-medium-text":"black","fds-dark-ui-nav-bar":"black","fds-dark-ui-primary-icon":"black","fds-dark-ui-primary-text":"black","fds-dark-ui-secondary-icon":"black","fds-dark-ui-secondary-text":"black","fds-dark-ui-tab-bar":"black","fds-dark-ui-wash":"black","fds-data-mango":"black","fds-disabled-icon":"black","fds-disabled-text":"black","fds-divider-on-wash":"black","fds-divider-on-white":"black","fds-fast":"200ms","fds-fb-blue-70":"black","fds-fb-blue-75":"black","fds-gray-00":"black","fds-gray-05":"black","fds-gray-10":"black","fds-gray-20":"black","fds-gray-25":"black","fds-gray-30":"black","fds-gray-45":"black","fds-gray-70":"black","fds-gray-80":"black","fds-gray-100":"black","fds-green-30":"black","fds-green-55":"black","fds-green-60":"black","fds-green-70":"black","fds-highlight":"black","fds-highlight-cell-background":"black","fds-list-cell-pressed":"black","fds-mobile-wash":"black","fds-nav-bar-background":"black","fds-negative":"black","fds-notification-badge":"black","fds-placeholder-text":"black","fds-positive":"black","fds-primary-button-pressed":"black","fds-primary-icon":"white","fds-primary-text":"white","fds-red-55":"black","fds-secondary-button-pressed":"black","fds-secondary-icon":"black","fds-secondary-text":"black","fds-slow":"400ms","fds-soft":"cubic-bezier(.08,.52,.52,1)","fds-spectrum-aluminum":"black","fds-spectrum-aluminum-dark-1":"black","fds-spectrum-aluminum-dark-2":"black","fds-spectrum-aluminum-dark-3":"black","fds-spectrum-aluminum-tint-15":"black","fds-spectrum-aluminum-tint-30":"black","fds-spectrum-aluminum-tint-50":"black","fds-spectrum-aluminum-tint-70":"black","fds-spectrum-aluminum-tint-90":"black","fds-spectrum-blue-gray":"black","fds-spectrum-blue-gray-dark-1":"black","fds-spectrum-blue-gray-dark-2":"black","fds-spectrum-blue-gray-dark-3":"black","fds-spectrum-blue-gray-tint-15":"black","fds-spectrum-blue-gray-tint-30":"black","fds-spectrum-blue-gray-tint-50":"black","fds-spectrum-blue-gray-tint-70":"black","fds-spectrum-blue-gray-tint-90":"black","fds-spectrum-cherry":"black","fds-spectrum-cherry-dark-1":"black","fds-spectrum-cherry-dark-2":"black","fds-spectrum-cherry-dark-3":"black","fds-spectrum-cherry-tint-15":"black","fds-spectrum-cherry-tint-30":"black","fds-spectrum-cherry-tint-50":"black","fds-spectrum-cherry-tint-70":"black","fds-spectrum-cherry-tint-90":"black","fds-spectrum-grape":"black","fds-spectrum-grape-dark-1":"black","fds-spectrum-grape-dark-2":"black","fds-spectrum-grape-dark-3":"black","fds-spectrum-grape-tint-15":"black","fds-spectrum-grape-tint-30":"black","fds-spectrum-grape-tint-50":"black","fds-spectrum-grape-tint-70":"black","fds-spectrum-grape-tint-90":"black","fds-spectrum-lemon":"black","fds-spectrum-lemon-dark-1":"black","fds-spectrum-lemon-dark-2":"black","fds-spectrum-lemon-dark-3":"black","fds-spectrum-lemon-tint-15":"black","fds-spectrum-lemon-tint-30":"black","fds-spectrum-lemon-tint-50":"black","fds-spectrum-lemon-tint-70":"black","fds-spectrum-lemon-tint-90":"black","fds-spectrum-lime":"black","fds-spectrum-lime-dark-1":"black","fds-spectrum-lime-dark-2":"black","fds-spectrum-lime-dark-3":"black","fds-spectrum-lime-tint-15":"black","fds-spectrum-lime-tint-30":"black","fds-spectrum-lime-tint-50":"black","fds-spectrum-lime-tint-70":"black","fds-spectrum-lime-tint-90":"black","fds-spectrum-orange":"black","fds-spectrum-orange-dark-1":"black","fds-spectrum-orange-dark-2":"black","fds-spectrum-orange-dark-3":"black","fds-spectrum-orange-tint-15":"black","fds-spectrum-orange-tint-30":"black","fds-spectrum-orange-tint-50":"black","fds-spectrum-orange-tint-70":"black","fds-spectrum-orange-tint-90":"black","fds-spectrum-pink":"black","fds-spectrum-pink-dark-1":"black","fds-spectrum-pink-dark-2":"black","fds-spectrum-pink-dark-3":"black","fds-spectrum-pink-tint-15":"black","fds-spectrum-pink-tint-30":"black","fds-spectrum-pink-tint-50":"black","fds-spectrum-pink-tint-70":"black","fds-spectrum-pink-tint-90":"black","fds-spectrum-seafoam":"black","fds-spectrum-seafoam-dark-1":"black","fds-spectrum-seafoam-dark-2":"black","fds-spectrum-seafoam-dark-3":"black","fds-spectrum-seafoam-tint-15":"black","fds-spectrum-seafoam-tint-30":"black","fds-spectrum-seafoam-tint-50":"black","fds-spectrum-seafoam-tint-70":"black","fds-spectrum-seafoam-tint-90":"black","fds-spectrum-skin-1":"black","fds-spectrum-skin-1-dark-1":"black","fds-spectrum-skin-1-dark-2":"black","fds-spectrum-skin-1-dark-3":"black","fds-spectrum-skin-1-tint-15":"black","fds-spectrum-skin-1-tint-30":"black","fds-spectrum-skin-1-tint-50":"black","fds-spectrum-skin-1-tint-70":"black","fds-spectrum-skin-1-tint-90":"black","fds-spectrum-skin-2":"black","fds-spectrum-skin-2-dark-1":"black","fds-spectrum-skin-2-dark-2":"black","fds-spectrum-skin-2-dark-3":"black","fds-spectrum-skin-2-tint-15":"black","fds-spectrum-skin-2-tint-30":"black","fds-spectrum-skin-2-tint-50":"black","fds-spectrum-skin-2-tint-70":"black","fds-spectrum-skin-2-tint-90":"black","fds-spectrum-skin-3":"black","fds-spectrum-skin-3-dark-1":"black","fds-spectrum-skin-3-dark-2":"black","fds-spectrum-skin-3-dark-3":"black","fds-spectrum-skin-3-tint-15":"black","fds-spectrum-skin-3-tint-30":"black","fds-spectrum-skin-3-tint-50":"black","fds-spectrum-skin-3-tint-70":"black","fds-spectrum-skin-3-tint-90":"black","fds-spectrum-skin-4":"black","fds-spectrum-skin-4-dark-1":"black","fds-spectrum-skin-4-dark-2":"black","fds-spectrum-skin-4-dark-3":"black","fds-spectrum-skin-4-tint-15":"black","fds-spectrum-skin-4-tint-30":"black","fds-spectrum-skin-4-tint-50":"black","fds-spectrum-skin-4-tint-70":"black","fds-spectrum-skin-4-tint-90":"black","fds-spectrum-skin-5":"black","fds-spectrum-skin-5-dark-1":"black","fds-spectrum-skin-5-dark-2":"black","fds-spectrum-skin-5-dark-3":"black","fds-spectrum-skin-5-tint-15":"black","fds-spectrum-skin-5-tint-30":"black","fds-spectrum-skin-5-tint-50":"black","fds-spectrum-skin-5-tint-70":"black","fds-spectrum-skin-5-tint-90":"black","fds-spectrum-slate":"black","fds-spectrum-slate-dark-1":"black","fds-spectrum-slate-dark-2":"black","fds-spectrum-slate-dark-3":"black","fds-spectrum-slate-tint-15":"black","fds-spectrum-slate-tint-30":"black","fds-spectrum-slate-tint-50":"black","fds-spectrum-slate-tint-70":"black","fds-spectrum-slate-tint-90":"black","fds-spectrum-teal":"black","fds-spectrum-teal-dark-1":"black","fds-spectrum-teal-dark-2":"black","fds-spectrum-teal-dark-3":"black","fds-spectrum-teal-tint-15":"black","fds-spectrum-teal-tint-30":"black","fds-spectrum-teal-tint-50":"black","fds-spectrum-teal-tint-70":"black","fds-spectrum-teal-tint-90":"black","fds-spectrum-tomato":"black","fds-spectrum-tomato-dark-1":"black","fds-spectrum-tomato-dark-2":"black","fds-spectrum-tomato-dark-3":"black","fds-spectrum-tomato-tint-15":"black","fds-spectrum-tomato-tint-30":"black","fds-spectrum-tomato-tint-50":"black","fds-spectrum-tomato-tint-70":"black","fds-spectrum-tomato-tint-90":"black","fds-strong":"cubic-bezier(.12,.8,.32,1)","fds-tertiary-icon":"black","fds-white":"black","fds-white-alpha-05":"rgba(255, 255, 255, 0.05)","fds-white-alpha-10":"rgba(255, 255, 255, 0.1)","fds-white-alpha-15":"rgba(255, 255, 255, 0.15)","fds-white-alpha-20":"rgba(255, 255, 255, 0.2)","fds-white-alpha-30":"rgba(255, 255, 255, 0.3)","fds-white-alpha-40":"rgba(255, 255, 255, 0.4)","fds-white-alpha-50":"rgba(255, 255, 255, 0.5)","fds-white-alpha-60":"rgba(255, 255, 255, 0.6)","fds-white-alpha-80":"rgba(255, 255, 255, 0.8)","fds-white-text":"black","fds-www-wash":"black","fds-yellow-20":"black","header-height":"60px","fds-animation-enter-exit-in":"cubic-bezier(0.14, 1, 0.34, 1)","fds-animation-enter-exit-out":"cubic-bezier(0.45, 0.1, 0.2, 1)","fds-animation-swap-shuffle-in":"cubic-bezier(0.14, 1, 0.34, 1)","fds-animation-swap-shuffle-out":"cubic-bezier(0.45, 0.1, 0.2, 1)","fds-animation-move-in":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-move-out":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-expand-collapse-in":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-expand-collapse-out":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-passive-move-in":"cubic-bezier(0.5, 0, 0.1, 1)","fds-animation-passive-move-out":"cubic-bezier(0.5, 0, 0.1, 1)","fds-animation-quick-move-in":"cubic-bezier(0.1, 0.9, 0.2, 1)","fds-animation-quick-move-out":"cubic-bezier(0.1, 0.9, 0.2, 1)","fds-animation-fade-in":"cubic-bezier(0, 0, 1, 1)","fds-animation-fade-out":"cubic-bezier(0, 0, 1, 1)","fds-duration-extra-extra-short-in":"100ms","fds-duration-extra-extra-short-out":"100ms","fds-duration-extra-short-in":"200ms","fds-duration-extra-short-out":"150ms","fds-duration-short-in":"280ms","fds-duration-short-out":"200ms","fds-duration-medium-in":"400ms","fds-duration-medium-out":"350ms","fds-duration-long-in":"500ms","fds-duration-long-out":"350ms","fds-duration-extra-long-in":"1000ms","fds-duration-extra-long-out":"1000ms","fds-duration-none":"0ms",accent:"hsl(214, 100%, 59%)","always-white":"white","always-black":"black","always-dark-gradient":"linear-gradient(rgba(0,0,0,0), rgba(0,0,0,0.6))","always-dark-overlay":"rgba(0, 0, 0, 0.4)","always-light-overlay":"rgba(255, 255, 255, 0.4)","attachment-footer-background":"rgba(255,255,255,0.1)","base-blue":"#1877F2","base-cherry":"#F3425F","base-grape":"#8C72CB","base-lemon":"#FCD872","base-lime":"#A3CE71","base-pink":"#EC7EBD","base-seafoam":"#54C7EC","base-teal":"#6BCEBB","base-tomato":"#FB724B","blue-link":"#4599FF","card-background":"#242526","comment-background":"#3A3B3C","disabled-button-background":"rgba(255, 255, 255, 0.2)","disabled-icon":"rgba(255, 255, 255, 0.3)","disabled-text":"rgba(255, 255, 255, 0.3)",divider:"#3E4042","event-date":"#F3425F","filter-accent":"invert(40%) sepia(52%) saturate(200%) saturate(200%) saturate(200%) saturate(189%) hue-rotate(191deg) brightness(103%) contrast(102%)","filter-always-white":"invert(100%)","filter-disabled-icon":"invert(100%) opacity(30%)","filter-placeholder-icon":"invert(59%) sepia(11%) saturate(200%) saturate(135%) hue-rotate(176deg) brightness(96%) contrast(94%)","filter-primary-icon":"invert(100%)","filter-secondary-icon":"invert(62%) sepia(98%) saturate(12%) hue-rotate(175deg) brightness(90%) contrast(96%)","filter-warning-icon":"invert(77%) sepia(29%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(128%) hue-rotate(359deg) brightness(102%) contrast(107%)","filter-blue-link-icon":"invert(73%) sepia(29%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(103.25%) hue-rotate(189deg) brightness(101%) contrast(101%)","filter-positive":"invert(37%) sepia(61%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(115%) hue-rotate(91deg) brightness(97%) contrast(105%)","filter-negative":"invert(25%) sepia(33%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(110%) hue-rotate(345deg) brightness(132%) contrast(96%)","glimmer-spinner-icon":"white","hero-banner-background":"#E85D07","hosted-view-selected-state":"rgba(45, 136, 255, 0.1)","highlight-bg":"rgba(24, 119, 242, .31)","hover-overlay":"rgba(255, 255, 255, 0.1)","media-hover":"rgba(68, 73, 80, 0.15)","media-inner-border":"rgba(255, 255, 255, 0.05)","media-outer-border":"#33363A","media-pressed":"rgba(68, 73, 80, 0.35)","messenger-card-background":"#242526","overlay-alpha-80":"rgba(11, 11, 11, 0.8)","nav-bar-background":"#242526","nav-bar-background-gradient":"linear-gradient(to top, #242526, rgba(36,37,38,.9), rgba(36,37,38,.7), rgba(36,37,38,.4), rgba(36,37,38,0))",negative:"hsl(350, 87%, 55%)","new-notification-background":"#E7F3FF","non-media-pressed":"rgba(68, 73, 80, 0.15)","non-media-pressed-on-dark":"rgba(255, 255, 255, 0.3)","notification-badge":"#F02849","placeholder-icon":"#8A8D91","placeholder-text":"#8A8D91","placeholder-text-on-media":"rgba(255, 255, 255, 0.5)","popover-background":"#3E4042",positive:"#31A24C","press-overlay":"rgba(255, 255, 255, 0.1)","primary-button-background":"#2D88FF","primary-button-pressed":"#77A7FF","primary-button-text":"#FFFFFF","primary-deemphasized-button-background":"rgba(255, 255, 255, 0.1)","primary-deemphasized-button-pressed":"rgba(24, 119, 242, 0.2)","primary-deemphasized-button-pressed-overlay":"rgba(25, 110, 255, 0.15)","primary-deemphasized-button-text":"#2D88FF","primary-icon":"#E4E6EB","primary-text":"#E4E6EB","primary-text-on-media":"white","progress-ring-neutral-background":"rgba(255, 255, 255, 0.2)","progress-ring-neutral-foreground":"#ffffff","progress-ring-on-media-background":"rgba(255, 255, 255, 0.2)","progress-ring-on-media-foreground":"#FFFFFF","progress-ring-blue-background":"rgba(45, 136, 255, 0.2)","progress-ring-blue-foreground":"hsl(214, 100%, 59%)","progress-ring-disabled-background":"rgba(122,125,130, 0.2)","progress-ring-disabled-foreground":"#7A7D82","secondary-button-background":"rgba(255,255,255,.1)","secondary-button-background-floating":"#4B4C4F","secondary-button-background-on-dark":"rgba(255, 255, 255, 0.4)","secondary-button-pressed":"rgba(0, 0, 0, 0.05)","secondary-button-text":"#E4E6EB","secondary-icon":"#B0B3B8","secondary-text":"#B0B3B8","secondary-text-on-media":"rgba(255, 255, 255, 0.9)","section-header-text":"#BCC0C4","shadow-1":"rgba(0, 0, 0, 0.1)","shadow-2":"rgba(0, 0, 0, 0.2)","shadow-5":"rgba(0, 0, 0, 0.5)","shadow-inset":"rgba(255, 255, 255, 0.05)","surface-background":"#242526","text-highlight":"rgba(24, 119, 242, 0.45)","toggle-button-active-background":"#E6F2FF",wash:"#3E4042","web-wash":"#18191A",warning:"hsl(40, 89%, 52%)"}}),null);
__d("CometStyleXDefaultTheme",[],(function(a,b,c,d,e,f){e.exports={"fds-active-icon":"#3578E5","fds-attachment-footer-background":"#F2F3F5","fds-black":"#000000","fds-black-alpha-05":"rgba(0, 0, 0, 0.05)","fds-black-alpha-10":"rgba(0, 0, 0, 0.1)","fds-black-alpha-15":"rgba(0, 0, 0, 0.15)","fds-black-alpha-20":"rgba(0, 0, 0, 0.2)","fds-black-alpha-30":"rgba(0, 0, 0, 0.3)","fds-black-alpha-40":"rgba(0, 0, 0, 0.4)","fds-black-alpha-50":"rgba(0, 0, 0, 0.5)","fds-black-alpha-60":"rgba(0, 0, 0, 0.6)","fds-black-alpha-80":"rgba(0, 0, 0, 0.8)","fds-blue-05":"#ECF3FF","fds-blue-30":"#AAC9FF","fds-blue-40":"#77A7FF","fds-blue-60":"#1877F2","fds-blue-70":"#2851A3","fds-blue-80":"#1D3C78","fds-blue-95":"#E7F3FF","fds-blue-badge":"#1877F2","fds-blue-link":"#1877F2","fds-button-icon":"#444950","fds-button-text":"#444950","fds-comment-background":"#F2F3F5","fds-dark-mode-gray-35":"#CCCCCC","fds-dark-mode-gray-50":"#828282","fds-dark-mode-gray-70":"#4A4A4A","fds-dark-mode-gray-80":"#373737","fds-dark-mode-gray-90":"#282828","fds-dark-mode-gray-100":"#1C1C1C","fds-dark-ui-card-border":"#282828","fds-dark-ui-cards":"#1C1C1C","fds-dark-ui-disabled-icon":"#373737","fds-dark-ui-divider":"#282828","fds-dark-ui-medium-text":"#828282","fds-dark-ui-nav-bar":"#1C1C1C","fds-dark-ui-primary-icon":"#828282","fds-dark-ui-primary-text":"#CCCCCC","fds-dark-ui-secondary-icon":"#4A4A4A","fds-dark-ui-secondary-text":"#4A4A4A","fds-dark-ui-tab-bar":"#1C1C1C","fds-dark-ui-wash":"#000000","fds-data-mango":"#f5bb41","fds-disabled-icon":"#BEC3C9","fds-disabled-text":"#BEC3C9","fds-divider-on-wash":"#CCD0D5","fds-divider-on-white":"#DADDE1","fds-fast":"200ms","fds-fb-blue-70":"#4267B2","fds-fb-blue-75":"#385898","fds-gray-00":"#F5F6F7","fds-gray-05":"#F2F3F5","fds-gray-10":"#EBEDF0","fds-gray-20":"#DADDE1","fds-gray-25":"#CCD0D5","fds-gray-30":"#BEC3C9","fds-gray-45":"#8D949E","fds-gray-70":"#606770","fds-gray-80":"#444950","fds-gray-100":"#1C1E21","fds-green-30":"#86DF81","fds-green-55":"#00A400","fds-green-60":"#008C00","fds-green-70":"#006900","fds-highlight":"#3578E5","fds-highlight-cell-background":"#ECF3FF","fds-list-cell-pressed":"rgba(0, 0, 0, 0.05)","fds-mobile-wash":"#CCD0D5","fds-nav-bar-background":"#4267B2","fds-negative":"#FA383E","fds-notification-badge":"#FA383E","fds-placeholder-text":"#8D949E","fds-positive":"#00A400","fds-primary-button-pressed":"#77A7FF","fds-primary-icon":"#1C1E21","fds-primary-text":"#1C1E21","fds-red-55":"#FA383E","fds-secondary-button-pressed":"rgba(0, 0, 0, 0.05)","fds-secondary-icon":"#606770","fds-secondary-text":"#606770","fds-slow":"400ms","fds-soft":"cubic-bezier(.08,.52,.52,1)","fds-spectrum-aluminum":"#A3CEDF","fds-spectrum-aluminum-dark-1":"#8EBFD4","fds-spectrum-aluminum-dark-2":"#6CA0B6","fds-spectrum-aluminum-dark-3":"#4B8096","fds-spectrum-aluminum-tint-15":"#B0D5E5","fds-spectrum-aluminum-tint-30":"#BFDDE9","fds-spectrum-aluminum-tint-50":"#D1E7F0","fds-spectrum-aluminum-tint-70":"#E4F0F6","fds-spectrum-aluminum-tint-90":"#F6FAFC","fds-spectrum-blue-gray":"#5F6673","fds-spectrum-blue-gray-dark-1":"#4F5766","fds-spectrum-blue-gray-dark-2":"#303846","fds-spectrum-blue-gray-dark-3":"#23272F","fds-spectrum-blue-gray-tint-15":"#777D88","fds-spectrum-blue-gray-tint-30":"#8F949D","fds-spectrum-blue-gray-tint-50":"#AFB3B9","fds-spectrum-blue-gray-tint-70":"#CFD1D5","fds-spectrum-blue-gray-tint-90":"#EFF0F1","fds-spectrum-cherry":"#F35369","fds-spectrum-cherry-dark-1":"#E04C60","fds-spectrum-cherry-dark-2":"#B73749","fds-spectrum-cherry-dark-3":"#9B2B3A","fds-spectrum-cherry-tint-15":"#F36B7F","fds-spectrum-cherry-tint-30":"#F58796","fds-spectrum-cherry-tint-50":"#F8A9B4","fds-spectrum-cherry-tint-70":"#FBCCD2","fds-spectrum-cherry-tint-90":"#FEEEF0","fds-spectrum-grape":"#8C72CB","fds-spectrum-grape-dark-1":"#7B64C0","fds-spectrum-grape-dark-2":"#6A51B2","fds-spectrum-grape-dark-3":"#58409B","fds-spectrum-grape-tint-15":"#9D87D2","fds-spectrum-grape-tint-30":"#AF9CDA","fds-spectrum-grape-tint-50":"#C6B8E5","fds-spectrum-grape-tint-70":"#DDD5F0","fds-spectrum-grape-tint-90":"#F4F1FA","fds-spectrum-lemon":"#FCD872","fds-spectrum-lemon-dark-1":"#F5C33B","fds-spectrum-lemon-dark-2":"#E1A43B","fds-spectrum-lemon-dark-3":"#D18F41","fds-spectrum-lemon-tint-15":"#FFE18F","fds-spectrum-lemon-tint-30":"#FFE8A8","fds-spectrum-lemon-tint-50":"#FFECB5","fds-spectrum-lemon-tint-70":"#FEF2D1","fds-spectrum-lemon-tint-90":"#FFFBF0","fds-spectrum-lime":"#A3CE71","fds-spectrum-lime-dark-1":"#89BE4C","fds-spectrum-lime-dark-2":"#71A830","fds-spectrum-lime-dark-3":"#629824","fds-spectrum-lime-tint-15":"#B1D587","fds-spectrum-lime-tint-30":"#BEDD9C","fds-spectrum-lime-tint-50":"#D1E6B9","fds-spectrum-lime-tint-70":"#E4F0D5","fds-spectrum-lime-tint-90":"#F6FAF1","fds-spectrum-orange":"#F7923B","fds-spectrum-orange-dark-1":"#E07A2E","fds-spectrum-orange-dark-2":"#CC5D22","fds-spectrum-orange-dark-3":"#AC4615","fds-spectrum-orange-tint-15":"#F9A159","fds-spectrum-orange-tint-30":"#F9B278","fds-spectrum-orange-tint-50":"#FBC89F","fds-spectrum-orange-tint-70":"#FCDEC5","fds-spectrum-orange-tint-90":"#FEF4EC","fds-spectrum-pink":"#EC7EBD","fds-spectrum-pink-dark-1":"#EC6FB5","fds-spectrum-pink-dark-2":"#D4539B","fds-spectrum-pink-dark-3":"#B0377B","fds-spectrum-pink-tint-15":"#EF92C7","fds-spectrum-pink-tint-30":"#F2A5D1","fds-spectrum-pink-tint-50":"#F6BFDF","fds-spectrum-pink-tint-70":"#F9D9EB","fds-spectrum-pink-tint-90":"#FDF3F8","fds-spectrum-seafoam":"#54C7EC","fds-spectrum-seafoam-dark-1":"#39AFD5","fds-spectrum-seafoam-dark-2":"#2088AF","fds-spectrum-seafoam-dark-3":"#186D90","fds-spectrum-seafoam-tint-15":"#6BCFEF","fds-spectrum-seafoam-tint-30":"#84D8F2","fds-spectrum-seafoam-tint-50":"#A7E3F6","fds-spectrum-seafoam-tint-70":"#CAEEF9","fds-spectrum-seafoam-tint-90":"#EEFAFD","fds-spectrum-skin-1":"#F1D2B6","fds-spectrum-skin-1-dark-1":"#E2BA96","fds-spectrum-skin-1-dark-2":"#DDAC82","fds-spectrum-skin-1-dark-3":"#D9A170","fds-spectrum-skin-1-tint-15":"#F3D9C1","fds-spectrum-skin-1-tint-30":"#F6E0CC","fds-spectrum-skin-1-tint-50":"#F8E9DB","fds-spectrum-skin-1-tint-70":"#FAF2EA","fds-spectrum-skin-1-tint-90":"#FEFBF8","fds-spectrum-skin-2":"#D7B195","fds-spectrum-skin-2-dark-1":"#CFA588","fds-spectrum-skin-2-dark-2":"#C2977A","fds-spectrum-skin-2-dark-3":"#AF866A","fds-spectrum-skin-2-tint-15":"#DEBDA5","fds-spectrum-skin-2-tint-30":"#E5C9B5","fds-spectrum-skin-2-tint-50":"#ECD8CB","fds-spectrum-skin-2-tint-70":"#F3E8E0","fds-spectrum-skin-2-tint-90":"#FBF7F5","fds-spectrum-skin-3":"#D8A873","fds-spectrum-skin-3-dark-1":"#CD9862","fds-spectrum-skin-3-dark-2":"#BA8653","fds-spectrum-skin-3-dark-3":"#A77A4E","fds-spectrum-skin-3-tint-15":"#E0B588","fds-spectrum-skin-3-tint-30":"#E5C29E","fds-spectrum-skin-3-tint-50":"#ECD4B9","fds-spectrum-skin-3-tint-70":"#F4E5D6","fds-spectrum-skin-3-tint-90":"#FCF6F1","fds-spectrum-skin-4":"#A67B4F","fds-spectrum-skin-4-dark-1":"#A07243","fds-spectrum-skin-4-dark-2":"#94683D","fds-spectrum-skin-4-dark-3":"#815830","fds-spectrum-skin-4-tint-15":"#AE8761","fds-spectrum-skin-4-tint-30":"#BC9D7D","fds-spectrum-skin-4-tint-50":"#D0B9A2","fds-spectrum-skin-4-tint-70":"#E2D5C8","fds-spectrum-skin-4-tint-90":"#F6F1ED","fds-spectrum-skin-5":"#6A4F3B","fds-spectrum-skin-5-dark-1":"#624733","fds-spectrum-skin-5-dark-2":"#503B2C","fds-spectrum-skin-5-dark-3":"#453223","fds-spectrum-skin-5-tint-15":"#8A715B","fds-spectrum-skin-5-tint-30":"#9F8A79","fds-spectrum-skin-5-tint-50":"#BAACA0","fds-spectrum-skin-5-tint-70":"#D5CDC6","fds-spectrum-skin-5-tint-90":"#F2EFEC","fds-spectrum-slate":"#B9CAD2","fds-spectrum-slate-dark-1":"#A8BBC3","fds-spectrum-slate-dark-2":"#89A1AC","fds-spectrum-slate-dark-3":"#688694","fds-spectrum-slate-tint-15":"#C4D2D9","fds-spectrum-slate-tint-30":"#CEDAE0","fds-spectrum-slate-tint-50":"#DCE5E9","fds-spectrum-slate-tint-70":"#EAEFF2","fds-spectrum-slate-tint-90":"#F8FAFB","fds-spectrum-teal":"#6BCEBB","fds-spectrum-teal-dark-1":"#4DBBA6","fds-spectrum-teal-dark-2":"#31A38D","fds-spectrum-teal-dark-3":"#24917D","fds-spectrum-teal-tint-15":"#80D4C4","fds-spectrum-teal-tint-30":"#97DCCF","fds-spectrum-teal-tint-50":"#B4E6DD","fds-spectrum-teal-tint-70":"#D2F0EA","fds-spectrum-teal-tint-90":"#F0FAF8","fds-spectrum-tomato":"#FB724B","fds-spectrum-tomato-dark-1":"#EF6632","fds-spectrum-tomato-dark-2":"#DB4123","fds-spectrum-tomato-dark-3":"#C32D0E","fds-spectrum-tomato-tint-15":"#F1765E","fds-spectrum-tomato-tint-30":"#F38E7B","fds-spectrum-tomato-tint-50":"#F7AFA0","fds-spectrum-tomato-tint-70":"#F9CFC7","fds-spectrum-tomato-tint-90":"#FDEFED","fds-strong":"cubic-bezier(.12,.8,.32,1)","fds-tertiary-icon":"#8D949E","fds-white":"#FFFFFF","fds-white-alpha-05":"rgba(255, 255, 255, 0.05)","fds-white-alpha-10":"rgba(255, 255, 255, 0.1)","fds-white-alpha-15":"rgba(255, 255, 255, 0.15)","fds-white-alpha-20":"rgba(255, 255, 255, 0.2)","fds-white-alpha-30":"rgba(255, 255, 255, 0.3)","fds-white-alpha-40":"rgba(255, 255, 255, 0.4)","fds-white-alpha-50":"rgba(255, 255, 255, 0.5)","fds-white-alpha-60":"rgba(255, 255, 255, 0.6)","fds-white-alpha-80":"rgba(255, 255, 255, 0.8)","fds-white-text":"#FFFFFF","fds-www-wash":"#EBEDF0","fds-yellow-20":"#FFBA00","header-height":"60px","fds-animation-enter-exit-in":"cubic-bezier(0.14, 1, 0.34, 1)","fds-animation-enter-exit-out":"cubic-bezier(0.45, 0.1, 0.2, 1)","fds-animation-swap-shuffle-in":"cubic-bezier(0.14, 1, 0.34, 1)","fds-animation-swap-shuffle-out":"cubic-bezier(0.45, 0.1, 0.2, 1)","fds-animation-move-in":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-move-out":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-expand-collapse-in":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-expand-collapse-out":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-passive-move-in":"cubic-bezier(0.5, 0, 0.1, 1)","fds-animation-passive-move-out":"cubic-bezier(0.5, 0, 0.1, 1)","fds-animation-quick-move-in":"cubic-bezier(0.1, 0.9, 0.2, 1)","fds-animation-quick-move-out":"cubic-bezier(0.1, 0.9, 0.2, 1)","fds-animation-fade-in":"cubic-bezier(0, 0, 1, 1)","fds-animation-fade-out":"cubic-bezier(0, 0, 1, 1)","fds-duration-extra-extra-short-in":"100ms","fds-duration-extra-extra-short-out":"100ms","fds-duration-extra-short-in":"200ms","fds-duration-extra-short-out":"150ms","fds-duration-short-in":"280ms","fds-duration-short-out":"200ms","fds-duration-medium-in":"400ms","fds-duration-medium-out":"350ms","fds-duration-long-in":"500ms","fds-duration-long-out":"350ms","fds-duration-extra-long-in":"1000ms","fds-duration-extra-long-out":"1000ms","fds-duration-none":"0ms",accent:"hsl(214, 89%, 52%)","always-white":"#FFFFFF","always-black":"black","always-dark-gradient":"linear-gradient(rgba(0,0,0,0), rgba(0,0,0,0.6))","always-dark-overlay":"rgba(0, 0, 0, 0.4)","always-light-overlay":"rgba(255, 255, 255, 0.4)","attachment-footer-background":"#F0F2F5","base-blue":"#1877F2","base-cherry":"#F3425F","base-grape":"#8C72CB","base-lemon":"#FCD872","base-lime":"#A3CE71","base-pink":"#EC7EBD","base-seafoam":"#54C7EC","base-teal":"#6BCEBB","base-tomato":"#FB724B","blue-link":"#216FDB","card-background":"#FFFFFF","comment-background":"#F0F2F5","disabled-button-background":"#E4E6EB","disabled-icon":"#BCC0C4","disabled-text":"#BCC0C4",divider:"#CED0D4","event-date":"#F3425F","filter-accent":"invert(39%) sepia(57%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(147.75%) hue-rotate(202deg) brightness(97%) contrast(96%)","filter-always-white":"invert(100%)","filter-disabled-icon":"invert(80%) sepia(6%) saturate(200%) saturate(120%) hue-rotate(173deg) brightness(98%) contrast(89%)","filter-placeholder-icon":"invert(59%) sepia(11%) saturate(200%) saturate(135%) hue-rotate(176deg) brightness(96%) contrast(94%)","filter-primary-icon":"invert(8%) sepia(10%) saturate(200%) saturate(200%) saturate(166%) hue-rotate(177deg) brightness(104%) contrast(91%)","filter-secondary-icon":"invert(39%) sepia(21%) saturate(200%) saturate(109.5%) hue-rotate(174deg) brightness(94%) contrast(86%)","filter-warning-icon":"invert(77%) sepia(29%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(128%) hue-rotate(359deg) brightness(102%) contrast(107%)","filter-blue-link-icon":"invert(30%) sepia(98%) saturate(200%) saturate(200%) saturate(200%) saturate(166.5%) hue-rotate(192deg) brightness(91%) contrast(101%)","filter-positive":"invert(37%) sepia(61%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(115%) hue-rotate(91deg) brightness(97%) contrast(105%)","filter-negative":"invert(25%) sepia(33%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(110%) hue-rotate(345deg) brightness(132%) contrast(96%)","glimmer-spinner-icon":"#65676B","hero-banner-background":"#FFFFFF","hosted-view-selected-state":"rgba(45, 136, 255, 0.1)","highlight-bg":"#E7F3FF","hover-overlay":"rgba(0, 0, 0, 0.05)","media-hover":"rgba(68, 73, 80, 0.15)","media-inner-border":"rgba(0, 0, 0, 0.1)","media-outer-border":"#FFFFFF","media-pressed":"rgba(68, 73, 80, 0.35)","messenger-card-background":"#FFFFFF","overlay-alpha-80":"rgba(244, 244, 244, 0.8)","nav-bar-background":"#FFFFFF","nav-bar-background-gradient":"linear-gradient(to top, #FFFFFF, rgba(255,255,255.9), rgba(255,255,255,.7), rgba(255,255,255,.4), rgba(255,255,255,0))",negative:"hsl(350, 87%, 55%)","new-notification-background":"#E7F3FF","non-media-pressed":"rgba(68, 73, 80, 0.15)","non-media-pressed-on-dark":"rgba(255, 255, 255, 0.3)","notification-badge":"#F02849","placeholder-icon":"#8A8D91","placeholder-text":"#8A8D91","placeholder-text-on-media":"rgba(255, 255, 255, 0.5)","popover-background":"#FFFFFF",positive:"#31A24C","press-overlay":"rgba(0, 0, 0, 0.10)","primary-button-background":"#1877F2","primary-button-pressed":"#77A7FF","primary-button-text":"#FFFFFF","primary-deemphasized-button-background":"#E7F3FF","primary-deemphasized-button-pressed":"rgba(0, 0, 0, 0.05)","primary-deemphasized-button-pressed-overlay":"rgba(25, 110, 255, 0.15)","primary-deemphasized-button-text":"#1877F2","primary-icon":"#050505","primary-text":"#050505","primary-text-on-media":"#FFFFFF","progress-ring-neutral-background":"rgba(0, 0, 0, 0.2)","progress-ring-neutral-foreground":"#000000","progress-ring-on-media-background":"rgba(255, 255, 255, 0.2)","progress-ring-on-media-foreground":"#FFFFFF","progress-ring-blue-background":"rgba(24, 119, 242, 0.2)","progress-ring-blue-foreground":"hsl(214, 89%, 52%)","progress-ring-disabled-background":"rgba(190,195,201, 0.2)","progress-ring-disabled-foreground":"#BEC3C9","secondary-button-background":"#E4E6EB","secondary-button-background-floating":"#ffffff","secondary-button-background-on-dark":"rgba(0, 0, 0, 0.4)","secondary-button-pressed":"rgba(0, 0, 0, 0.05)","secondary-button-text":"#050505","secondary-icon":"#65676B","secondary-text":"#65676B","secondary-text-on-media":"rgba(255, 255, 255, 0.9)","section-header-text":"#4B4C4F","shadow-1":"rgba(0, 0, 0, 0.1)","shadow-2":"rgba(0, 0, 0, 0.2)","shadow-5":"rgba(0, 0, 0, 0.5)","shadow-inset":"rgba(255, 255, 255, 0.5)","surface-background":"#FFFFFF","text-highlight":"rgba(24, 119, 242, 0.2)","toggle-button-active-background":"#E7F3FF",wash:"#E4E6EB","web-wash":"#F0F2F5",warning:"hsl(40, 89%, 52%)"}}),null);
__d("ContextualLayerAlignmentEnum",["objectValues","prop-types"],(function(a,b,c,d,e,f){"use strict";a={left:"left",center:"center",right:"right"};c=babelHelpers["extends"]({},a,{propType:b("prop-types").oneOf(["left","center","right"]),values:b("objectValues")(a)});e.exports=c}),null);
__d("ContextualLayerPositionEnum",["objectValues","prop-types"],(function(a,b,c,d,e,f){"use strict";a={above:"above",below:"below",left:"left",right:"right"};c=babelHelpers["extends"]({},a,{propType:b("prop-types").oneOf(["above","below","left","right"]),values:b("objectValues")(a)});e.exports=c}),null);
__d("BlueBar",["csx","CSS","DOMQuery","Style","ge"],(function(a,b,c,d,e,f,g){__p&&__p();var h=document,i={};function j(a){return b("DOMQuery").scry(h,a)[0]}function k(a,b){return i[a]?i[a]:i[a]=j(b)}function a(){h=b("ge")("blueBarDOMInspector")||document,i={}}var l={hasFixedBlueBar:function(){var a=this.getMaybeFixedRoot();return!a?!1:b("CSS").matchesSelector(a,"._5rmj")||b("Style").isFixed(a)},getBar:function(){return k("bar","div._1s4v")},getNavRoot:function(){return k("navRoot","div._cx4")||l.getBar()},getMaybeFixedRoot:function(){return k("maybeFixedRoot","div._26aw")},getLoggedOutRoot:function(){return k("maybeFixedRootLoggedOut","div._1pmx")},getNewLoggedOutRoot:function(){return k("maybeFixedRootLogin","div._53jh")}};a();e.exports=l}),null);
__d("isStringNullOrEmpty",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a==null||a===""}e.exports=a}),null);
__d("tooltipPropsFor",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){if(!a)return{};a={"data-tooltip-content":a,"data-hover":"tooltip"};b&&(a["data-tooltip-position"]=b);c&&(a["data-tooltip-alignh"]=c);return a}e.exports=a}),null);
__d("TooltipData",["DataStore","DOM","FBLogger","URI","getElementText","ifRequired","isStringNullOrEmpty","isTextNode","killswitch","tooltipPropsFor"],(function(a,b,c,d,e,f){__p&&__p();var g;function h(a){__p&&__p();var c=a.getAttribute("data-tooltip-delay");c=c?parseInt(c,10)||1e3:0;if(b("killswitch")("TOOLTIP_SEPARATE_DATASTORE_AND_ATTRIBUTE_CONTENT"))return babelHelpers["extends"]({className:a.getAttribute("data-tooltip-root-class"),content:a.getAttribute("data-tooltip-content"),delay:c,position:a.getAttribute("data-tooltip-position")||"above",alignH:a.getAttribute("data-tooltip-alignh")||"left",offsetY:a.getAttribute("data-tooltip-offsety")||0,suppress:!1,overflowDisplay:a.getAttribute("data-tooltip-display")==="overflow",persistOnClick:a.getAttribute("data-pitloot-persistonclick"),textDirection:a.getAttribute("data-tooltip-text-direction")},b("DataStore").get(a,"tooltip"));else{var d;d=(d=b("DataStore").get(a,"tooltip"))!=null?d:{};var e=d.content;d=babelHelpers.objectWithoutPropertiesLoose(d,["content"]);var f=a.getAttribute("data-tooltip-content");!b("isStringNullOrEmpty")(e)&&!b("isStringNullOrEmpty")(f)&&b("FBLogger")("tooltip").warn('Getting DataStore tooltip content on an element that has both a "data-tooltip-content" attribute value (set to %s) and a value coming from the DataStore',a.getAttribute("data-tooltip-content"));return babelHelpers["extends"]({className:a.getAttribute("data-tooltip-root-class"),delay:c,position:a.getAttribute("data-tooltip-position")||"above",alignH:a.getAttribute("data-tooltip-alignh")||"left",offsetY:a.getAttribute("data-tooltip-offsety")||0,suppress:!1,overflowDisplay:a.getAttribute("data-tooltip-display")==="overflow",persistOnClick:a.getAttribute("data-pitloot-persistonclick"),textDirection:a.getAttribute("data-tooltip-text-direction"),content:(a=(c=f)!=null?c:e)!=null?a:null},d)}}function i(a,c){var d=h(a);if(b("killswitch")("TOOLTIP_SEPARATE_DATASTORE_AND_ATTRIBUTE_CONTENT"))b("DataStore").set(a,"tooltip",{content:c.content||d.content,position:c.position||d.position,alignH:c.alignH||d.alignH,suppress:c.suppress!==void 0?c.suppress:d.suppress,overflowDisplay:c.overflowDisplay||d.overflowDisplay,persistOnClick:c.persistOnClick||d.persistOnClick});else{!b("isStringNullOrEmpty")(c.content)&&!b("isStringNullOrEmpty")(a.getAttribute("data-tooltip-content"))&&b("FBLogger")("tooltip").warn('Setting DataStore tooltip content on an element that already has the "data-tooltip-content" attribute (set to %s) is invalid',a.getAttribute("data-tooltip-content"));b("DataStore").set(a,"tooltip",{content:c.content||((a=b("DataStore").get(a,"tooltip"))!=null?a:{}).content,position:c.position||d.position,alignH:c.alignH||d.alignH,suppress:c.suppress!==void 0?c.suppress:d.suppress,overflowDisplay:c.overflowDisplay||d.overflowDisplay,persistOnClick:c.persistOnClick||d.persistOnClick})}}function j(a,b){i(a,b),a.setAttribute("data-hover","tooltip")}function k(a,b){}var l={remove:function(a,c){c=c===void 0?{}:c;c=c.onlyCleanupDataStore;c=c===void 0?!1:c;b("DataStore").remove(a,"tooltip");c||(a.removeAttribute("data-hover"),a.removeAttribute("data-tooltip-position"),a.removeAttribute("data-tooltip-alignh"),b("ifRequired")("Tooltip",function(b){b.isActive(a)&&b.hide()}))},set:function(a,c,d,e){__p&&__p();k(a,c);if(c instanceof(g||(g=b("URI"))))a.setAttribute("data-tooltip-uri",c),b("ifRequired")("Tooltip",function(b){b.isActive(a)&&b.fetchIfNecessary(a)});else if(b("killswitch")("TOOLTIP_SEPARATE_DATASTORE_AND_ATTRIBUTE_CONTENT")){var f=l._store({context:a,content:c,position:d,alignH:e});typeof f.content!=="string"?a.setAttribute("data-tooltip-content",b("getElementText")(f.content)):a.setAttribute("data-tooltip-content",f.content);l.refreshIfActive(a)}else a.removeAttribute("data-tooltip-content"),l._store({context:a,content:c,position:d,alignH:e}),l.refreshIfActive(a)},refreshIfActive:function(a){b("ifRequired")("Tooltip",function(b){b.isActive(a)&&b.show(a)})},_store:function(a){var c=a.context,d=a.content,e=a.position;a=a.alignH;k(c,d);b("isTextNode")(d)&&(d=b("getElementText")(d));var f=!1;typeof d!=="string"?d=b("DOM").create("div",{},d):f=d==="";a={alignH:a,content:d,position:e,suppress:f};j(c,a);return a},propsFor:b("tooltipPropsFor"),enableDisplayOnOverflow:function(a){a.removeAttribute("data-tooltip-display"),j(a,{overflowDisplay:!0})},enablePersistOnClick:function(a){a.removeAttribute("data-pitloot-persistOnClick"),j(a,{persistOnClick:!0})},suppress:function(a,b){i(a,{suppress:b})},_get:h};e.exports=l}),null);
__d("createTooltipPortal",["ReactDOM"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("ReactDOM").createPortal(a,c)}e.exports=a}),null);
__d("Tooltip.react",["Arbiter","React","ReactDOM","SubscriptionsHandler","TooltipData","createTooltipPortal","ifRequired","killswitch"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=null,d.$2=new(b("SubscriptionsHandler"))(),d.state={visible:!1,wasEverVisible:!1},d.tooltipEl=b("React").createRef(),c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){__p&&__p();var a=this;this.$2.addSubscriptions(b("Arbiter").subscribe("tooltip/requesthide",function(c,d){c=d.context;a.state.visible&&(!c||c===a.tooltipEl.current)&&b("ifRequired")("Tooltip",function(c){c.suspend(),b("ReactDOM").unstable_flushDiscreteUpdates(),b("ReactDOM").unstable_discreteUpdates(function(){a.setState({visible:!1})})})}),b("Arbiter").subscribe("tooltip/requestshow",function(c,d){c=d.context;!a.state.visible&&c===a.tooltipEl.current&&b("ifRequired")("Tooltip",function(c){c.suspend(),b("ReactDOM").unstable_flushDiscreteUpdates(),b("ReactDOM").unstable_discreteUpdates(function(){a.setState({visible:!0,wasEverVisible:!0})})})}));this.$3()};d.componentDidUpdate=function(a,c){var d=this;c.visible!==this.state.visible&&(this.props.onVisibilityChange&&this.props.onVisibilityChange(this.state.visible),b("ifRequired")("Tooltip",function(a){d.state.visible?a.commitShow(d.tooltipEl.current):a.commitHide(d.tooltipEl.current)}));this.$3()};d.componentWillUnmount=function(){b("TooltipData").remove(b("ReactDOM").findDOMNode(this)),this.$2.release()};d.render=function(){__p&&__p();var a=this.props;a.alignH;a.children;a.delayMountUntilHover;a.display;a.position;var c=a.tooltip;a=babelHelpers.objectWithoutPropertiesLoose(a,["alignH","children","delayMountUntilHover","display","position","tooltip"]);var d=this.$4();return b("React").createElement(this.props.display==="block"?"div":"span",babelHelpers["extends"]({},a,{ref:this.tooltipEl,"data-hover":"tooltip","data-tooltip-content":typeof c==="string"?c:void 0}),d&&c!==null?b("createTooltipPortal")(c,this.$5()):null,this.props.children)};d.$4=function(){var a=this.props.delayMountUntilHover,b=this.state.wasEverVisible;return!a||b};d.$5=function(){this.$1==null&&(this.$1=document.createElement("div"));return this.$1};d.$3=function(){__p&&__p();if(!this.$4())return;var a=b("ReactDOM").findDOMNode(this);if(!this.props.tooltip)b("TooltipData").remove(a);else if(b("killswitch")("TOOLTIP_SEPARATE_DATASTORE_AND_ATTRIBUTE_CONTENT")||typeof this.props.tooltip!=="string"){var c=this.props,d=c.alignH;c=c.position;b("TooltipData").set(a,this.$5(),c,d)}else b("TooltipData").remove(a,{onlyCleanupDataStore:!0}),b("TooltipData").refreshIfActive(this.tooltipEl.current)};return c}(b("React").Component);a.defaultProps={delayMountUntilHover:!b("killswitch")("TOOLTIP_DELAY_MOUNT_UNTIL_HOVER"),display:"inline"};e.exports=a}),null);
__d("DOMContainer.react",["invariant","React","isNode"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.containerNode=null,c.setContainerNode=function(a){c.containerNode=a;var b=c.props.containerRef;typeof b==="function"&&b(a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.getDOMChild=function(){var a=this.props.children;b("isNode")(a)||g(0,1533);return a};d.shouldComponentUpdate=function(a){return a.children!==this.props.children};d.componentDidMount=function(){var a=this.containerNode;a!=null&&a.appendChild(this.getDOMChild())};d.componentDidUpdate=function(a){a=this.containerNode;if(a==null)return;while(a.lastChild)a.removeChild(a.lastChild);a.appendChild(this.getDOMChild())};d.render=function(){var a=this.props,c=a.display;a=babelHelpers.objectWithoutPropertiesLoose(a,["display"]);c=c==="block"?"div":"span";return b("React").jsx(c,babelHelpers["extends"]({},a,{ref:this.setContainerNode,children:void 0}))};return c}(b("React").Component);a.defaultProps={display:"inline"};e.exports=a}),null);
__d("isContentEditable",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){a=a;while(a instanceof HTMLElement){if(a.contentEditable==="true"||a.contentEditable==="plaintext-only")return!0;a=a.parentElement}return!1}e.exports=a}),null);
__d("isElementInteractive",["isContentEditable"],(function(a,b,c,d,e,f){"use strict";var g=new Set(["EMBED","INPUT","OBJECT","SELECT","TEXTAREA"]),h=new Set(["button","checkbox","radio","submit"]);function a(a){if(!a instanceof HTMLElement)return!1;var c=b("isContentEditable")(a),d=g.has(a.nodeName);a=a instanceof HTMLInputElement&&h.has(a.type);return(c||d)&&!a}e.exports=a}),null);
__d("KeyEventController",["Bootloader","DOMQuery","Event","Run","emptyFunction","getElementText","isContentEditable","isElementInteractive","isEmpty"],(function(a,b,c,d,e,f){__p&&__p();var g,h=null,i={BACKSPACE:[8],TAB:[9],RETURN:[13],ALT:[18],ESCAPE:[27],LEFT:[37,63234],UP:[38,63232],RIGHT:[39,63235],DOWN:[40,63233],NUMPAD_ADD:[43],NUMPAD_SUBSTRACT:[45],DELETE:[46],COMMA:[188],PERIOD:[190],SLASH:[191],"`":[192],"[":[219],"]":[221],PAGE_UP:[33],PAGE_DOWN:[34],END:[35],HOME:[36],SPACE:[32],KP_DOT:[46,110],"-":[189],"=":[187],FORWARD_SLASH:[191]},j=(a={},a[8]=1,a[9]=1,a[13]=1,a[27]=1,a[32]=1,a[37]=1,a[63234]=1,a[38]=1,a[63232]=1,a[39]=1,a[63235]=1,a[40]=1,a[63233]=1,a[46]=1,a);c=function(){"use strict";__p&&__p();function a(){var a=this;this.handlers={};["keyup","keydown","keypress"].forEach(function(b){return document.addEventListener(b,a.onkeyevent.bind(a,"on"+b))})}var c=a.prototype;c.mapKey=function(a){if(/^[0-9]$/.test(a+"")){typeof a!=="number"&&(a=a.charCodeAt(0)-48);return[48+a,96+a]}a+="";var b=i[a.toUpperCase()];return b?b:[a.toUpperCase().charCodeAt(0)]};c.onkeyevent=function(a,c){__p&&__p();c=b("Event").$E(c);var d=this.handlers[c.keyCode]||this.handlers[c.which];if(d)for(var e=0;e<d.length;e++){var f=d[e].callback,g=d[e].filter;try{if(!g||g(c,a)){g=function(){var d=f(c,a),e=c.which||c.keyCode;b("Bootloader").loadModules(["KeyEventTypedLogger"],function(a){new a().setAction("key_shortcut").setKey(c.key||"").setKeyChar(String.fromCharCode(e)).setKeyCode(e).addToExtraData("is_trusted",c.isTrusted).log()},"KeyEventController");if(d===!1)return{v:b("Event").kill(c)}}();if(typeof g==="object")return g.v}}catch(a){}}return!0};c.resetHandlers=function(){for(var a in this.handlers)if(Object.prototype.hasOwnProperty.call(this.handlers,a)){var b=this.handlers[a].filter(function(a){return a.preserve()});b.length?this.handlers[a]=b:delete this.handlers[a]}};a.getInstance=function(){return h||(h=new a())};a.defaultFilter=function(c,d){c=b("Event").$E(c);return a.filterEventTypes(c,d)&&a.filterEventTargets(c,d)&&a.filterEventModifiers(c,d)};a.filterEventTypes=function(a,b){return b==="onkeydown"?!0:!1};a.filterEventTargets=function(a,c){c=a.getTarget();return!b("isElementInteractive")(c)||a.keyCode in j&&(b("DOMQuery").isNodeOfType(c,["input","textarea"])&&c.value.length===0||b("isContentEditable")(c)&&b("getElementText")(c).length===0)};a.filterEventModifiers=function(a,b){return a.ctrlKey||a.altKey||a.metaKey||a.repeat?!1:!0};a.registerKeyAcrossTransitions=function(c,d,e,f){e===void 0&&(e=a.defaultFilter);f===void 0&&(f=!1);return a.registerKey(c,d,e,f,b("emptyFunction").thatReturnsTrue)};a.registerKey=function(c,d,e,f,h){__p&&__p();e===void 0&&(e=a.defaultFilter);f===void 0&&(f=!1);h===void 0&&(h=b("emptyFunction").thatReturnsFalse);var i=a.getInstance(),j=c==null?[]:i.mapKey(c);(g||(g=b("isEmpty")))(i.handlers)&&b("Run").onLeave(i.resetHandlers.bind(i));var k={};for(var l=0;l<j.length;l++){c=""+j[l];(!i.handlers[c]||f)&&(i.handlers[c]=[]);var m={callback:d,filter:e,preserve:h};k[c]=m;i.handlers[c].push(m)}return{remove:function(){for(var a in k){if(i.handlers[a]&&i.handlers[a].length){var b=i.handlers[a].indexOf(k[a]);b>=0&&i.handlers[a].splice(b,1)}delete k[a]}}}};return a}();e.exports=c}),null);
__d("StyleXSheet",["invariant","ExecutionEnvironment","Locale"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="__fb-light-mode",i="__fb-dark-mode";function j(a,b){var c=[];c.push(a+" {");for(var d in b){a=b[d];c.push("  --"+d+": "+a+";")}c.push("}");return c.join("\n")}function k(){var a=document.createElement("style");a.setAttribute("type","text/css");a.setAttribute("data-styled","true");var b=document.head||document.getElementsByTagName("head")[0];b||g(0,2655);b.appendChild(a);return a}function l(){return window.CSS!=null&&window.CSS.supports!=null&&window.CSS.supports("--fake-var:0")}var m=/var\(--(.*?)\)/g;a=function(){__p&&__p();function a(a){__p&&__p();var c;this.tag=null;this.injected=!1;this.ruleForPriority=new Map();this.rules=[];this.rootTheme=a.rootTheme;this.rootDarkTheme=a.rootDarkTheme;this.isSlow=(c=a.isSlow)!=null?c:location.search.includes("stylex-slow");this.supportsVariables=(c=a.supportsVariables)!=null?c:l();this.$1=b("Locale").isRTL();this.externalRules=new Set()}var c=a.prototype;c.getVariableMatch=function(){return m};c.isHeadless=function(){return this.tag==null||!b("ExecutionEnvironment").canUseDOM};c.getTag=function(){var a=this.tag;a!=null||g(0,11103);return a};c.getCSS=function(){return this.rules.join("\n")};c.getRulePosition=function(a){return this.rules.indexOf(a)};c.getRuleCount=function(){return this.rules.length};c.inject=function(){if(this.injected)return;this.injected=!0;if(!b("ExecutionEnvironment").canUseDOM){this.injectTheme();return}this.tag=k();this.injectTheme()};c.injectTheme=function(){this.rootTheme!=null&&this.insert(j(":root, ."+h,this.rootTheme),0),this.rootDarkTheme!=null&&this.insert(j("."+i+":root, ."+i,this.rootDarkTheme),0)};c.__injectCustomThemeForTesting=function(a,b){b!=null&&this.insert(j(a,b),0)};c["delete"]=function(a){__p&&__p();var b=this.rules.indexOf(a);b>=0||g(0,2656,a);this.rules.splice(b,1);if(this.isHeadless())return;a=this.getTag();if(this.isSlow)a.removeChild(a.childNodes[b+1]);else{a=a.sheet;a||g(0,2657);a.deleteRule(b)}};c.normalizeRule=function(a){var b=this.rootTheme;return this.supportsVariables||b==null?a:a.replace(m,function(a,c){return b[c]})};c.getInsertPositionForPriority=function(a){__p&&__p();var b=this.ruleForPriority.get(a);if(b!=null)return this.rules.indexOf(b)+1;b=Array.from(this.ruleForPriority.keys()).sort(function(a,b){return b-a}).filter(function(b){return b>a?1:0});if(b.length===0)return this.getRuleCount();b=b.pop();return this.rules.indexOf(this.ruleForPriority.get(b))};c.insert=function(a,b,c){__p&&__p();this.injected===!1&&this.inject();c=this.$1&&c!=null?c:a;if(this.externalRules.has(c.slice(0,c.indexOf("{")).trim()))return;if(this.rules.includes(c))return;a=this.normalizeRule(c);if(this.externalRules.has(a.slice(0,a.indexOf("{")).trim()))return;c=this.getInsertPositionForPriority(b);this.rules.splice(c,0,a);this.ruleForPriority.set(b,a);if(this.isHeadless())return;b=this.getTag();if(this.isSlow){var d=document.createTextNode(a);b.insertBefore(d,b.childNodes[c])}else{d=b.sheet;if(d!=null)try{d.insertRule(a,c)}catch(a){}}};return a}();a.LIGHT_MODE_CLASS_NAME=h;a.DARK_MODE_CLASS_NAME=i;e.exports=a}),null);
__d("CometStyleXSheet",["CometStyleXDarkTheme","CometStyleXDefaultTheme","ExecutionEnvironment","StyleXSheet"],(function(a,b,c,d,e,f){"use strict";a=b("StyleXSheet").DARK_MODE_CLASS_NAME;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.call(this,{rootDarkTheme:b("CometStyleXDarkTheme"),rootTheme:b("CometStyleXDefaultTheme")})||this}return c}(b("StyleXSheet"));d=new c();e.exports={CometStyleXSheet:c,DARK_MODE_CLASS_NAME:a,rootStyleSheet:d}}),null);
__d("stylex",["CometStyleXSheet","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("CometStyleXSheet").rootStyleSheet;g.injectTheme();function h(a){__p&&__p();a=a.reverse();var b={};while(a.length){var c=a.pop();if(Array.isArray(c)){for(var d=c.length-1;d>=0;d--)a.push(c[d]);continue}d=c;if(d!=null&&typeof d==="object")for(var e in d){c=d[e];if(typeof c==="string")b[e]=c;else if(typeof c==="object"){var f;b[e]=(f=b[e])!=null?f:{};Object.assign(b[e],c)}}}return b}function i(){__p&&__p();for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];var d=h(b),e="";for(var f in d)if(Boolean(d[f]))if(typeof d[f]==="string")e+=e?" "+d[f]:d[f];else if(typeof d[f]==="object"){var g=d[f];for(var i in g){var j=g[i];e+=e?" "+j:j}}return e}i.compose=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return h(b)};function a(a){throw b("unrecoverableViolation")("stylex.create should never be called. It should be compiled away.","comet_ui")}i.create=a;i.keyframes=function(a){throw b("unrecoverableViolation")("stylex.keyframes should never be called","comet_ui")};i.inject=function(a,b,c){c===void 0&&(c=null),g.insert(a,b,c)};i.dedupe=function(){return i.apply(void 0,arguments)};i.absoluteFill={bottom:0,boxSizing:"border-box",end:0,position:"absolute",start:0,top:0};i.absoluteCenter={boxSizing:"border-box",left:"50%",position:"absolute",top:"50%",transform:"translate(-50%, -50%)"};i.blockBase={borderStyle:"solid",borderWidth:0,boxSizing:"border-box",display:"block",flexGrow:1,flexShrink:1,margin:0,padding:0,position:"relative",zIndex:0};i.inlineBase=babelHelpers["extends"]({},i.blockBase,{display:"inline"});i.buttonBase={appearance:"none",backgroundColor:"transparent",borderStyle:"solid",borderWidth:0,boxSizing:"border-box",margin:0,padding:0,position:"relative",textAlign:"inherit",zIndex:0};i.flexBase={alignItems:"stretch",borderStyle:"solid",borderWidth:0,boxSizing:"border-box",display:"flex",flexDirection:"column",flexGrow:1,flexShrink:1,justifyContent:"space-between",margin:0,minHeight:0,minWidth:0,padding:0,position:"relative",zIndex:0};i.flexInlineBase=babelHelpers["extends"]({},i.flexBase,{display:"inline-flex"});i.linkBase={backgroundColor:"transparent",backgroundImage:"none",boxSizing:"border-box",color:"inherit",cursor:"pointer",position:"relative",textDecoration:"none",zIndex:0};i.listBase={boxSizing:"border-box",listStyle:"none",marginBottom:0,marginTop:0,paddingStart:0};e.exports=i}),6);
__d("FBClipboardLink.react",["cx","fbt","Clipboard","DOMContainer.react","Event","KeyEventController","React","ReactDOM","SubscriptionsHandler","Tooltip.react","isKeyActivation","joinClasses","stylex"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=b("React").createRef(),d.state={copied:!1,supported:b("Clipboard").isSupported()},d.$2=null,d.$3=null,d.$5=function(a){a.clipboardData&&(a.clipboardData.setData("text/html",d.$8()),a.clipboardData.setData("text",d.$9()),a.preventDefault())},d.$7=function(){if(!d.state.supported)return"Unsupported in this browser";return d.state.copied?d.props.tooltipSuccess:d.props.tooltip},d.$4=function(){d.$3&&(window.clearTimeout(d.$3),d.$3=null)},d.$10=function(){d.$3=window.setTimeout(d.$11,d.props.tooltipSuccessDuration)},d.$6=function(a){var c=b("ReactDOM").findDOMNode(d.$1.current);c=b("Clipboard").copy(d.$8(),c);d.$4();d.setState({copied:!0,supported:c});d.$10();d.props.onComplete&&d.props.onComplete(c);d.props.stopPropagation&&a.stopPropagation();d.props.preventDefaultOnClick&&a.preventDefault()},d.$11=function(){d.$4(),d.setState({copied:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentWillUnmount=function(){this.$4(),this.$2&&this.$2.release()};d.componentDidMount=function(){if(this.props.type==="html"){var a=b("ReactDOM").findDOMNode(this);this.$2=this.$2||new(b("SubscriptionsHandler"))();this.$2.addSubscriptions(b("Event").listen(a,"copy",this.$5))}this.props.hotkey&&(this.$2=this.$2||new(b("SubscriptionsHandler"))(),this.$2.addSubscriptions(b("KeyEventController").registerKey(this.props.hotkey,this.$6)))};d.render=function(){var a=this,c=b("joinClasses")(this.props.className,"_xd6"),d=this.props.children||this.props.label;!d&&this.props.childrenDONOTUSE&&(d=b("React").jsx(b("DOMContainer.react"),{children:this.props.childrenDONOTUSE}));return b("React").jsx(b("Tooltip.react"),babelHelpers["extends"]({},this.props,{tabIndex:"0",className:c,tooltip:this.$7(),"data-pitloot-persistonclick":!0,onClick:this.$6,onKeyPress:function(c){return b("isKeyActivation")(c)&&a.$6()},position:this.props.position,alignH:this.props.alignment,role:"button",children:b("React").jsx("div",{ref:this.$1,className:b("joinClasses")("_2lj1",(i||(i=b("stylex")))(this.props.innerXStyle)),children:d})}))};d.$8=function(){if(this.props.getValue)return this.props.getValue();else return this.props.value};d.$9=function(){return this.props.plainTextValue!=null?this.props.plainTextValue:this.$8()};return c}(b("React").PureComponent);a.defaultProps={tooltip:h._("Copy text to clipboard"),tooltipSuccess:h._("Text copied to clipboard"),tooltipSuccessDuration:1e3,type:"string"};e.exports=a}),null);
__d("LoadingMarker.react",["LoadingMarkerGated","React"],(function(a,b,c,d,e,f){"use strict";function a(a){return a.children}e.exports=b("LoadingMarkerGated").component||a}),null);
__d("FBLoadShimmer.react",["cx","LoadingMarker.react","React","UserAgent","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.className,d=a.height,e=a.style,f=a.width;a=a.disableAnimation;var g=b("UserAgent").isBrowser("Safari")&&b("UserAgent").isPlatform("Mac OS X");a="_1tt"+(a?" _300z":"")+(g?" _72_f":"");g=b("React").jsx("div",{className:b("joinClasses")(c,a),style:babelHelpers["extends"]({height:d!=null?d+"px":void 0,width:f!=null?f+"px":void 0},e)});return b("React").jsx(b("LoadingMarker.react"),{children:g})}e.exports=a}),null);
__d("getOrCreateDOMID",["uniqueID"],(function(a,b,c,d,e,f){function a(a){a.id||(a.id=b("uniqueID")());return a.id}e.exports=a}),null);
__d("FocusEvent",["Event","Run","ge","getOrCreateDOMID"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={},h=!1;function i(a,b){if(g[a]){b=g[a].indexOf(b);b>=0&&g[a].splice(b,1);g[a].length===0&&delete g[a]}}function j(a){var b=a.getTarget();if(g[b.id]&&g[b.id].length>0){var c=a.type==="focusin"||a.type==="focus";g[b.id].forEach(function(a){a(c)})}}function k(){if(h)return;b("Event").listen(document.documentElement,"focusout",j);b("Event").listen(document.documentElement,"focusin",j);h=!0}a={listen:function(a,c){__p&&__p();k();var d=b("getOrCreateDOMID")(a);g[d]||(g[d]=[]);g[d].push(c);var e=!1;function f(){e||(i(d,c),h&&(h.remove(),h=null),e=!0)}var h=b("Run").onLeave(function(){b("ge")(d)||f()});return{remove:function(){f()}}}};e.exports=a}),null);
__d("KeyStatus",["Event","ExecutionEnvironment"],(function(a,b,c,d,e,f){__p&&__p();var g=null,h=null;function i(){h||(h=b("Event").listen(window,"blur",function(){g=null,j()}))}function j(){h&&(h.remove(),h=null)}function a(a){g=b("Event").getKeyCode(a),i()}function c(){g=null,j()}if(b("ExecutionEnvironment").canUseDOM){d=document.documentElement;if(d)if(d.addEventListener)d.addEventListener("keydown",a,!0),d.addEventListener("keyup",c,!0);else if(d.attachEvent){f=d.attachEvent;f("onkeydown",a);f("onkeyup",c)}}d={isKeyDown:function(){return!!g},getKeyDownCode:function(){return g}};e.exports=d}),null);
__d("Focus",["cx","CSS","Event","FocusEvent","KeyStatus","TooltipData","ifRequired"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("KeyStatus").isKeyDown,i={set:function(a,c){c===void 0&&(c=!1);if(a){var d=b("ifRequired")("VirtualCursorStatus",function(a){return a.isVirtualCursorTriggered()},function(){return!1});c||h()||d?j(a):i.setWithoutOutline(a)}},setWithoutOutline:function(a){if(a){b("CSS").addClass(a,"_5f0v");var c=b("Event").listen(a,"blur",function(){a&&b("CSS").removeClass(a,"_5f0v"),c.remove()});b("TooltipData").suppress(a,!0);j(a);b("TooltipData").suppress(a,!1)}},relocate:function(a,c){b("CSS").addClass(a,"_5f0v");return b("FocusEvent").listen(a,this.performRelocation.bind(this,a,c))},performRelocation:function(a,c,d){b("CSS").addClass(a,"_5f0v");a=b("ifRequired")("FocusRing",function(a){return a.usingKeyboardNavigation()},function(){return!0});d=d&&a;b("CSS").conditionClass(c,"_3oxt",d);b("CSS").conditionClass(c,"_16jm",d)}};function j(a){try{a.tabIndex=a.tabIndex,a.focus()}catch(a){}}e.exports=i}),null);
__d("ClickableArea.react",["Focus","React","ReactDOM"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){if(this.props.buttonRef){var a=this.props.buttonRef();b("Focus").relocate(b("ReactDOM").findDOMNode(a),b("ReactDOM").findDOMNode(this))}};d.render=function(){var a=this.props,c=a.children,d=a.onClick;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","onClick"]);return b("React").cloneElement(b("React").Children.only(c),babelHelpers["extends"]({},a,{onClick:d}))};return c}(b("React").Component);e.exports=a}),null);
__d("emptyObject",[],(function(a,b,c,d,e,f){"use strict";a={};e.exports=a}),null);
__d("CircularProgressBar.react",["cx","React","createReactClass_DEPRECATED","prop-types"],(function(a,b,c,d,e,f,g){"use strict";a=b("createReactClass_DEPRECATED")({displayName:"CircularProgressBar",propTypes:{animate:b("prop-types").bool,percentComplete:b("prop-types").number.isRequired,text:b("prop-types").string},render:function(){var a=this.props,c=a.animate,d=a.text;a=a.percentComplete;var e=360*a/100,f=Math.max(e,180)-180;e=Math.min(e,180);var g=a<100?"1":"0";return b("React").jsxs("div",{"aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":a,className:"_1_bj",role:"progressbar",style:{opacity:g},children:[!!d&&b("React").jsx("div",{className:"_22sa",children:d}),b("React").jsx("div",{className:"_1_bk",children:b("React").jsxs("div",{className:c?"_22sb":"",children:[b("React").jsx("div",{className:"_1_bl",style:{opacity:g}}),b("React").jsx("div",{className:"_1_bp _1_bq",children:b("React").jsx("div",{className:"_1_br",style:{transform:"translateX(-100%) rotate("+f+"deg)",opacity:g}})}),b("React").jsx("div",{className:"_1_bs _1_bq",children:b("React").jsx("div",{className:"_1_br",style:{transform:"translateX(-100%) rotate("+e+"deg)",opacity:g}})})]})})]})}});e.exports=a}),null);
__d("BasicVector",[],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a,b){this.x=a,this.y=b}var b=a.prototype;b.derive=function(b,c){return new a(b,c)};b.toString=function(){return"("+this.x+", "+this.y+")"};b.add=function(a,b){b===void 0&&(b=a.y,a=a.x);a=parseFloat(a);b=parseFloat(b);return this.derive(this.x+a,this.y+b)};b.mul=function(a,b){b===void 0&&(b=a);return this.derive(this.x*a,this.y*b)};b.div=function(a,b){b===void 0&&(b=a);return this.derive(this.x*1/a,this.y*1/b)};b.sub=function(a,b){if(arguments.length===1)return this.add(a.mul(-1));else return this.add(-a,-b)};b.distanceTo=function(a){return this.sub(a).magnitude()};b.magnitude=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};b.rotate=function(a){return this.derive(this.x*Math.cos(a)-this.y*Math.sin(a),this.x*Math.sin(a)+this.y*Math.cos(a))};return a}();e.exports=a}),null);
__d("getUnboundedScrollPosition",["Scroll"],(function(a,b,c,d,e,f){"use strict";function a(a){return a===window?{x:window.pageXOffset||b("Scroll").getLeft(document.documentElement),y:window.pageYOffset||b("Scroll").getTop(document.documentElement)}:{x:b("Scroll").getLeft(a),y:b("Scroll").getTop(a)}}e.exports=a}),null);
__d("DOMVector",["BasicVector","getDocumentScrollElement","getElementPosition","getUnboundedScrollPosition","getViewportDimensions"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c,d){b=a.call(this,b,c)||this;b.domain=d||"pure";return b}var d=c.prototype;d.derive=function(a,b,d){return new c(a,b,d||this.domain)};d.add=function(b,d){b instanceof c&&b.getDomain()!=="pure"&&(b=b.convertTo(this.domain));return a.prototype.add.call(this,b,d)};d.convertTo=function(a){__p&&__p();if(a!="pure"&&a!="viewport"&&a!="document")return this.derive(0,0);if(a==this.domain)return this.derive(this.x,this.y,this.domain);if(a=="pure")return this.derive(this.x,this.y);if(this.domain=="pure")return this.derive(0,0);var b=c.getScrollPosition("document"),d=this.x,e=this.y;this.domain=="document"?(d-=b.x,e-=b.y):(d+=b.x,e+=b.y);return this.derive(d,e,a)};d.getDomain=function(){return this.domain};c.from=function(a,b,d){return new c(a,b,d)};c.getScrollPosition=function(a){a=a||"document";var c=b("getUnboundedScrollPosition")(window);return this.from(c.x,c.y,"document").convertTo(a)};c.getElementPosition=function(a,c){c=c||"document";a=b("getElementPosition")(a);return this.from(a.x,a.y,"viewport").convertTo(c)};c.getElementDimensions=function(a){return this.from(a.offsetWidth||0,a.offsetHeight||0)};c.getViewportDimensions=function(){var a=b("getViewportDimensions")();return this.from(a.width,a.height,"viewport")};c.getLayoutViewportDimensions=function(){var a=b("getViewportDimensions").layout();return this.from(a.width,a.height,"viewport")};c.getViewportWithoutScrollbarDimensions=function(){var a=b("getViewportDimensions").withoutScrollbars();return this.from(a.width,a.height,"viewport")};c.getDocumentDimensions=function(a){a=b("getDocumentScrollElement")(a);return this.from(a.scrollWidth,a.scrollHeight,"document")};return c}(b("BasicVector"));e.exports=a}),null);
__d("Vector",["DOMVector","Event","Scroll"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c,d){return a.call(this,parseFloat(b),parseFloat(c),d)||this}var d=c.prototype;d.derive=function(a,b,d){return new c(a,b,d||this.domain)};d.setElementPosition=function(a){var b=this.convertTo("document");a.style.left=parseInt(b.x,10)+"px";a.style.top=parseInt(b.y,10)+"px";return this};d.setElementDimensions=function(a){return this.setElementWidth(a).setElementHeight(a)};d.setElementWidth=function(a){a.style.width=parseInt(this.x,10)+"px";return this};d.setElementHeight=function(a){a.style.height=parseInt(this.y,10)+"px";return this};d.scrollElementBy=function(a){if(a==document.body)window.scrollBy(this.x,this.y);else{var c;(c=b("Scroll")).setLeft(a,c.getLeft(a)+this.x);c.setTop(a,c.getTop(a)+this.y)}return this};c.from=function(a,b,d){return new c(a,b,d)};c.getEventPosition=function(a,c){c=c||"document";a=b("Event").getPosition(a);a=this.from(a.x,a.y,"document");return a.convertTo(c)};c.getTouchEventPosition=function(a,b){b===void 0&&(b="document");a=a.touches[0];a=this.from(a.pageX,a.pageY,"document");return a.convertTo(b)};c.deserialize=function(a){a=a.split(",");return this.from(a[0],a[1])};return c}(b("DOMVector"));e.exports=a}),null);
__d("flattenArray",[],(function(a,b,c,d,e,f){__p&&__p();function a(a){var b=[];g(a,b);return b}function g(a,b){var c=a.length,d=0;while(c--){var e=a[d++];Array.isArray(e)?g(e,b):b.push(e)}}e.exports=a}),null);
__d("JSXDOM",["DOM","FbtResultBase","flattenArray"],(function(a,b,c,d,e,f){__p&&__p();a=["a","blockquote","br","button","canvas","checkbox","dd","div","dl","dt","em","form","h1","h2","h3","h4","h5","h6","hr","i","iframe","img","input","label","li","option","p","pre","select","span","strong","table","tbody","thead","td","textarea","th","tr","ul","video"];var g={};a.forEach(function(a){var c=function(c,d){arguments.length>2&&(d=Array.prototype.slice.call(arguments,1));!d&&c&&(d=c.children,delete c.children);d&&(d=Array.isArray(d)?d:[d],d=d.map(function(a){return a instanceof b("FbtResultBase")?a.flattenToArray():a}),d=b("flattenArray")(d));return b("DOM").create(a,c,d)};g[a]=c});e.exports=g}),null);
__d("Rect",["invariant","Vector","$"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(){"use strict";__p&&__p();function a(c,d,e,f,h){__p&&__p();if(arguments.length===1){if(c instanceof a)return c;if(c instanceof b("Vector"))return new a(c.y,c.x,c.y,c.x,c.domain);typeof c==="string"&&(c=b("$")(c));return a.getElementBounds(c)}typeof c==="number"&&typeof d==="number"&&typeof e==="number"&&typeof f==="number"&&(!h||typeof h==="string")||g(0,1087);Object.assign(this,{t:c,r:d,b:e,l:f,domain:h||"pure"});return this}var c=a.prototype;c.w=function(){return this.r-this.l};c.h=function(){return this.b-this.t};c.getWidth=function(){return this.w()};c.getHeight=function(){return this.h()};c.toString=function(){return"(("+this.l+", "+this.t+"), ("+this.r+", "+this.b+"))"};c.contains=function(b){b=new a(b).convertTo(this.domain);var c=this;return c.l<=b.l&&c.r>=b.r&&c.t<=b.t&&c.b>=b.b};c.intersection=function(b){b=b.convertTo(this.domain);var c=Math.min(this.b,b.getBottom()),d=Math.max(this.l,b.getLeft()),e=Math.min(this.r,b.getRight());b=Math.max(this.t,b.getTop());return c>b&&e>d?new a(b,e,c,d):null};c.isEqualTo=function(a){return this.t===a.t&&this.r===a.r&&this.b===a.b&&this.l===a.l&&this.domain===a.domain};c.add=function(c,d){if(arguments.length==1){c instanceof a&&c.domain!="pure"&&(c=c.convertTo(this.domain));return c instanceof b("Vector")?this.add(c.x,c.y):this}var e=parseFloat(c),f=parseFloat(d);return new a(this.t+f,this.r+e,this.b+f,this.l+e,this.domain)};c.sub=function(a,c){if(arguments.length==1&&a instanceof b("Vector"))return this.add(a.mul(-1));else if(typeof a==="number"&&typeof c==="number")return this.add(-a,-c);return this};c.rotateAroundOrigin=function(b){var c=this.getCenter().rotate(b*Math.PI/2),d=0;b%2?(d=this.h(),b=this.w()):(d=this.w(),b=this.h());var e=c.y-b/2;c=c.x-d/2;b=e+b;d=c+d;return new a(e,d,b,c,this.domain)};c.boundWithin=function(a){var b=0,c=0;this.l<a.l?b=a.l-this.l:this.r>a.r&&(b=a.r-this.r);this.t<a.t?c=a.t-this.t:this.b>a.b&&(c=a.b-this.b);return this.add(b,c)};c.getCenter=function(){return new(b("Vector"))(this.l+this.w()/2,this.t+this.h()/2,this.domain)};c.getTop=function(){return this.t};c.getRight=function(){return this.r};c.getBottom=function(){return this.b};c.getLeft=function(){return this.l};c.getArea=function(){return(this.b-this.t)*(this.r-this.l)};c.getPositionVector=function(){return new(b("Vector"))(this.l,this.t,this.domain)};c.getDimensionVector=function(){return new(b("Vector"))(this.w(),this.h(),"pure")};c.convertTo=function(c){if(this.domain==c)return this;if(c=="pure")return new a(this.t,this.r,this.b,this.l,"pure");if(this.domain=="pure")return new a(0,0,0,0);var d=new(b("Vector"))(this.l,this.t,this.domain).convertTo(c);return new a(d.y,d.x+this.w(),d.y+this.h(),d.x,c)};a.deserialize=function(b){b=b.split(":");return new a(parseFloat(b[1]),parseFloat(b[2]),parseFloat(b[3]),parseFloat(b[0]))};a.newFromVectors=function(b,c){return new a(b.y,b.x+c.x,b.y+c.y,b.x,b.domain)};a.getElementBounds=function(c){return a.newFromVectors(b("Vector").getElementPosition(c),b("Vector").getElementDimensions(c))};a.getViewportBounds=function(){return a.newFromVectors(b("Vector").getScrollPosition(),b("Vector").getViewportDimensions())};a.getViewportWithoutScrollbarsBounds=function(){return a.newFromVectors(b("Vector").getScrollPosition(),b("Vector").getViewportWithoutScrollbarDimensions())};a.minimumBoundingBox=function(b){var c=new a(Infinity,-Infinity,-Infinity,Infinity),d;for(var e=0;e<b.length;e++)d=b[e],c.t=Math.min(c.t,d.t),c.r=Math.max(c.r,d.r),c.b=Math.max(c.b,d.b),c.l=Math.min(c.l,d.l);return c};return a}();e.exports=a}),null);
__d("ViewportBounds",["Arbiter","ArbiterMixin","BlueBar","PageEvents","Vector","emptyFunction","removeFromArray"],(function(a,b,c,d,e,f){__p&&__p();var g={top:[],right:[],bottom:[],left:[]};function a(a){return function(){return g[a].reduce(function(a,b){return Math.max(a,b.getSize())},0)}}function c(a,b){return function(c){return new h(a,c,b)}}var h=function(){"use strict";function a(a,c,d){d===void 0&&(d=!1),this.getSide=b("emptyFunction").thatReturns(a),this.getSize=function(){return typeof c==="function"?c():c},this.isPersistent=b("emptyFunction").thatReturns(d),g[a].push(this),i.inform("change")}var c=a.prototype;c.remove=function(){b("removeFromArray")(g[this.getSide()],this),i.inform("change")};return a}();b("Arbiter").subscribe(b("PageEvents").AJAXPIPE_ONUNLOAD,function(){["top","right","bottom","left"].forEach(function(a){a=g[a];for(var b=a.length-1;b>=0;b--){var c=a[b];c.isPersistent()||c.remove()}})});var i=babelHelpers["extends"]({},b("ArbiterMixin"),{getTop:a("top"),getRight:a("right"),getBottom:a("bottom"),getLeft:a("left"),getElementPosition:function(a){a=b("Vector").getElementPosition(a);a.y-=i.getTop();return a},addTop:c("top"),addRight:c("right"),addBottom:c("bottom"),addLeft:c("left"),addPersistentTop:c("top",!0),addPersistentRight:c("right",!0),addPersistentBottom:c("bottom",!0),addPersistentLeft:c("left",!0)});i.addPersistentTop(function(){if(b("BlueBar").hasFixedBlueBar()){var a=b("BlueBar").getMaybeFixedRoot();return a?a.offsetHeight:0}return 0});e.exports=i}),null);
__d("getOverlayZIndex",["Style"],(function(a,b,c,d,e,f){__p&&__p();function a(a,c){__p&&__p();c=c;a=a;c=c||document.body;var d=[];while(a&&a!==c)d.push(a),a=a.parentNode;if(a!==c)return 0;for(var a=d.length-1;a>=0;a--){c=d[a];if(b("Style").get(c,"position")!="static"){c=parseInt(b("Style").get(c,"z-index"),10);if(!isNaN(c))return c}}return 0}e.exports=a}),null);
__d("ARIA",["DOM","emptyFunction","ge","getOrCreateDOMID"],(function(a,b,c,d,e,f){__p&&__p();var g,h,i=function(){g=b("ge")("ariaAssertiveAlert"),g||(g=b("DOM").create("div",{id:"ariaAssertiveAlert",className:"accessible_elem","aria-live":"assertive"}),b("DOM").appendContent(document.body,g)),h=b("ge")("ariaPoliteAlert"),h||(h=g.cloneNode(!1),h.setAttribute("id","ariaPoliteAlert"),h.setAttribute("aria-live","polite"),b("DOM").appendContent(document.body,h)),i=b("emptyFunction")};function j(a,c){i();c=c?g:h;b("DOM").setContent(c,a)}a={controls:function(a){for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];var f=d.map(function(a){return b("getOrCreateDOMID")(a)}).join(" ");a.setAttribute("aria-controls",f)},describedBy:function(a){for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];var f=d.map(function(a){return b("getOrCreateDOMID")(a)}).join(" ");a.setAttribute("aria-describedby",f)},owns:function(a,c){a.setAttribute("aria-owns",b("getOrCreateDOMID")(c))},setPopup:function(a,c){c=b("getOrCreateDOMID")(c);a.setAttribute("aria-controls",c);a.setAttribute("aria-haspopup","true");c=a.getAttribute("role")||"";c&&a.setAttribute("role",c)},announce:function(a){j(a,!0)},notify:function(a){j(a,!1)}};e.exports=a}),null);
__d("ContextualThing",["CSS","containsNode","ge","getOrCreateDOMID"],(function(a,b,c,d,e,f){__p&&__p();var g={register:function(a,c){a.setAttribute("data-ownerid",b("getOrCreateDOMID")(c))},containsIncludingLayers:function(a,c){c=c;while(c){if(b("containsNode")(a,c))return!0;c=g.getContext(c)}return!1},getContext:function(a){a=a;var c;while(a){if(a.getAttribute&&(c=a.getAttribute("data-ownerid")))return b("ge")(c);a=a.parentNode}return null},parentByClass:function(a,c){a=a;var d;while(a&&!b("CSS").hasClass(a,c))a.getAttribute&&(d=a.getAttribute("data-ownerid"))?a=b("ge")(d):a=a.parentNode;return a}};e.exports=g}),null);
__d("BehaviorsMixin",[],(function(a,b,c,d,e,f){__p&&__p();var g=function(){"use strict";function a(a){this.$1=a,this.$2=!1}var b=a.prototype;b.enable=function(){this.$2||(this.$2=!0,this.$1.enable())};b.disable=function(){this.$2&&(this.$2=!1,this.$1.disable())};return a}(),h=1;function i(a){a.__BEHAVIOR_ID||(a.__BEHAVIOR_ID=h++);return a.__BEHAVIOR_ID}a={enableBehavior:function(a){this._behaviors||(this._behaviors={});var b=i(a);this._behaviors[b]||(this._behaviors[b]=new g(new a(this)));this._behaviors[b].enable();return this},disableBehavior:function(a){if(this._behaviors){a=i(a);this._behaviors[a]&&this._behaviors[a].disable()}return this},enableBehaviors:function(a){a.forEach(this.enableBehavior,this);return this},destroyBehaviors:function(){if(this._behaviors){for(var a in this._behaviors)this._behaviors[a].disable();this._behaviors={}}},hasBehavior:function(a){return this._behaviors&&i(a)in this._behaviors}};e.exports=a}),null);
__d("isValidReactElement",[],(function(a,b,c,d,e,f){var g=typeof Symbol==="function"&&Symbol["for"]&&Symbol["for"]("react.element")||60103;function a(a){return!!(typeof a==="object"&&a!==null&&a.$$typeof===g)}e.exports=a}),null);
__d("BootloadedReact",["Bootloader","isValidReactElement"],(function(a,b,c,d,e,f){__p&&__p();var g=function(a){b("Bootloader").loadModules(["ReactDOM"],a,"BootloadedReact")};a={isValidElement:function(a){return b("isValidReactElement")(a)},render:function(a,b,c){g(function(d){d.render(a,b,function(){c&&c(this)})})},unmountComponentAtNode:function(a,b){g(function(c){c.unmountComponentAtNode(a),b&&b()})}};e.exports=a}),null);
__d("Layer",["invariant","KeyStatus","ArbiterMixin","BehaviorsMixin","BootloadedReact","ContextualThing","CSS","DataStore","DOM","Event","FBLogger","HTML","KeyEventController","Parent","Style","ge","isNode","mixin","removeFromArray","setImmediate"],(function(a,b,c,d,e,f,g){__p&&__p();b("KeyStatus");var h=[],i=function(c){"use strict";__p&&__p();babelHelpers.inheritsLoose(a,c);function a(a,d){__p&&__p();var e;e=c.call(this)||this;e._config=a||{};if(d){e._configure(e._config,d);a=e._config.addedBehaviors||[];e.enableBehaviors(e._getDefaultBehaviors().concat(a))}else b("FBLogger")("layer").warn("The markup param wasn't provided to the Layer constructor");return e}var d=a.prototype;d.init=function(a){this._configure(this._config,a);a=this._config.addedBehaviors||[];this.enableBehaviors(this._getDefaultBehaviors().concat(a));this._initialized=!0;return this};d._configure=function(a,c){__p&&__p();var d=this;if(c){var e=b("isNode")(c),f=typeof c==="string"||b("HTML").isHTML(c);this.containsReactComponent=b("BootloadedReact").isValidElement(c);!e&&!f&&!this.containsReactComponent&&b("FBLogger")("layer").warn("Layer must be init with HTML, DOM node or React instance");if(f)c=b("HTML")(c).getRootNode();else if(this.containsReactComponent){e=document.createElement("div");var g=!0;b("BootloadedReact").render(c,e,function(){d.inform("reactshow"),g||d.updatePosition()});g=!1;c=this._reactContainer=e}}this._root=this._buildWrapper(a,c);a.attributes&&b("DOM").setAttributes(this._root,a.attributes);a.classNames&&a.classNames.forEach(b("CSS").addClass.bind(null,this._root));b("CSS").addClass(this._root,"uiLayer");a.causalElement&&(this._causalElement=b("ge")(a.causalElement));a.permanent&&(this._permanent=a.permanent);a.isStrictlyControlled&&(this._isStrictlyControlled=a.isStrictlyControlled);b("DataStore").set(this._root,"layer",this);return this};d._getDefaultBehaviors=function(){return[]};d.getCausalElement=function(){return this._causalElement};d.setCausalElement=function(a){this._causalElement=a;return this};d.getInsertParent=function(){return this._insertParent||document.body};d.getRoot=function(){this._root||(this._destroyed?b("FBLogger")("layer").warn("No root node for this Layer. It has either not yet been set or the Layer has been destroyed.  This layer has been destroyed."):b("FBLogger")("layer").warn("No root node for this Layer. It has probably not been set."));return this._root};d.getContentRoot=function(){return this.getRoot()};d._buildWrapper=function(a,b){return b};d.setInsertParent=function(a){a&&(this._shown&&a!==this.getInsertParent()&&(b("DOM").appendContent(a,this.getRoot()),this.updatePosition()),this._insertParent=a);return this};d.showAfterDelay=function(a){window.setTimeout(this.show.bind(this),a)};d.show=function(){__p&&__p();var c=this;if(this._shown)return this;var d=this.getRoot();d!=null||g(0,5142);this.inform("beforeshow");b("Style").set(d,"visibility","hidden");b("Style").set(d,"overflow","hidden");b("CSS").show(d);b("DOM").appendContent(this.getInsertParent(),d);this.updatePosition()!==!1?(this._shown=!0,this.inform("show"),a.inform("show",this),this._permanent||window.setTimeout(function(){c._shown&&h.push(c)},0)):b("CSS").hide(d);b("Style").set(d,"visibility","");b("Style").set(d,"overflow","");b("Style").set(d,"opacity","1");this.inform("aftershow");return this};d.hide=function(a){if(this._isStrictlyControlled){this._shown&&this.inform("runhide",a);return this}return this._hide()};d._hide=function(){if(this._hiding||!this._shown||this.inform("beforehide")===!1)return this;this._hiding=!0;this.inform("starthide")!==!1&&this.finishHide();return this};d.conditionShow=function(a){return a?this.show():this._hide()};d.finishHide=function(){__p&&__p();if(this._shown){this._permanent||b("removeFromArray")(h,this);this._hiding=!1;this._shown=!1;var c=this.getRoot();c!=null||g(0,5143);b("CSS").hide(c);this.inform("hide");a.inform("hide",this)}};d.isShown=function(){return this._shown};d.updatePosition=function(){return!0};d.destroy=function(){__p&&__p();this.containsReactComponent&&b("BootloadedReact").unmountComponentAtNode(this._reactContainer);this.finishHide();var c=this.getRoot();b("DOM").remove(c);this.destroyBehaviors();this.inform("destroy");a.inform("destroy",this);b("DataStore").remove(c,"layer");this._root=this._causalElement=null;this._destroyed=!0};a.init=function(a,b){a.init(b)};a.initAndShow=function(a,b){a.init(b).show()};a.show=function(a){a.show()};a.showAfterDelay=function(a,b){a.showAfterDelay(b)};a.getTopmostLayer=function(){return h[h.length-1]};a.informBlur=function(a){__p&&__p();j=null;k=null;var c=h.length;if(!c)return;while(c--){var d=h[c],e=d.getContentRoot();e!=null||g(0,5144);if(b("ContextualThing").containsIncludingLayers(e,a))return;if(d.inform("blur",{target:a})===!1||d.isShown())return}};return a}(b("mixin")(b("ArbiterMixin"),b("BehaviorsMixin")));Object.assign(i,b("ArbiterMixin"));Object.assign(i.prototype,{_destroyed:!1,_initialized:!1,_root:null,_shown:!1,_hiding:!1,_causalElement:null,_reactContainer:null});b("Event").listen(document.documentElement,"keydown",function(a){if(b("KeyEventController").filterEventTargets(a,"keydown"))for(var c=h.length-1;c>=0;c--)if(h[c].inform("key",a)===!1)return!1;return!0},b("Event").Priority.URGENT);var j;b("Event").listen(document.documentElement,"mousedown",function(a){j=a.getTarget()});var k;b("Event").listen(document.documentElement,"mouseup",function(a){k=a.getTarget(),b("setImmediate")(function(){j=null,k=null})});b("Event").listen(document.documentElement,"click",function(a){__p&&__p();var c=j,d=k;j=null;k=null;var e=h.length;if(!e)return;e=a.getTarget();if(e!==d||e!==c)return;if(!b("DOM").contains(document.documentElement,e))return;if(e.offsetWidth!=null&&!e.offsetWidth)return;if(b("Parent").byClass(e,"generic_dialog"))return;i.informBlur(e)});e.exports=i}),null);
__d("SVGChecker",[],(function(a,b,c,d,e,f){e.exports={isSVG:function(a){return!!a.ownerSVGElement||a.tagName.toLowerCase()==="svg"},isDisplayed:function(a){try{a=a.getBBox();if(a&&(a.height===0||a.width===0))return!1}catch(a){return!1}return!0}}}),null);
__d("ContextualLayer",["invariant","requireCond","Arbiter","ARIA","Bootloader","ContextualLayerAlignmentEnum","ContextualLayerPositionEnum","ContextualThing","CSS","DataStore","DOM","Event","Layer","cr:971473","Locale","Parent","Rect","Scroll","Style","SVGChecker","Vector","containsNode","emptyFunction","getOffsetParent","getOrCreateDOMID","getOverlayZIndex","getOwnObjectValues","isElementNode","killswitch","removeFromArray","throttle"],(function(a,b,c,d,e,f,g){__p&&__p();function h(a){return a.getPosition()==="left"||a.isVertical()&&a.getAlignment()==="right"}a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d._configure=function(b,c){b.dialogRole!=="dialog"&&(this._dialogRole=b.dialogRole),b.shouldSetARIAProperties===!1&&(this._shouldSetARIAProperties=b.shouldSetARIAProperties),b.label&&(this._label=b.label),b.labelledBy&&(this._labelledBy=b.labelledBy),a.prototype._configure.call(this,b,c),b.context?this.setContext(b.context):b.contextID?this._setContextID(b.contextID):b.contextSelector&&(this._setContextSelector(b.contextSelector),this._setARIAProperties()),this.setPosition(b.position),this.setAlignment(b.alignment),this.setOffsetX(b.offsetX),this.setOffsetY(b.offsetY),this.setArrowDimensions(b.arrowDimensions),this._content=c};d._getDefaultBehaviors=function(){var d=c.getDefaultBehaviorsAsObject();return a.prototype._getDefaultBehaviors.call(this).concat(b("getOwnObjectValues")(d))};d._buildWrapper=function(a,c){this._contentWrapper=b("DOM").create("div",{className:"uiContextualLayer"},c);this._dialogRole&&this._contentWrapper.setAttribute("role",this._dialogRole);this._labelledBy?this._contentWrapper.setAttribute("aria-labelledby",this._labelledBy):this._label&&this._contentWrapper.setAttribute("aria-label",this._label);this._dialogRole==="alert"&&this._contentWrapper.setAttribute("aria-atomic","true");return b("DOM").create("div",{className:"uiContextualLayerPositioner","data-testid":a["data-testid"]},this._contentWrapper)};d.getInsertParent=function(){var c=this._insertParent;if(!c){var d=this.getContext();d&&(c=b("Parent").byClass(d,"uiContextualLayerParent"))}return c||a.prototype.getInsertParent.call(this)};d.setContent=function(a){this._content=a;b("DOM").setContent(this._contentWrapper,this._content);this._shown&&this.updatePosition();return this};d.setContext=function(a){return this.setContextWithBounds(a,null)};d.setContextWithBounds=function(a,c){__p&&__p();if(this._contextNode===a&&c&&this._contextBounds&&c.isEqualTo(this._contextBounds))return this;this._contextNode=a;var d=c&&this._contextBounds&&c.t===this._contextBounds.t&&c.r===this._contextBounds.r&&c.b===this._contextBounds.b&&c.l===this._contextBounds.l;if(d)return this;this._contextBounds=c||null;this._contextSelector="#"+b("getOrCreateDOMID")(a);this._contextScrollParent=null;this._shown&&(b("ContextualThing").register(this.getRoot(),this._contextNode),this.updatePosition());this._setParentSubscription();this._setARIAProperties();return this};d.shouldSetARIAProperties=function(a){this._shouldSetARIAProperties=a;return this};d._setARIAProperties=function(){if(!this._shouldSetARIAProperties)return this;this._dialogRole==="dialog"?b("ARIA").setPopup(this.getCausalElement(),this.getRoot()):this._dialogRole==="region"&&b("Bootloader").loadModules(["ContextualLayerInlineTabOrder"],function(a){this.hasBehavior(a)||this.enableBehavior(a)}.bind(this),"ContextualLayer");return this};d._setContextID=function(a){this._contextSelector="#"+a,this._contextNode=null};d._setContextSelector=function(a){this._contextSelector=a,this._contextNode=null};d.getCausalElement=function(){return a.prototype.getCausalElement.call(this)||this.getContext()};d._setParentSubscription=function(){__p&&__p();var a=this.getContext(),c=null;while(a!=null){c=b("DataStore").get(a,"layer");if(c)break;a=a.parentNode}if(c===this._parentLayer)return;this._parentLayer&&this._parentSubscription&&(this._parentLayer.unsubscribe(this._parentSubscription),this._parentSubscription=null);c&&(this._parentSubscription=c.subscribe("hide",this.hide.bind(this)));this._parentLayer=c};d.setPosition=function(a){this.getOrientation().setDefaultPosition(a)&&(this._shown&&this.updatePosition());return this};d.setAlignment=function(a){this.getOrientation().setDefaultAlignment(a)&&(this._shown&&this.updatePosition());return this};d.setOffsetX=function(a){this.getOrientation().setDefaultOffsetX(a)&&(this._shown&&this.updatePosition());return this};d.setArrowDimensions=function(a){a&&this.getOrientation().setArrowOffset(a.offset)&&(this._shown&&this.updatePosition());return this};d.setOffsetY=function(a){this.getOrientation().setDefaultOffsetY(a)&&(this._shown&&this.updatePosition());return this};d.getPosition=function(){return this.getOrientation().getPosition()};d.getOrientation=function(){this._orientation||(this._orientation=new l());return this._orientation};d.getContentRoot=function(){return this._contentWrapper};d.getContent=function(){return this._content};d.getContext=function(){this._contextNode||(this._contextSelector!=null||g(0,11711),this._contextNode=b("DOM").find(document,this._contextSelector));return this._contextNode};d.getContextBounds=function(a){if(this._contextBounds)return this._contextBounds.convertTo(a);var c=this.getContext();return b("Rect").newFromVectors(b("Vector").getElementPosition(c,a),b("Vector").getElementDimensions(c))};d.getContextScrollParent=function(){!this._contextScrollParent?this._contextScrollParent=b("Style").getScrollParent(this.getContext()):b("isElementNode")(this._contextScrollParent)&&!b("containsNode")(document.documentElement,this._contextScrollParent)&&(this._contextScrollParent=b("Style").getScrollParent(this.getContext()));return this._contextScrollParent};d.setInsertParent=function(b){this._insertScrollParent=null;return a.prototype.setInsertParent.call(this,b)};d.getInsertScrollParent=function(){this._insertScrollParent||(this._insertScrollParent=b("Style").getScrollParent(this.getInsertParent()));return this._insertScrollParent};d.show=function(){var c=this;if(this._shown)return this;a.prototype.show.call(this);b("Arbiter").inform("contextualLayer/toggle",{show:!0,contentRoot:this.getRoot()});this._shown&&(b("ContextualThing").register(this.getRoot(),this.getContext()),i.push(this),this._resizeListener=this._resizeListener||b("Event").listen(window,"resize",b("throttle")(function(){c._shown&&c.updatePosition()})));return this};d.finishHide=function(){b("removeFromArray")(i,this);this._resizeListener&&this._resizeListener.remove();this._resizeListener=null;this._insertScrollParent=null;b("Arbiter").inform("contextualLayer/toggle",{show:!1,contentRoot:this.getRoot()});return a.prototype.finishHide.call(this)};d.isFixed=function(){return b("Style").isFixed(this.getContext())&&!b("Style").isFixed(this.getInsertParent())};d.updatePosition=function(){__p&&__p();var a=this.getContext();if(!a)return!1;var c=this.isFixed();if(!c&&!(a.offsetParent||b("SVGChecker").isSVG(a)&&b("SVGChecker").isDisplayed(a)))return!1;var d=this.getRoot(),e=!b("killswitch")("CONTEXTUAL_POSITIONING_MOBILE_FIX"),f=e?b("Vector").getLayoutViewportDimensions().x:b("Vector").getViewportDimensions().x;b("Style").set(d,"width",f+"px");var g=this.getOrientation();this.inform("adjust",g.reset());if(!g.isValid())return!1;this._updateWrapperPosition(g);this._updateWrapperClass(g);b("CSS").conditionClass(d,"uiContextualLayerPositionerFixed",c);var i=c?"viewport":"document",j=c?document.documentElement:b("getOffsetParent")(d);if(c&&e)c=new(b("Vector"))(0,0),e=f;else if(j===document.documentElement)c=new(b("Vector"))(0,0),e=document.documentElement.clientWidth;else if(!d.offsetParent)return!1;else c=b("Vector").getElementPosition(j,i),e=j.offsetWidth,j!==document.body&&(c=c.sub(new(b("Vector"))(b("Scroll").getLeft(j),b("Scroll").getTop(j))));f=this.getContextBounds(i);j=f.l-c.x;i=f.t-c.y;c=f.h();f=f.w();var k=b("Locale").isRTL();g.getPosition()==="below"&&(i+=c);(g.getPosition()==="right"||g.isVertical()&&g.getAlignment()==="right")!=k&&(j+=f);c=g.getOffsetX();g.isVertical()&&g.getAlignment()==="center"&&(c+=(f-this.getContentRoot().offsetWidth)/2);k&&(c*=-1);f="left";j=Math.floor(j+c);h(g)!==k&&(f="right",j=e-j);b("Style").set(d,f,j+"px");b("Style").set(d,f==="left"?"right":"left","");c=this.getInsertScrollParent();k=0;c!==window?(e=c.clientWidth,k=b("Vector").getElementPosition(c).x):e=document.documentElement.clientWidth;j=b("Vector").getElementPosition(d).x-k;f==="left"&&e-j>0?b("Style").set(d,"width",e-j+"px"):f==="right"&&j+d.offsetWidth>0?b("Style").set(d,"width",j+d.offsetWidth+"px"):b("Style").set(d,"width","");b("Style").set(d,"top",i+g.getOffsetY()+"px");c=b("getOverlayZIndex")(a,this.getInsertParent());b("Style").set(d,"z-index",c>200?c:"");this.inform("reposition",g);return!0};d._updateWrapperPosition=function(a){var c=a.getPosition()==="above";b("Style").set(this._contentWrapper,"bottom",c?"0":null);c=b("Locale").isRTL()?"left":"right";a=h(a);b("Style").set(this._contentWrapper,c,a?"0":null)};d._updateWrapperClass=function(a){a=a.getClassName();if(a===this._orientationClass)return;this._orientationClass&&b("CSS").removeClass(this._contentWrapper,this._orientationClass);this._orientationClass=a;b("CSS").addClass(this._contentWrapper,a)};d.simulateOrientation=function(a,c){__p&&__p();a=a.getClassName();if(a===this._orientationClass)return c();else{this._orientationClass&&b("CSS").removeClass(this._contentWrapper,this._orientationClass);b("CSS").addClass(this._contentWrapper,a);c=c();b("CSS").removeClass(this._contentWrapper,a);this._orientationClass&&b("CSS").addClass(this._contentWrapper,this._orientationClass);return c}};d.destroy=function(){a.prototype.destroy.call(this);this._contentWrapper=null;this._content=null;return this};d.getArrowDimensions=function(){return this._config.arrowDimensions||{offset:0,length:0}};c.getDefaultBehaviorsAsObject=function(){return b("cr:971473")==null?{}:{LayerHideOnTransition:b("cr:971473")}};return c}(b("Layer"));var i=[];b("Arbiter").subscribe("reflow",function(){i.forEach(function(a){a.updatePosition()===!1&&a.hide()})});Object.assign(a.prototype,{_contentWrapper:null,_content:null,_contextNode:null,_contextBounds:null,_contextSelector:null,_dialogRole:"dialog",_label:null,_labelledBy:[],_parentLayer:null,_parentSubscription:null,_orientation:null,_orientationClass:null,_shouldSetARIAProperties:!0});var j=b("emptyFunction").thatReturnsArgument,k=b("emptyFunction").thatReturnsArgument,l=function(){"use strict";__p&&__p();function a(){this._default={_position:"above",_alignment:"left",_offsetX:0,_offsetY:0,_valid:!0,_preferMoreContentShownRect:!1},this.reset()}var b=a.prototype;b.setPosition=function(a){this._position=j(a);return this};b.setAlignment=function(a){this._alignment=k(a);return this};b.getOppositePosition=function(){return a.OPPOSITE[this.getPosition()]};b.invalidate=function(){this._valid=!1;return this};b.getPosition=function(){return this._position||"above"};b.getAlignment=function(){return this._alignment||"left"};b.getOffsetX=function(){var a=this._offsetX||0;!this.isVertical()?this._default._position!==this._position&&(a*=-1):this._default._alignment!==this._alignment&&(a*=-1);return a};b.getOffsetY=function(){var a=this._offsetY||0;this.isVertical()&&this._default._position!==this._position&&(a*=-1);return a};b.getClassName=function(){__p&&__p();var a=this.getAlignment(),b=this.getPosition();if(b==="below")if(a==="left")return"uiContextualLayerBelowLeft";else if(a==="right")return"uiContextualLayerBelowRight";else return"uiContextualLayerBelowCenter";else if(b==="above")if(a==="left")return"uiContextualLayerAboveLeft";else if(a==="right")return"uiContextualLayerAboveRight";else return"uiContextualLayerAboveCenter";else if(b==="left")return"uiContextualLayerLeft";else return"uiContextualLayerRight"};b.isValid=function(){return this._valid};b.isVertical=function(){return this.getPosition()==="above"||this.getPosition()==="below"};b.reset=function(){Object.assign(this,this._default);return this};b.setDefaultPosition=function(a){var b=this._default._position;this._default._position=j(a);return b!==a};b.setDefaultAlignment=function(a){var b=this._default._alignment;this._default._alignment=k(a);return b!==a};b.setDefaultOffsetX=function(a){var b=this._default._offsetX;this._default._offsetX=a;return b!==a};b.setArrowOffset=function(a){var b=this._default._arrowOffset;this._default._arrowOffset=a;return b!==a};b.getArrowOffset=function(){return this._default._arrowOffset||0};b.setDefaultOffsetY=function(a){var b=this._default._offsetY;this._default._offsetY=a;return b!==a};b.setPreferMoreContentShownRect=function(a){var b=this._default._preferMoreContentShownRect;this._default._preferMoreContentShownRect=a;return b!==a};b.getPreferMoreContentShownRect=function(){return this._default._preferMoreContentShownRect};return a}();l.OPPOSITE={above:"below",below:"above",left:"right",right:"left"};e.exports=a}),null);
__d("LayerHideSources",[],(function(a,b,c,d,e,f){a=Object.freeze({BLUR:"blur",ESCAPE:"escape",LAYER_CANCEL_BUTTON:"layerCancelButton",LAYER_HIDE_BUTTON:"layerHideButton",TRANSITION:"transition"});e.exports=a}),null);
__d("LayerButtons",["csx","Button","Event","LayerHideSources","Parent"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this._layer=a}var c=a.prototype;c.enable=function(){this._listener=b("Event").listen(this._layer.getRoot(),"click",this._handle.bind(this))};c.disable=function(){this._listener.remove(),this._listener=null};c._handle=function(a){__p&&__p();var c=a.getTarget(),d=b("Parent").byClass(c,"layerHide");if(d){this._layer.hide(b("LayerHideSources").LAYER_HIDE_BUTTON);return}d=b("Parent").byClass(c,"layerConfirm");if(d){if(this._isButton(d)&&!b("Button").isEnabled(d))return;if(this._isInNestedLayer(d))return;this._layer.inform("confirm",d)===!1&&a.prevent();return}d=b("Parent").byClass(c,"layerCancel");if(d){if(this._isButton(d)&&!b("Button").isEnabled(d))return;if(this._isInNestedLayer(d))return;this._layer.inform("cancel",d)!==!1&&this._layer.hide(b("LayerHideSources").LAYER_CANCEL_BUTTON);a.prevent();return}d=b("Parent").byClass(c,"layerButton");if(d){if(this._isButton(d)&&!b("Button").isEnabled(d))return;if(this._isInNestedLayer(d))return;this._layer.inform("button",d)===!1&&a.prevent()}};c._isInNestedLayer=function(a){a=b("Parent").byClass(a,"uiLayer");var c=this._layer.getRoot();return!!(a&&c!==a)};c._isButton=function(a){return!!(b("Parent").byClass(a,"uiButton")||b("Parent").bySelector(a,"._42ft"))};return a}();a.prototype._listener=null;e.exports=a}),null);
__d("LayerFormHooks",["Event"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this._layer=a}var c=a.prototype;c.enable=function(){var a=this._layer.getRoot();this._subscriptions=[b("Event").listen(a,"submit",this._onSubmit.bind(this)),b("Event").listen(a,"success",this._onSuccess.bind(this)),b("Event").listen(a,"error",this._onError.bind(this))]};c.disable=function(){this._subscriptions.forEach(function(a){a.remove()}),this._subscriptions=null};c._onSubmit=function(a){this._layer.inform("submit",a)===!1&&a.kill()};c._onSuccess=function(a){this._layer.inform("success",a)===!1&&a.kill()};c._onError=function(a){var b=a.getData();this._layer.inform("error",{response:b.response})===!1&&a.kill()};return a}();Object.assign(a.prototype,{_subscriptions:null});e.exports=a}),null);
__d("LayerRefocusOnHide",["ContextualThing","DOM","DOMQuery","Focus","Parent","getActiveElement","nullthrows"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this._layer=a}var c=a.prototype;c.enable=function(){this._subscription=this._layer.subscribe("hide",this._handle.bind(this))};c.disable=function(){b("nullthrows")(this._subscription).unsubscribe(),this._subscription=null};c._handle=function(){__p&&__p();var a=b("getActiveElement")();if(a===document.body||b("DOMQuery").contains(this._layer.getRoot(),a)){a=this._layer.getCausalElement();while(a&&!a.offsetWidth){var c=b("Parent").byClass(a,"uiToggle");if(c&&c.offsetWidth)a=b("DOM").scry(c,'[rel="toggle"]')[0];else{c=b("ContextualThing").getContext(a);c?a=c:a=a.parentNode}}a&&(a=a,b("Focus").set(a))}};return a}();Object.assign(a.prototype,{_subscription:null});e.exports=a}),null);
__d("TabbableElements",["Style"],(function(a,b,c,d,e,f){__p&&__p();function g(a){__p&&__p();if(a.tabIndex<0)return!1;if(a.tabIndex>0||a.tabIndex===0&&a.getAttribute("tabIndex")!==null)return!0;var b=a;switch(a.tagName){case"A":a=b;return!!a.href&&a.rel!="ignore";case"INPUT":a=b;return a.type!="hidden"&&a.type!="file"&&!a.disabled;case"BUTTON":case"SELECT":case"TEXTAREA":a=b;return!a.disabled}return!1}function h(a){a=a;while(a&&a!==document&&b("Style").get(a,"visibility")!="hidden"&&b("Style").get(a,"display")!="none")a=a.parentNode;return a===document}var i={find:function(a){return Array.from(a.getElementsByTagName("*")).filter(i.isTabbable)},findFirst:function(a){return Array.from(a.getElementsByTagName("*")).find(i.isTabbable)},findLast:function(a){a=Array.from(a.getElementsByTagName("*"));for(var b=a.length-1;b>=0;b--)if(i.isTabbable(a[b]))return a[b];return null},isTabbable:function(a){return g(a)&&h(a)},isVisible:function(a){return h(a)}};e.exports=i}),null);
__d("LayerHideOnEscape",["Event","Keys","LayerHideSources"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this._layer=a}var c=a.prototype;c.enable=function(){this._subscription=this._layer.subscribe("key",this.handle.bind(this))};c.disable=function(){this._subscription!=null&&this._subscription.unsubscribe(),this._subscription=null};c.handle=function(a,c){if(b("Event").getKeyCode(c)===b("Keys").ESC){this._layer.hide(b("LayerHideSources").ESCAPE);return!1}return void 0};return a}();Object.assign(a.prototype,{_subscription:null});e.exports=a}),null);
__d("ReactAbstractContextualDialog",["ContextualDialog","ContextualDialogArrow","ContextualDialogKeepInViewport","LayerAutoFocus","LayerHideOnBlur","LayerHideOnEscape","LayerRefocusOnHide","React","ReactDOM","prop-types"],(function(a,b,c,d,e,f){__p&&__p();a={createSpec:function(a){__p&&__p();var c;return{displayName:a.displayName,propTypes:{position:(c=b("prop-types")).oneOf(["above","below","left","right"]),alignment:c.oneOf(["left","center","right"]),offsetX:c.number,offsetY:c.number,width:c.number,autoFocus:c.bool,focusContextOnHide:c.bool,arrowBehavior:c.func,behaviors:c.object,shown:c.bool,context:c.object,contextRef:c.func,dialogRole:c.oneOf(["dialog","region","alert"]),hoverContext:c.object,hoverContextRef:c.func,hoverShowDelay:c.number,hoverHideDelay:c.number,hideOnBlur:c.bool,hideOnEscape:c.bool,insertParent:c.object,keepInViewport:c.bool,label:c.node,labelledBy:c.string,onBeforeHide:c.func,onToggle:c.func,hasActionableContext:c.bool,"data-testid":c.string},immutableProps:{modal:null},createLayer:function(c){__p&&__p();var d=this.props.context||b("ReactDOM").findDOMNode(this.props.contextRef()),e=this.props.hoverContext||this.props.hoverContextRef&&b("ReactDOM").findDOMNode(this.props.hoverContextRef());this.isHoverContextSet=e!=null;e=babelHelpers["extends"]({context:d,hoverContext:e,hoverShowDelay:this.props.hoverShowDelay,hoverHideDelay:this.props.hoverHideDelay,position:this.props.position,alignment:this.props.alignment,offsetX:this.props.offsetX,offsetY:this.props.offsetY,width:this.props.width,dialogRole:this.props.dialogRole,label:this.props.label,labelledBy:this.props.labelledBy,shouldSetARIAProperties:!this.props.hasActionableContext,arrowBehavior:this.props.arrowBehavior||b("ContextualDialogArrow"),addedBehaviors:this.enumerateBehaviors(this.props.behaviors),"data-testid":this.props["data-testid"]},a||{});e=new(b("ContextualDialog"))(e,c);this.props.contextBounds&&e.setContextWithBounds(d,this.props.contextBounds);this.props.autoFocus!==!1&&e.enableBehavior(b("LayerAutoFocus"));this.props.hideOnBlur===!0&&e.enableBehavior(b("LayerHideOnBlur"));this.props.hideOnEscape===!0&&e.enableBehavior(b("LayerHideOnEscape"));this.props.focusContextOnHide===!1&&e.disableBehavior(b("LayerRefocusOnHide"));this.props.keepInViewport===!1&&e.disableBehavior(b("ContextualDialogKeepInViewport"));this.props.onBeforeHide&&e.subscribe("beforehide",this.props.onBeforeHide);this.props.insertParent&&e.setInsertParent(this.props.insertParent);e.conditionShow(this.props.shown);return e},receiveProps:function(a,c){this.updateBehaviors(c.behaviors,a.behaviors);var d=a.context||a.contextRef&&b("ReactDOM").findDOMNode(a.contextRef());d&&(a.contextBounds?this.layer.setContextWithBounds(d,a.contextBounds):this.layer.setContext(d));c.hideOnEscape!==a.hideOnEscape&&(a.hideOnEscape?this.layer.enableBehavior(b("LayerHideOnEscape")):this.layer.disableBehavior(b("LayerHideOnEscape")));this.layer.setPosition(a.position).setAlignment(a.alignment).setOffsetX(a.offsetX).setOffsetY(a.offsetY).setWidth(a.width);(!this.isHoverContextSet||a.shown!==void 0)&&this.layer.conditionShow(a.shown)}}}};e.exports=a}),null);
__d("InlineBlock.react",["cx","React","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){__p&&__p();var h={baseline:null,bottom:"_6d",middle:"_6b",top:"_6e"};a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){__p&&__p();var a=this.props,c=a.alignv,d=a.height,e=a.fullWidth;a=babelHelpers.objectWithoutPropertiesLoose(a,["alignv","height","fullWidth"]);c=h[c];e="_6a"+(e?" _5u5j":"");var f=b("joinClasses")(e,c);if(d!=null){c=b("React").jsx("div",{className:b("joinClasses")("_6a",c),style:{height:d+"px"}});return b("React").jsxs("div",babelHelpers["extends"]({},a,{className:b("joinClasses")(this.props.className,e),height:null,children:[c,b("React").jsx("div",{className:f,children:this.props.children})]}))}else return b("React").jsx("div",babelHelpers["extends"]({},a,{className:b("joinClasses")(this.props.className,f),children:this.props.children}))};return c}(b("React").Component);a.propTypes={alignv:b("prop-types").oneOf(["baseline","bottom","middle","top"]),height:b("prop-types").number,fullWidth:b("prop-types").bool};a.defaultProps={alignv:"baseline",fullWidth:!1};e.exports=a}),null);
__d("ContextualLayerHideOnScroll",["Event"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this._layer=a}var c=a.prototype;c.enable=function(){this._subscriptions=[this._layer.subscribe("contextchange",this._handleContextChange.bind(this)),this._layer.subscribe("show",this.attach.bind(this)),this._layer.subscribe("hide",this.detach.bind(this))]};c.disable=function(){while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this.detach()};c.attach=function(){if(this._listener)return;var a=this._layer.getContextScrollParent();if(a===window)return;this._listener=b("Event").listen(a,"scroll",this._layer.hide.bind(this._layer))};c.detach=function(){this._listener&&this._listener.remove(),this._listener=null};c._handleContextChange=function(){this.detach(),this._layer.isShown()&&this.attach()};return a}();Object.assign(a.prototype,{_subscriptions:[]});e.exports=a}),null);
__d("Toggler",["csx","invariant","Arbiter","ArbiterMixin","ContextualThing","CSS","DataStore","DOM","Event","Focus","Keys","Parent","TabbableElements","TimeSlice","$","createArrayFromMixed","emptyFunction","ge","getContextualParent","getObjectValues","killswitch","mixin","queryThenMutateDOM","setImmediate"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=[],j,k=!1;function l(){k||(k=!0,b("setImmediate")(function(){k=!1}))}var m=function(){m=b("emptyFunction"),b("Event").listen(document.documentElement,"click",function(a){if(k)return;var c=a.getTarget();i.forEach(function(a){a.clickedTarget=c,a.active&&!a.sticky&&!b("ContextualThing").containsIncludingLayers(a.getActive(),c)&&!a.inTargetFlyout(c)&&a.inActiveDialog()&&!a.isIgnoredByModalLayer(c)&&a.hide()})},b("Event").Priority.URGENT)},n=function(d){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,d);function c(){var a;a=d.call(this)||this;a.active=null;a.togglers={};a.setSticky(!1);i.push(babelHelpers.assertThisInitialized(a));a.subscribe(["show","hide"],c.inform.bind(c));return m()||babelHelpers.assertThisInitialized(a)}var e=c.prototype;e.focusFirstTabbableDescendant=function(a,c){__p&&__p();if(!b("killswitch")("TOGGLER_FAST_SHOW")){c.$Toggler2&&c.$Toggler2.cancel();var d=null;c.$Toggler2=b("queryThenMutateDOM")(function(){var c=a.querySelector(".uiToggleFlyout");c&&(d=b("TabbableElements").findFirst(c)||c)},function(){delete c.$Toggler2,d&&(d.tabIndex==null&&(d.tabIndex=-1),b("Focus").setWithoutOutline(d))})}else{var e=a.querySelector(".uiToggleFlyout");if(e){e=b("TabbableElements").find(e)[0]||e;e.tabIndex==null&&(e.tabIndex=-1);b("Focus").setWithoutOutline(e)}}};e.show=function(a){__p&&__p();var c=o(this,a),d=c.active;if(a!==d){d&&c.hide();c.active=a;b("CSS").addClass(a,"openToggler");d=b("DOM").scry(a,'a[rel="toggle"]');d.length>0&&d[0].getAttribute("data-target")&&b("CSS").removeClass(b("$")(d[0].getAttribute("data-target")),"toggleTargetClosed");this.focusFirstTabbableDescendant(a,c);d.length>0&&(b("DOM").appendContent(a,c.getToggler("next")),b("DOM").prependContent(a,c.getToggler("prev")));b("Event").listen(a,"keydown",function(d){if(b("Event").getKeyCode(d)===b("Keys").ESC&&c.isShown()){var e=b("DOM").scry(a,'a[rel="toggle"]')[0];e&&e.focus();c.hide();d.kill()}});a.getAttribute("data-toggle-wc")&&(c.__continuation=b("TimeSlice").getGuardedContinuation("Toggler.show inform"));c.inform("show",c,"state")}};e.hide=function(a){__p&&__p();var c=o(this,a);c.$Toggler2&&c.$Toggler2.cancel();var d=c.active;if(d&&(!a||a===d)){b("CSS").removeClass(d,"openToggler");a=b("DOM").scry(d,'a[rel="toggle"]');a.length>0&&a[0].getAttribute("data-target")&&b("CSS").addClass(b("$")(a[0].getAttribute("data-target")),"toggleTargetClosed");b("getObjectValues")(c.togglers).forEach(b("DOM").remove);d.getAttribute("data-toggle-wc")&&(c.__continuation=b("TimeSlice").getGuardedContinuation("Toggler.hide inform"));c.inform("hide",c,"state");c.active=null}};e.toggle=function(a){var b=o(this,a);b.active===a?b.hide():b.show(a);l()};e.getActive=function(){return o(this).active};e.isShown=function(){return o(this).active&&b("CSS").hasClass(o(this).active,"openToggler")};c.isNodeShown=function(a){return b("CSS").hasClass(a,"openToggler")};e.inTargetFlyout=function(a){var c=p(this.getActive());return Boolean(c&&b("ContextualThing").containsIncludingLayers(c,a))};e.inActiveDialog=function(){var c=a.Dialog&&a.Dialog.getCurrent();return!c||b("DOM").contains(c.getRoot(),this.getActive())};e.isIgnoredByModalLayer=function(a){a=!!b("Parent").bySelector(a,"._3qw");var c=!!b("Parent").bySelector(this.getActive(),"._3qw");return a&&!c};e.getToggler=function(a){var c=o(this);c.togglers[a]||(c.togglers[a]=b("DOM").create("button",{className:"hideToggler",onfocus:function(){var a=b("DOM").scry(c.active,'a[rel="toggle"]')[0];a&&a.focus();c.hide()},style:{right:a==="next"?"0":""}}),c.togglers[a].setAttribute("type","button"));return this.togglers[a]};e.setSticky=function(a){var c=o(this);a=a!==!1;a!==c.sticky&&(c.sticky=a,a?c.$Toggler1&&c.$Toggler1.unsubscribe():c.$Toggler1=b("Arbiter").subscribe("pre_page_transition",c.hide.bind(c,null)));return c};e.setPrePageTransitionCallback=function(a){var c=o(this);c.$Toggler1&&c.$Toggler1.unsubscribe();c.$Toggler1=b("Arbiter").subscribe("pre_page_transition",a)};c.bootstrap=function(a){a=a.parentNode;a!=null||h(0,3354);var b=c.getInstance(a);b!=null||h(0,3355);b.toggle(a)};c.createInstance=function(a){var d=new c().setSticky(!0);b("DataStore").set(a,"toggler",d);return d};c.destroyInstance=function(a){var c=b("DataStore").get(a,"toggler");c&&c.$Toggler2&&c.$Toggler2.cancel();b("DataStore").remove(a,"toggler")};c.getInstance=function(a){__p&&__p();a=a;while(a){var d=b("DataStore").get(a,"toggler");if(d)return d;if(a instanceof Element)if(b("CSS").hasClass(a,"uiToggleContext"))return c.createInstance(a);else if(!b("killswitch")("JEWEL_TOGGLER_INSTANCE_FIXES")&&b("CSS").hasClass(a,"uiToggleFlyout"))return c.createInstance(a).setSticky(!1);a=b("getContextualParent")(a)}return j=j||new c()};c.listen=function(a,d,e){__p&&__p();return c.subscribe(b("createArrayFromMixed")(a),function(a,b){if(b.getActive()===d){if(b.__continuation){var c=b.__continuation;delete b.__continuation;return c(function(){return e(a,b)})}return e(a,b)}})};return c}(b("mixin")(b("ArbiterMixin")));Object.assign(n,n.prototype,b("ArbiterMixin"));Object.assign(n,{subscribe:function(a){return function(c,d){c=b("createArrayFromMixed")(c);c.includes("show")&&i.forEach(function(a){a.getActive()&&setTimeout(d.bind(null,"show",a),0)});return a(c,d)}}(n.subscribe.bind(n))});function o(a,b){return a instanceof n?a:n.getInstance(b)}function p(a){a=b("DOM").scry(a,'a[rel="toggle"]');return a.length>0&&a[0].getAttribute("data-target")?b("ge")(a[0].getAttribute("data-target")):null}e.exports=n}),null);
__d("VirtualCursorStatus",["Event","UserAgent","emptyFunction","setImmediate"],(function(a,b,c,d,e,f){__p&&__p();var g=null,h=null;function i(){h||(h=b("Event").listen(window,"blur",function(){g=null,j()}))}function j(){h&&(h.remove(),h=null)}function a(a){g=a.keyCode,i()}function c(){g=null,j()}if(typeof window!=="undefined"&&window.document&&window.document.createElement){d=document.documentElement;if(d)if(d.addEventListener)d.addEventListener("keydown",a,!0),d.addEventListener("keyup",c,!0);else if(d.attachEvent){f=d.attachEvent;f("onkeydown",a);f("onkeyup",c)}}var k={isKeyDown:function(){return!!g},getKeyDownCode:function(){return g}},l=!1,m=!1,n=null,o=!1;function p(a){__p&&__p();var c=new Set(),d=k.isKeyDown(),e=a.clientX,f=a.clientY,g=a.isPrimary,h=a.isTrusted,i=a.offsetX,j=a.offsetY,n=a.pointerType,o=a.mozInputSource,p=a.WEBKIT_FORCE_AT_MOUSE_DOWN,q=a.webkitForce;a=a.target;var r=a.clientWidth;a=a.clientHeight;e===0&&f===0&&i>=0&&j>=0&&m&&h&&o==null&&c.add("Chrome");l&&m&&!d&&q!=null&&q<p&&i===0&&j===0&&o==null&&c.add("Safari-edge");e===0&&f===0&&i<0&&j<0&&m&&o==null&&c.add("Safari-old");!l&&!m&&d&&g===!1&&h&&n===""&&e===0&&f===0&&i===0&&j===0&&o==null;!l&&!m&&!d&&h&&b("UserAgent").isBrowser("IE >= 10")&&o==null&&(e<0&&f<0?c.add("IE"):(i<0||i>r)&&(j<0||j>a)&&c.add("MSIE"));o===0&&h&&c.add("Firefox");return c}function q(){l=!0,b("setImmediate")(function(){l=!1})}function r(){m=!0,b("setImmediate")(function(){m=!1})}function s(a,c){n===null&&(n=p(a));o=n.size>0;a=a.target.getAttribute("data-accessibilityid")==="virtual_cursor_trigger";c(o,n,a);b("setImmediate")(function(){o=!1,n=null})}d={isVirtualCursorTriggered:function(){return o},add:function(a,c){c===void 0&&(c=b("emptyFunction"));var d=function(a){return s(a,c)};a.addEventListener("click",d);var e=b("Event").listen(a,"mousedown",q),f=b("Event").listen(a,"mouseup",r);return{remove:function(){a.removeEventListener("click",d),e.remove(),f.remove()}}}};e.exports=d}),null);
__d("PopoverMenu.react",["cx","CSS","InlineBlock.react","Popover","PopoverMenu","React","ReactDOM","SubscriptionsHandler","areEqual","clearImmediate","joinClasses","prop-types","setImmediate"],(function(a,b,c,d,e,f,g){__p&&__p();var h;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$3=null,c.$7=function(){c.$3&&(c.$3.release(),c.$3=null),c.$8(),c.$2.setMenu(c.$5(c.props.menu)),c.$6()},b)||babelHelpers.assertThisInitialized(c)}c.getFirstChild=function(a){a=a.children;return Array.isArray(a)?a[0]:a};c.getButtonSize=function(a){a=c.getFirstChild(a);return a?a.type.getButtonSize(a.props):0};var d=c.prototype;d.componentDidMount=function(){var a=b("ReactDOM").findDOMNode(this.refs.root),c=a==null?void 0:a.firstChild;c!=null&&(b("CSS").addClass(c,"_p"),this.$1=new(b("Popover"))(a,c,this.props.layerBehaviors,{alignh:this.props.alignh,position:this.props.position,disabled:this.props.disabled,arrowDimensions:{offset:0,length:0},disableArrowKeyActivation:this.props.disableArrowKeyActivation,enableActivationOnEnter:this.props.enableActivationOnEnter,"data-testid":this.props["data-testid"],shouldDisableHideOnScroll:this.props.shouldDisableHideOnScroll}),this.$2=new(b("PopoverMenu"))(this.$1,c,this.$5(this.props.menu),this.props.behaviors));this.$6()};d.componentDidUpdate=function(a){(h||(h=b("areEqual")))(a.menu,this.props.menu)||(b("clearImmediate")(this.$4),this.$4=b("setImmediate")(this.$7)),this.props.alignh!==a.alignh&&this.$2.getPopover().getLayer().setAlignment(this.props.alignh),this.props.disabled!==a.disabled&&(this.props.disabled?this.$2.disable():this.$2.enable())};d.$6=function(){this.props.onReturnWithoutFocusedItem&&this.$3&&this.$2&&this.$3.addSubscriptions(this.$2.subscribe("returnWithoutFocusedItem",this.props.onReturnWithoutFocusedItem))};d.render=function(){__p&&__p();var a=b("React").Children.map(this.props.children,function(a,c){if(c===0)return b("React").cloneElement(a,{className:b("joinClasses")(a.props.className,"_p")});else return a}),c=Object.assign({},this.props);delete c.onShow;delete c.onHide;delete c.alignh;delete c.position;delete c.layerBehaviors;delete c.behaviors;delete c.menu;delete c.disabled;delete c.disableArrowKeyActivation;delete c.enableActivationOnEnter;return b("React").jsx(b("InlineBlock.react"),babelHelpers["extends"]({},c,{className:b("joinClasses")(this.props.className,"uiPopover"),ref:"root",disabled:null,children:a}))};d.componentWillUnmount=function(){b("clearImmediate")(this.$4),this.hidePopover(),this.$3&&(this.$3.release(),this.$3=null),this.$2&&this.$2.destroy()};d.$5=function(a){__p&&__p();var c=a.props;a=new a.type(c);this.$3=new(b("SubscriptionsHandler"))();c.onItemClick&&this.$3.addSubscriptions(a.subscribe("itemclick",c.onItemClick));c.onItemFocus&&this.$3.addSubscriptions(a.subscribe("focus",c.onItemFocus));c.onItemBlur&&this.$3.addSubscriptions(a.subscribe("blur",c.onItemBlur));c.onChange&&this.$3.addSubscriptions(a.subscribe("change",c.onChange));this.props.onShow&&this.$3.addSubscriptions(this.$1.subscribe("show",this.props.onShow));this.props.onHide&&this.$3.addSubscriptions(this.$1.subscribe("hide",this.props.onHide));return a};d.getMenu=function(){return this.$2.getMenu()};d.isShown=function(){return!!(this.$1&&this.$1.isShown())};d.showPopover=function(a){this.$1.showLayer();if(a){var b=this.$2.getMenu();b.blur();b.focusAnItem(a)}};d.hidePopover=function(){var a=this.$1;a&&a.isShown()&&a.hideLayer()};d.getFocusedItem=function(){var a=this.$2.getMenu();return a.getFocusedItem()};d.$8=function(){var a=this.getMenu();a&&a.forEachItem(function(a){a=a.getRoot().firstElementChild;a&&b("ReactDOM").unmountComponentAtNode(a)})};return c}(b("React").Component);a.propTypes={alignh:(c=b("prop-types")).oneOf(["left","center","right"]),alignv:c.oneOf(["baseline","bottom","middle","top"]),position:c.oneOf(["above","below","left","right"]),layerBehaviors:c.array,menu:c.object.isRequired,disabled:c.bool,disableArrowKeyActivation:c.bool,enableActivationOnEnter:c.bool,onReturnWithoutFocusedItem:c.func,shouldDisableHideOnScroll:c.bool};a.defaultProps={alignv:"middle",shouldDisableHideOnScroll:!1};e.exports=a}),null);
__d("CSSFade",["cx","invariant","CSS","DataStore","Event","Style","requestAnimationFrameAcrossTransitions"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i="css-fade-animation",j="css-show-animation",k="CSSFade_hide",l="CSSFade_show";a=document.createElement("div").animate!==void 0;var m={cancel:function(){}};function n(a,c){a!=null||h(0,5875);a=b("DataStore").get(a,c);a&&a.cancel();return a}function o(a,b,c){a=((a=a)!=null?(a=a.style)!=null?a.animation:a:a)||"";b=b+"s "+c;a.length>5&&(b=a.slice(0,-1)+(", "+b));return b}function p(a,b){a=((a=a)!=null?(a=a.style)!=null?a.animation:a:a)||"";a=a.split(",");var c=a.findIndex(function(a){return a.indexOf(b)>-1});c!==-1&&a.splice(c,1);return a.join(",")}c={show:function(a,c){__p&&__p();c===void 0&&(c={});var d=c.duration!=null?c.duration/1e3:.3;n(a,i);n(a,j);b("CSS").removeClass(a,c.invisible?"invisible_elem":"hidden_elem");b("requestAnimationFrameAcrossTransitions")(function(){a.style.animation=o(a,d,l)});var e=b("Event").listen(a,"animationend",function(){c.callback&&c.callback(),a.style.animation=p(a,l)}),f={cancel:function(){a.style.animation=p(a,l),e.remove(),f.cancel=function(){}}};b("DataStore").set(a,j,f);return f},hide:function(a,c){__p&&__p();c===void 0&&(c={});var d=function(){b("CSS").addClass(a,c.invisible?"invisible_elem":"hidden_elem"),c.callback&&c.callback(),a.style.animation=p(a,k)};if(c.simple){d();return m}var e=c.duration!=null?c.duration/1e3:.3;n(a,j);n(a,i);b("requestAnimationFrameAcrossTransitions")(function(){a.style.animation=o(a,e,k)});var f=b("Event").listen(a,"animationend",d),g={cancel:function(){a.style.animation=p(a,k),f.remove(),g.cancel=function(){}}};b("DataStore").set(a,i,g);return g}};d={show:function(a,c){__p&&__p();c===void 0&&(c={});var d=c.duration!=null?c.duration:300;n(a,i);n(a,j);b("CSS").removeClass(a,c.invisible?"invisible_elem":"hidden_elem");b("Style").set(a,"opacity","1");d=a.animate([{opacity:"0"},{opacity:"1.0"}],{duration:d});c.callback&&(d.onfinish=c.callback);b("DataStore").set(a,j,d);return d},hide:function(a,c){__p&&__p();c===void 0&&(c={});var d=c.duration!=null?c.duration:300;n(a,j);if(c.simple===!0){b("CSS").addClass(a,c.invisible?"invisible_elem":"hidden_elem");return m}else{n(a,i);b("Style").set(a,"opacity","0");d=a.animate([{opacity:"1.0"},{opacity:"0"}],{duration:d});d.onfinish=function(){b("CSS").addClass(a,c.invisible?"invisible_elem":"hidden_elem"),c.callback&&c.callback()};b("DataStore").set(a,i,d);return d}}};e.exports=a?d:c}),null);
__d("isAsyncScrollQuery",["UserAgent"],(function(a,b,c,d,e,f){var g=null;function a(){g===null&&(g=b("UserAgent").isPlatform("Mac OS X >= 10.8")&&b("UserAgent").isBrowser("Safari >= 6.0"));return g}e.exports=a}),null);
__d("debounceCore",["TimeSlice"],(function(a,b,c,d,e,f){__p&&__p();function a(a,c,d,e,f){__p&&__p();d===void 0&&(d=null);e===void 0&&(e=setTimeout);f===void 0&&(f=clearTimeout);var g;function h(){for(var f=arguments.length,i=new Array(f),j=0;j<f;j++)i[j]=arguments[j];h.reset();var k=b("TimeSlice").guard(function(){g=null,a.apply(d,i)},"debounceCore");k.__SMmeta=a.__SMmeta;g=e(k,c)}h.reset=function(){f(g),g=null};h.isPending=function(){return g!=null};return h}e.exports=a}),null);
__d("debounce",["clearTimeout","debounceCore","setTimeout"],(function(a,b,c,d,e,f){function a(a,c,d,e){c===void 0&&(c=100);var f=function(a,c,d){return b("setTimeout")(a,c,d,!e)};return b("debounceCore")(a,c,d,f,b("clearTimeout"))}e.exports=a}),null);
__d("MenuItemNoAction",["MenuItem"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.hasAction=function(){return!1};return b}(b("MenuItem"));e.exports=a}),null);
__d("MenuSelectableItem",["cx","CSS","DOM","MenuItem"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;b._ARIARole="menuitemcheckbox";b._selected=!!b._data.selected;return b}var d=c.prototype;d.getIcon=function(){return this._data.icon};d.setIcon=function(a){b("DOM").replace(this._data.icon,a),this._data.icon=a};d.isSelected=function(){return this._selected};d.select=function(){if(this.isDisabled())return!1;b("CSS").addClass(this._root,"_54nd");this._anchor.setAttribute("aria-checked","true");this._selected=!0};d.deselect=function(){b("CSS").removeClass(this._root,"_54nd"),this._anchor.setAttribute("aria-checked","false"),this._selected=!1};d.render=function(){var c=a.prototype.render.call(this);this._data.selected&&(b("CSS").addClass(c,"_54nd"),this._anchor.setAttribute("aria-checked","true"));return c};return c}(b("MenuItem"));Object.assign(a.prototype,{_selected:!1});e.exports=a}),null);
__d("MenuTheme",["cx"],(function(a,b,c,d,e,f,g){e.exports={className:"_569t"}}),null);
__d("SelectableMenuUtils",[],(function(a,b,c,d,e,f){a={doesItemSupportSelect:function(a){return g(a)},isSelected:function(a){return g(a)&&a.isSelected()}};function g(a){return a.select&&a.deselect&&a.isSelected}e.exports=a}),null);
__d("SelectableMenu",["Menu","SelectableMenuUtils","createArrayFromMixed"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.focusAnItem=function(){for(var c=0;c<this._items.length;c++)if(b("SelectableMenuUtils").isSelected(this._items[c])&&this._focusItem(this._items[c])!==!1)return!0;return a.prototype.focusAnItem.call(this)};d.setValue=function(a){this._root||this._render();var c=b("createArrayFromMixed")(a);this._items.forEach(function(a){b("SelectableMenuUtils").doesItemSupportSelect(a)&&(c.includes(a.getValue())?a.select():b("SelectableMenuUtils").isSelected(a)&&a.deselect())});this.inform("change",this.getSelection())};d._handleItemClick=function(c,d){__p&&__p();if(!b("SelectableMenuUtils").doesItemSupportSelect(c))return a.prototype._handleItemClick.call(this,c,d);var e=this.inform("itemclick",{item:c,event:d});if(e)return;if(this._config.multiple){e=b("SelectableMenuUtils").isSelected(c)?c.deselect():c.select();e!==!1&&this.inform("change",this.getSelection());this._config.closeOnSelectWithMultiple&&this.done()}else b("SelectableMenuUtils").isSelected(c)||c.select()!==!1&&(this._items.forEach(function(a){b("SelectableMenuUtils").isSelected(a)&&a!==c&&a.deselect()}),this.inform("change",this.getSelection())),this.done();return c.handleClick(d)};d.getSelection=function(){var a=[];this._items.forEach(function(c){b("SelectableMenuUtils").isSelected(c)&&a.push({label:c.getLabel(),value:c.getValue(),item:c})});this._config.multiple||(a=a[0]);return a};return c}(b("Menu"));e.exports=a}),null);
__d("ReactMenu",["cx","Menu","MenuItem","MenuItemNoAction","MenuSelectableItem","MenuTheme","React","SelectableMenu","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();function h(a){var c=[];b("React").Children.forEach(a,function(a){a&&c.push(a)});return c}function a(a){a!=null&&(a.isReactLegacyFactory={},a.type=a)}c=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c,d){d=babelHelpers["extends"]({theme:b("MenuTheme"),maxheight:c?c.maxheight:null,className:c?c.className:null,testid:c?c["data-testid"]:null},d);return a.call(this,h(c.children),d)||this}return c}(b("Menu"));a(c);d=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c,d){d=babelHelpers["extends"]({className:b("joinClasses")("_57di",c?c.className:null),theme:b("MenuTheme"),multiple:c&&c.multiple,closeOnSelectWithMultiple:c&&c.closeOnSelectWithMultiple,maxheight:c?c.maxheight:null,testid:c?c["data-testid"]:null},d);return a.call(this,h(c.children),d)||this}return c}(b("SelectableMenu"));a(d);c.SelectableMenu=d;a(b("MenuItem"));c.Item=b("MenuItem");c.ItemNoAction=b("MenuItemNoAction");a(b("MenuSelectableItem"));c.SelectableItem=b("MenuSelectableItem");e.exports=c}),null);
__d("ReactXUIMenu",["ReactMenu","XUIMenuTheme","XUIMenuWithSquareCorner"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){a.isReactLegacyFactory={},a.type=a}d=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d={behaviors:void 0,theme:b("XUIMenuTheme")};(!c||c.withsquarecorner!==!1)&&(d.behaviors=[b("XUIMenuWithSquareCorner")]);return a.call(this,c,d)||this}return c}(c=b("ReactMenu"));a(d);f=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d={behaviors:void 0,theme:b("XUIMenuTheme")};(!c||c.withsquarecorner!==!1)&&(d.behaviors=[b("XUIMenuWithSquareCorner")]);return a.call(this,c,d)||this}return c}(c.SelectableMenu);a(f);d.SelectableMenu=f;d.Item=c.Item;d.SelectableItem=c.SelectableItem;e.exports=d}),null);
__d("XUISpinner.react",["cx","fbt","BrowserSupport","LoadingMarker.react","React","UserAgent","joinClasses","prop-types"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=b("BrowserSupport").hasCSSAnimations()&&!(b("UserAgent").isEngine("Trident < 6")||b("UserAgent").isEngine("Gecko < 39")||b("UserAgent").isBrowser("Safari < 6"));a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.showOnAsync,d=a.background,e=a.paused;a=babelHelpers.objectWithoutPropertiesLoose(a,["showOnAsync","background","paused"]);d="img _55ym"+(this.props.size=="small"?" _55yn":"")+(this.props.size=="large"?" _55yq":"")+(d=="light"?" _55yo":"")+(d=="dark"?" _55yp":"")+(c?" _5tqs":"")+(i?"":" _5d9-")+(i&&e?" _2y32":"");return b("React").jsx(b("LoadingMarker.react"),{children:b("React").jsx("span",babelHelpers["extends"]({},a,{className:b("joinClasses")(this.props.className,d),role:"progressbar","aria-valuetext":h._("Loading..."),"aria-busy":"true","aria-valuemin":"0","aria-valuemax":"100"}))})};return c}(b("React").Component);a.propTypes={paused:b("prop-types").bool,showOnAsync:b("prop-types").bool,size:b("prop-types").oneOf(["small","large"]),background:b("prop-types").oneOf(["light","dark"])};a.defaultProps={showOnAsync:!1,size:"small",background:"light"};e.exports=a}),null);
__d("EncryptedImgUtils",[],(function(a,b,c,d,e,f){var g="ek",h=/^data\:/,i=/\?(ek\=|.*&ek\=)/;a={extractKey:function(a){var b=a.getQueryData(),c=b[g];delete b[g];a.setQueryData(b);return c},isEncrypted:function(a){return!h.test(a)&&i.test(a)}};e.exports=a}),null);
__d("coerceImageishSprited",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a&&typeof a==="object"&&a.sprited&&a.spriteMapCssClass&&a.spriteCssClass)return a;else return null}e.exports=a}),null);
__d("coerceImageishURL",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a&&typeof a==="object"&&a.sprited===!1&&typeof a.uri==="string"&&a.width!==void 0&&a.height!==void 0)return a;else return null}e.exports=a}),null);
__d("getImageSourceURLFromImageish",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(typeof a==="string")return a;return a!=null&&typeof a==="object"&&(!a.sprited&&a.uri&&typeof a.uri==="string")?a.uri:""}e.exports=a}),null);
__d("validateImageSrcPropType",["URI","coerceImageishSprited","getImageSourceURLFromImageish","gkx"],(function(a,b,c,d,e,f){"use strict";var g,h=b("gkx")("1236104");function a(a,c,d){a=a[c];if(a==null||b("coerceImageishSprited")(a)||b("getImageSourceURLFromImageish")(a)!==""||h&&a instanceof(g||(g=b("URI"))))return null;a=h?", a `URI`":"";return new Error("Provided `"+c+"` to `"+d+"`. Must be `null`, "+("`undefined`, a string"+a+" or an `ix` call."))}e.exports=a}),null);
__d("warnUnsupportedProp",["warning"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){b("warning")(!1,"%s component does not support prop `%s`.%s",a,c,d?" "+d:"")}e.exports=a}),null);
__d("ImageCore.react",["Bootloader","EncryptedImgUtils","FBLogger","React","SubscriptionsHandler","URI","coerceImageishSprited","coerceImageishURL","createCancelableFunction","getImageSourceURLFromImageish","gkx","ifRequired","joinClasses","validateImageSrcPropType","warnUnsupportedProp"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("gkx")("1236104");c={alt:""};function i(a){return a instanceof(g||(g=b("URI")))?h?a.toString():null:a}var j=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){var a,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(a=d=c.call.apply(c,[this].concat(f))||this,d.$1=!1,d.$2=null,d.$3=new(b("SubscriptionsHandler"))(),d.state={decryptedSrc:null},a)||babelHelpers.assertThisInitialized(d)}var d=a.prototype;d.$4=function(a){var c=this;this.$2&&this.$2.cancel();var d=b("getImageSourceURLFromImageish")(this.props.encryptedSrc),e=b("createCancelableFunction")(function(a){d===b("getImageSourceURLFromImageish")(c.props.encryptedSrc)&&c.setState({decryptedSrc:a})});a.load(d,e);this.$3.addSubscriptions({remove:function(){e.cancel()}});this.$2=e};d.$5=function(){var a=this;b("ifRequired")("EncryptedImg",function(b){a.$4(b)},function(){if(a.$1)return;a.$1=!0;a.$3.addSubscriptions(b("Bootloader").loadModules(["EncryptedImg"],function(b){return a.$4(b)},"ImageCore.react"))})};d.componentDidMount=function(){this.$5()};d.componentDidUpdate=function(a){a.encryptedSrc!==this.props.encryptedSrc&&this.$5()};d.componentWillUnmount=function(){this.$3.release()};d.render=function(){var a=this.props,c=a.encryptedSrc,d=a.forwardedRef;a=babelHelpers.objectWithoutPropertiesLoose(a,["encryptedSrc","forwardedRef"]);var e=this.state.decryptedSrc;b("EncryptedImgUtils").isEncrypted(c)===!1&&(b("FBLogger")("image").mustfix("The `EncryptedImage` component was rendered with a non-encrypted image (%s). Only images that meet the encrypted image test (see `EncryptedImgUtils.isEncrypted()`) should be rendered with this component. Falling back to `ImageishRenderer`.",JSON.stringify(c)),e=c);return b("React").jsx(k,babelHelpers["extends"]({},a,{forwardedRef:d,src:e}))};return a}(b("React").Component);j.defaultProps=c;j.propTypes={encryptedSrc:b("validateImageSrcPropType")};function k(a){__p&&__p();var c=a.forwardedRef;a=babelHelpers.objectWithoutPropertiesLoose(a,["forwardedRef"]);var d=b("joinClasses")(a.className,"img"),e=i(a.src);if(e==null)return b("React").jsx("img",babelHelpers["extends"]({},a,{className:d,ref:c}));var f=b("coerceImageishSprited")(e),g=!!f&&a.alt!=null&&String(a.alt)!==""?b("React").jsx("u",{children:a.alt}):null;if(typeof e==="string")return b("React").jsx("img",babelHelpers["extends"]({},a,{className:d,ref:c,src:e,children:g}));if(f){var h=f.spriteCssClass;f=f.spriteMapCssClass;a.src;var j=babelHelpers.objectWithoutPropertiesLoose(a,["src"]);return b("React").jsx("i",babelHelpers["extends"]({},j,{className:b("joinClasses")(d,f,h),ref:c,children:g}))}j=b("getImageSourceURLFromImageish")(e);f=b("coerceImageishURL")(e);return a.width===void 0&&a.height===void 0&&f?b("React").jsx("img",babelHelpers["extends"]({},a,{className:d,height:f.height,src:j,ref:c,width:f.width,children:g})):b("React").jsx("img",babelHelpers["extends"]({},a,{className:d,ref:c,src:j,children:g}))}k.defaultProps=c;k.propTypes={src:b("validateImageSrcPropType")};function a(a,c){Object.prototype.hasOwnProperty.call(a,"source")&&b("warnUnsupportedProp")("ImageCore","source","Did you mean `src`?");var d=i(a.src);d=b("getImageSourceURLFromImageish")(d);if(b("EncryptedImgUtils").isEncrypted(d)){a.src;var e=babelHelpers.objectWithoutPropertiesLoose(a,["src"]);return b("React").jsx(j,babelHelpers["extends"]({},e,{encryptedSrc:d,forwardedRef:c}))}else return b("React").jsx(k,babelHelpers["extends"]({},a,{forwardedRef:c}))}a.displayName="ImageCore";e.exports=b("React").forwardRef(a)}),null);
__d("Image.react",["ImageCore.react"],(function(a,b,c,d,e,f){e.exports=b("ImageCore.react")}),null);
__d("LiveRHCUtils",[],(function(a,b,c,d,e,f){"use strict";a="live_rhc_collapse";e.exports=a}),null);
__d("LiveVideoRewindTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:LiveVideoRewindLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:LiveVideoRewindLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:LiveVideoRewindLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setActionSequenceNumber=function(a){this.$1.action_sequence_number=a;return this};c.setDeviceid=function(a){this.$1.deviceid=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setPositionAfter=function(a){this.$1.position_after=a;return this};c.setPositionBefore=function(a){this.$1.position_before=a;return this};c.setSessionID=function(a){this.$1.session_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setVideoDuration=function(a){this.$1.video_duration=a;return this};c.setVideoID=function(a){this.$1.video_id=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={action_sequence_number:!0,deviceid:!0,event:!0,position_after:!0,position_before:!0,session_id:!0,time:!0,vc:!0,video_duration:!0,video_id:!0,weight:!0};e.exports=a}),null);
__d("RealtimeRequestStreamWebClientTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:RealtimeRequestStreamWebClientLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:RealtimeRequestStreamWebClientLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:RealtimeRequestStreamWebClientLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setClientSessionID=function(a){this.$1.client_session_id=a;return this};c.setClientTimeMs=function(a){this.$1.client_time_ms=a;return this};c.setMessage=function(a){this.$1.message=a;return this};c.setSeverity=function(a){this.$1.severity=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setUserFbid=function(a){this.$1.user_fbid=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={client_session_id:!0,client_time_ms:!0,message:!0,severity:!0,time:!0,user_fbid:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("AbstractLinkLynxMode",["FBLynx","LinkshimHandlerConfig"],(function(a,b,c,d,e,f){"use strict";a={getMode:function(a){return a?[b("LinkshimHandlerConfig").www_safe_js_mode,null]:["hover",null]},setupDelegation:function(){b("FBLynx").setupDelegation()}};e.exports=a}),null);
__d("DOMControl",["DataStore","$"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this.root=b("$").fromIDOrElement(a),this.updating=!1,b("DataStore").set(a,"DOMControl",this)}var c=a.prototype;c.getRoot=function(){return this.root};c.beginUpdate=function(){if(this.updating)return!1;this.updating=!0;return!0};c.endUpdate=function(){this.updating=!1};c.update=function(a){if(!this.beginUpdate())return this;this.onupdate(a);this.endUpdate()};c.onupdate=function(a){};a.getInstance=function(a){return b("DataStore").get(a,"DOMControl")};return a}();e.exports=a}),null);
__d("Input",["CSS","DOMControl","DOMQuery"],(function(a,b,c,d,e,f){__p&&__p();var g={isWhiteSpaceOnly:function(a){return!/\S/.test(a||"")},isEmpty:function(a){return g.isWhiteSpaceOnly(a.value)},getValue:function(a){return g.isEmpty(a)?"":a.value},getValueRaw:function(a){return a.value},setValue:function(a,c){a.value=c||"";c=b("DOMControl").getInstance(a);c&&c.resetHeight&&c.resetHeight()},setPlaceholder:function(a,b){a.setAttribute("aria-label",b),a.setAttribute("placeholder",b)},reset:function(a){a.value="",a.style.height=""},setSubmitOnEnter:function(a,c){b("CSS").conditionClass(a,"enter_submit",c)},getSubmitOnEnter:function(a){return b("CSS").hasClass(a,"enter_submit")},setMaxLength:function(a,b){b>0?a.setAttribute("maxlength",b):a.removeAttribute("maxlength")}};e.exports=g}),null);
__d("Form",["DataStore","DOM","DOMQuery","DTSG","DTSGUtils","Input","LSD","PHPQuerySerializer","Random","SprinkleConfig","URI","getElementPosition","isFacebookURI","isNode"],(function(a,b,c,d,e,f){__p&&__p();var g,h,i="FileList"in window,j="FormData"in window;function k(a){var c={};(g||(g=b("PHPQuerySerializer"))).serialize(a).split("&").forEach(function(a){if(a){a=/^([^=]*)(?:=(.*))?$/.exec(a);var d=(h||(h=b("URI"))).decodeComponent(a[1]),e=a[2]!==void 0;e=e?(h||(h=b("URI"))).decodeComponent(a[2]):null;c[d]=e}});return c}var l={getInputs:function(a){a===void 0&&(a=document);return[].concat(b("DOMQuery").scry(a,"input"),b("DOMQuery").scry(a,"select"),b("DOMQuery").scry(a,"textarea"),b("DOMQuery").scry(a,"button"))},getInputsByName:function(a){var b={};l.getInputs(a).forEach(function(a){var c=b[a.name];b[a.name]=typeof c==="undefined"?a:[a].concat(c)});return b},getSelectValue:function(a){return a.options[a.selectedIndex].value},setSelectValue:function(a,b){for(var c=0;c<a.options.length;++c)if(a.options[c].value==b){a.selectedIndex=c;break}},getRadioValue:function(a){for(var b=0;b<a.length;b++)if(a[b].checked)return a[b].value;return null},getElements:function(a){return a.tagName=="FORM"&&a.elements!=a?Array.from(a.elements):l.getInputs(a)},getAttribute:function(a,b){return(a.getAttributeNode(b)||{}).value||null},setDisabled:function(a,c){l.getElements(a).forEach(function(a){if(a.disabled!==void 0){var d=b("DataStore").get(a,"origDisabledState");c?(d===void 0&&b("DataStore").set(a,"origDisabledState",a.disabled),a.disabled=c):d===!1&&(a.disabled=!1)}})},forEachValue:function(a,c,d){__p&&__p();l.getElements(a).forEach(function(a){__p&&__p();if(!a.name||a.disabled)return;if(a.type==="submit")return;if(a.type==="reset"||a.type==="button"||a.type==="image")return;if((a.type==="radio"||a.type==="checkbox")&&!a.checked)return;if(a.nodeName==="SELECT"){for(var c=0,e=a.options.length;c<e;c++){var f=a.options[c];f.selected&&d("select",a.name,f.value)}return}if(a.type==="file"){if(i){f=a.files;for(var c=0;c<f.length;c++)d("file",a.name,f.item(c))}return}d(a.type,a.name,b("Input").getValue(a))}),c&&c.name&&c.type==="submit"&&b("DOMQuery").contains(a,c)&&b("DOMQuery").isNodeOfType(c,["input","button"])&&d("submit",c.name,c.value)},createFormData:function(a,c){__p&&__p();if(!j)return null;var d=new FormData();if(a)if(b("isNode")(a))l.forEachValue(a,c,function(b,a,c){d.append(a,c)});else{c=k(a);for(var e in c)c[e]==null?d.append(e,""):d.append(e,c[e])}return d},serialize:function(a,b){var c={};l.forEachValue(a,b,function(a,b,d){if(a==="file")return;l._serializeHelper(c,b,d)});return l._serializeFix(c)},_serializeHelper:function(a,b,c){__p&&__p();var d=Object.prototype.hasOwnProperty,e=/([^\]]+)\[([^\]]*)\](.*)/.exec(b);if(e){if(!a[e[1]]||!d.call(a,e[1])){a[e[1]]=d={};if(a[e[1]]!==d)return}d=0;if(e[2]==="")while(a[e[1]][d]!==void 0)d++;else d=e[2];e[3]===""?a[e[1]][d]=c:l._serializeHelper(a[e[1]],d.concat(e[3]),c)}else a[b]=c},_serializeFix:function(a){__p&&__p();for(var b in a)a[b]instanceof Object&&(a[b]=l._serializeFix(a[b]));var c=Object.keys(a);if(c.length===0||c.some(isNaN))return a;c.sort(function(a,b){return a-b});var d=0,e=c.every(function(a){return+a===d++});return e?c.map(function(b){return a[b]}):a},post:function(a,c,d,e){__p&&__p();e===void 0&&(e=!0);a=new(h||(h=b("URI")))(a);var f=document.createElement("form");f.action=a.toString();f.method="POST";f.style.display="none";var g=!b("isFacebookURI")(a);if(d){if(g){f.rel="noopener";if(d==="_blank"){d=btoa(b("Random").uint32());var i=window.open("about:blank",d);i===void 0||(i.opener=null)}}f.target=d}if(e&&(!g&&a.getSubdomain()!=="apps")){i=b("DTSG").getToken();i&&(c.fb_dtsg=i,b("SprinkleConfig").param_name&&(c[b("SprinkleConfig").param_name]=b("DTSGUtils").getNumericValue(i)));b("LSD").token&&(c.lsd=b("LSD").token,b("SprinkleConfig").param_name&&!i&&(c[b("SprinkleConfig").param_name]=b("DTSGUtils").getNumericValue(b("LSD").token)))}l.createHiddenInputs(c,f);b("DOMQuery").getRootElement().appendChild(f);f.submit();return!1},createHiddenInputs:function(a,c,d,e){__p&&__p();e===void 0&&(e=!1);d=d||{};a=k(a);for(var f in a){if(a[f]===null)continue;if(d[f]&&e)d[f].value=a[f];else{var g=b("DOM").create("input",{type:"hidden",name:f,value:a[f]});d[f]=g;c.appendChild(g)}}return d},getFirstElement:function(a,c){__p&&__p();c===void 0&&(c=['input[type="text"]',"textarea",'input[type="password"]','input[type="button"]','input[type="submit"]']);var d=[];for(var e=0;e<c.length;e++){d=b("DOMQuery").scry(a,c[e]);for(var f=0;f<d.length;f++){var g=d[f];try{var h=b("getElementPosition")(g);if(h.y>0&&h.x>0)return g}catch(a){}}}return null},focusFirst:function(a){a=l.getFirstElement(a);if(a){a.focus();return!0}return!1}};e.exports=l}),null);
__d("LinkController",["DataStore","Event","Parent","removeFromArray","trackReferrer"],(function(a,b,c,d,e,f){__p&&__p();var g="@@LinkController",h=[],i=[];c={registerHandler:function(a){h.push(a);return{remove:function(){return b("removeFromArray")(h,a)}}},registerFallbackHandler:function(a){i.push(a);return{remove:function(){return b("removeFromArray")(i,a)}}}};function a(a){__p&&__p();a=a.getTarget();var c=b("Parent").byTag(a,"a");if(!(c instanceof HTMLAnchorElement))return;var d=k(c);if(!d||m(a)||b("DataStore").get(c,g)||d.endsWith("#"))return;a=b("Event").listen(c,"click",function(a){b("trackReferrer")(c,d),!c.rel&&(!c.target||c.target==="_self")&&!l(a)&&j(c,a)});b("DataStore").set(c,g,a)}function j(a,b){h.concat(i).every(function(c){if(c(a,b)===!1){b.prevent();return!1}return!0})}function k(a){if(a&&!a.rel){a=a.getAttribute("href");if(a){var b=a.match(/^(\w+):/);if(!b||b[1].match(/^http/i))return a}}return null}function l(a){return a.getModifiers().any||a.which&&a.which!==1}function m(a){return a.nodeName==="INPUT"&&a.type==="file"}(d=b("Event")).listen(document.documentElement,"mousedown",a,d.Priority.URGENT);d.listen(document.documentElement,"keydown",a,d.Priority.URGENT);e.exports=c}),null);
__d("PageTransitionPriorities",[],(function(a,b,c,d,e,f){a=5;b=a+1;e.exports={DEFAULT:a,LEFT_NAV:b,SOCIAL_SEARCH_DIALOG:b+1}}),null);
__d("computeRelativeURI",["URI","isEmpty","isFacebookURI"],(function(a,b,c,d,e,f){__p&&__p();var g,h;function i(a,b){if(!b)return a;if(b.charAt(0)=="/")return b;var c=a.split("/").slice(0,-1);c[0]!=="";b.split("/").forEach(function(a){a==="."||(a===".."?c.length>1&&(c=c.slice(0,-1)):c.push(a))});return c.join("/")}function a(a,c){__p&&__p();var d=new(g||(g=b("URI")))(),e=new g(a),f=new g(c);if(f.getDomain()&&!b("isFacebookURI")(f))return c;var j=e;a=["Protocol","Domain","Port","Path","QueryData","Fragment"];a.forEach(function(a){var c=a==="Path"&&j===e;c&&d.setPath(i(e.getPath(),f.getPath()));(h||(h=b("isEmpty")))(f["get"+a]())||(j=f);c||d["set"+a](j["get"+a]())});return d}e.exports=a}),null);
__d("getReferrerURI",["ErrorUtils","URI","isFacebookURI"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;function c(){if(a.PageTransitions&&a.PageTransitions.isInitialized())return a.PageTransitions.getReferrerURI();else{var c=(g||(g=b("ErrorUtils"))).applyWithGuard(function(a){return new(h||(h=b("URI")))(a)},null,[document.referrer]);return c&&b("isFacebookURI")(c)?c:null}}e.exports=c}),null);
__d("PageTransitionsRegistrar",["invariant","Bootloader","DOMQuery","Form","LinkController","PageTransitionPriorities","Parent","Run","URI","computeRelativeURI","getReferrerURI","goURI","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){__p&&__p();var h;b("Run").onAfterLoad(function(){b("Bootloader").loadModules(["PageTransitions"],function(a){a&&a._init&&a._init()},"PageTransitionsRegistrar")});var i=[],j=[];d={DELAY_HISTORY:"delay_history_PTR",registerHandler:function(a,c){a!=null||g(0,5202),c=c||b("PageTransitionPriorities").DEFAULT,i[c]||(i[c]=[]),i[c].push(a)},removeHandler:function(a,c){c=c||b("PageTransitionPriorities").DEFAULT;var d=-1;i[c]&&(d=i[c].indexOf(a));d>-1&&i[c].splice(d,1)},registerCompletionCallback:function(a){j.push(a)},getMostRecentURI:m,getReferrerURI:b("getReferrerURI"),_getTransitionHandlers:function(){return i},_getCompletionCallbacks:function(){return j},_resetCompletionCallbacks:function(){j=[]},__onClick:d,__onSubmit:f};var k=null;function c(a){k=a,b("setTimeoutAcrossTransitions")(function(){k=null},0)}function d(a){if(k){if(!a.isDefaultPrevented()){l(k);var c=k.getAttribute("href");c&&b("goURI")(c)}a.kill()}}function l(a){var c=a.getAttribute("href")||"",d=b("computeRelativeURI")(m().getQualifiedURI().toString(),c).toString();c!=d&&a.setAttribute("href",d)}function f(a,c){__p&&__p();c=c;var d=a.getTarget();if(b("Form").getAttribute(d,"rel")||b("Form").getAttribute(d,"target"))return;var e=new(h||(h=b("URI")))(b("Form").getAttribute(d,"action"));e=b("computeRelativeURI")(m().toString(),e.toString());d.setAttribute("action",e.toString());if((b("Form").getAttribute(d,"method")||"GET").toUpperCase()=="GET"){d=b("Form").serialize(d);c&&(b("DOMQuery").isNodeOfType(c,"input")&&c.type==="submit"||(c=b("Parent").byTag(c,"button")))&&c.name&&(d[c.name]=c.value);typeof e==="string"&&(e=new(h||(h=b("URI")))(e));b("goURI")(e.addQueryData(d));a.kill()}}b("LinkController").registerFallbackHandler(c);function m(){if(a.PageTransitions&&a.PageTransitions.isInitialized())return a.PageTransitions.getMostRecentURI();else{var c=(h||(h=b("URI"))).getRequestURI(!1);c=c.getUnqualifiedURI();var d=new h(c).setFragment(""),e=c.getFragment();e.charAt(0)==="!"&&d.toString()===e.substr(1)&&(c=d);return c}}e.exports=d}),null);
__d("AsyncRequestUtil",["Promise"],(function(a,b,c,d,e,f){"use strict";a={send:function(a){return new(b("Promise"))(function(b,c){return a.setHandler(b).setErrorHandler(c).send()})}};e.exports=a}),null);
__d("DeferredComponent.react",["React","createCancelableFunction","prop-types"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d){__p&&__p();var e;e=a.call(this,c,d)||this;e.$1=function(a){e.setState({ComponentClass:a},function(){e.props.onComponentLoad&&e.props.onComponentLoad(a)})};var f=null;function g(a){f=a}e.props.deferredComponent(g);e.state={ComponentClass:f,cancelableModulesLoaded:b("createCancelableFunction")(e.$1)};return e}var d=c.prototype;d.componentDidMount=function(){this.props.deferredComponent(this.state.cancelableModulesLoaded)};d.componentWillUnmount=function(){this.state.cancelableModulesLoaded.cancel()};d.render=function(){__p&&__p();var a=this.state.ComponentClass;if(!a||this.props.deferredForcePlaceholder)return this.props.deferredPlaceholder;var c=this.props;c.deferredPlaceholder;c.deferredComponent;c.onComponentLoad;c.deferredForcePlaceholder;c=babelHelpers.objectWithoutPropertiesLoose(c,["deferredPlaceholder","deferredComponent","onComponentLoad","deferredForcePlaceholder"]);return b("React").jsx(a,babelHelpers["extends"]({},c))};return c}(b("React").Component);a.propTypes={deferredPlaceholder:(c=b("prop-types")).element.isRequired,deferredComponent:c.func.isRequired,onComponentLoad:c.func,deferredForcePlaceholder:c.bool};e.exports=a}),null);
__d("PerfHelperUtils",["cx","DeferredComponent.react","JSResource","React","joinClasses","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=function(c){__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){return c.apply(this,arguments)||this}var d=a.prototype;d.render=function(){var a=this.props,c=a.tooltip;a=a.className;return b("React").jsx("div",{className:"_28hn"+(this.props.color==="red"?" _4ez8":"")+(this.props.color==="green"?" _28ho":""),children:b("React").jsx(b("DeferredComponent.react"),{deferredPlaceholder:b("React").jsx("div",{}),deferredComponent:function(a){b("promiseDone")(b("JSResource")("Tooltip.react").__setRef("PerfHelperUtils").load(),a)},className:b("joinClasses")("_5_my",a),tooltip:c,children:this.props.children})})};return a}(b("React").PureComponent);function a(a){return b("React").jsx(h,{color:"red",tooltip:"This bootloaded component has a red border\n          because "+a.moduleId+"\n          took over "+a.timeLimitSecs+" seconds ("+a.timeSpentSecs+"s) to load",children:a.children})}c={SlowBootloadBorder:a,BorderedComponent:h};e.exports=c}),null);
__d("ImageBlock.react",["cx","invariant","LeftRight.react","React","joinClasses"],(function(a,b,c,d,e,f,g,h){__p&&__p();function i(a){a=a.children;a&&(a.length===2||a.length===3)||h(0,97);a[0]!==null||h(0,98);return a}function j(a){return"img _8o"+(a==="small"?" _8r":"")+(a==="medium"?" _8s":"")+(a==="large"?" _8t":"")}a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){__p&&__p();var a=i(this.props),c=a[0],d=a[1];a=a[2];var e=this.props,f=e.imageClassName,g=e.contentClassName,h=e.spacing;e=babelHelpers.objectWithoutPropertiesLoose(e,["imageClassName","contentClassName","spacing"]);var k=c.props,l=k.className,m=k.alt,n=k.tabIndex;k=k.title;l={className:b("joinClasses")(l,j(h),f)};c.type==="img"?m===void 0&&(l.alt=""):(c.type==="a"||c.type==="link")&&n===void 0&&k===void 0&&c.props["aria-label"]===void 0&&(l.tabIndex="-1",l["aria-hidden"]="true");c=b("React").cloneElement(c,l);f=!0;this.props.flexibleContent!=null&&(f=this.props.flexibleContent);m=b("joinClasses")(g,(f?"_42ef":"")+(h==="small"?" _8u":""));!a?n=b("React").jsx("div",{className:m,children:d}):n=b("React").jsxs(b("LeftRight.react"),{className:m,direction:b("LeftRight.react").DIRECTION.right,children:[d,a]});return b("React").jsxs(b("LeftRight.react"),babelHelpers["extends"]({},e,{direction:b("LeftRight.react").DIRECTION.left,children:[c,n]}))};return c}(b("React").Component);a.defaultProps={spacing:"small"};e.exports=a}),null);
__d("LynxGeneration",["LinkshimHandlerConfig","URI"],(function(a,b,c,d,e,f){__p&&__p();var g,h=new(g||(g=b("URI")))("/l.php").setDomain(b("LinkshimHandlerConfig").linkshim_host),i={getShimURI:function(){return new(g||(g=b("URI")))(h)},getLynxURIProtocol:function(a){return b("LinkshimHandlerConfig").always_use_https?"https":a.getProtocol()==="http"?"http":"https"},getShimmedHref:function(a,b,c){var d=i.getLynxURIProtocol(a);a=i.getShimURI().setQueryData({u:a.toString(),h:b}).setProtocol(d);b=c==null?void 0:c.trackingNodes;d=c==null?void 0:c.callbacks;b&&b.length&&(a=a.addQueryData("__tn__",b.join("")));d&&d.length&&(a=a.addQueryData("c",d));return a}};e.exports=i}),null);
__d("NonFBLinkReferrerProtector",["Event","LinkshimHandlerConfig","Parent","URI","$","setTimeout"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=(g||(g=b("URI"))).goURIOnWindow,i={alreadySetup:!1,originReferrerPolicyClickWithoutLog:function(a){var c=b("$")("meta_referrer");c.content=b("LinkshimHandlerConfig").switched_meta_referrer_policy;b("setTimeout")(function(){c.content=b("LinkshimHandlerConfig").default_meta_referrer_policy},100)},setupDelegation:function(a){__p&&__p();a===void 0&&(a=!1);if(document.body==null){if(a)return;b("setTimeout")(function(){i.setupDelegation(!0)},100);return}if(i.alreadySetup)return;i.alreadySetup=!0;a=function(a){__p&&__p();var c=i.getMaybeNonFBLinkReferrerJSMode(a.target);if(!c)return;var d=c[0];c=c[1];switch(d){case"origin":i.originReferrerPolicyClickWithoutLog(c);break;case"ie":d=new(g||(g=b("URI")))(c.href);a.preventDefault();h(d,window.open("",c.target),!0);break}};b("Event").listen(document.body,"click",a)},getMaybeNonFBLinkReferrerJSMode:function(a){a=b("Parent").byAttribute(a,"data-lnfb-mode");if(a instanceof HTMLAnchorElement){var c=a.getAttribute("data-lnfb-mode");switch(c){case"ie":case"origin":return[c,a];default:return null}}return null}};e.exports=i}),null);
__d("AbstractLink.react",["AbstractLinkLynxMode","LynxGeneration","NonFBLinkReferrerProtector","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.componentDidMount=function(){this.props.dataLnfbMode!==null?b("NonFBLinkReferrerProtector").setupDelegation():this.props.isLinkshimSupported&&b("AbstractLinkLynxMode").setupDelegation()};d.render=function(){__p&&__p();var a=this.props,c=a.href,d=a.linkRef,e=a.shimhash,f=a.nofollow,g=a.noopener,h=a.rel,i=a.isSafeToSkipShim,j=a.dataLnfbMode;a.isLinkshimSupported;a=babelHelpers.objectWithoutPropertiesLoose(a,["href","linkRef","shimhash","nofollow","noopener","rel","isSafeToSkipShim","dataLnfbMode","isLinkshimSupported"]);var k=c;h=h;var l=null,m=null,n=null;if(e!==null){k=b("LynxGeneration").getShimmedHref(c,e||"");c=b("AbstractLinkLynxMode").getMode(i);m=c[0];l=c[1]}f&&(h=h?h+" nofollow":"nofollow");g&&(h=h?h+" noopener":"noopener");j&&(n=j);return b("React").jsx("a",babelHelpers["extends"]({},a,{href:k.toString(),rel:h,ref:d,"data-sigil":l,"data-lynx-mode":m,"data-lnfb-mode":n}))};return c}(b("React").Component);e.exports=a}),null);
__d("first",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;return d}return null}e.exports=a}),null);
__d("ClickIDParameterUtils",["URI","compactArray","first","isCdnURI","isClickIDBlacklistSVDomainURI","isFacebookSVDomainURI","isFacebookURI","isFbDotComURI"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=new Set(["http","https"]);function i(a){return h.has(a.getProtocol())}var j="fbclid";c="doubleclick.net";var k=(d={},d[c]=[{extractor:function(a){a=a.getQueryString();return a!=null&&a.startsWith("http")?new(g||(g=b("URI")))(a):null},injector:function(a,b,c){b=b.addQueryData(j,c);return a.setQueryString(b.toString())}}],d);function l(a){var b=a.getProtocol(),c=a.getDomain();a=a.getPort();return b!==null&&b.length>0||c!==null&&c.length>0||a!==null}function m(a){var c=b("first")(Object.keys(k).filter(function(b){return a.getDomain().endsWith(b)}));c=c!=null?k[c]:null;return c==null?null:b("first")(b("compactArray")(c.map(function(b){var c=b.extractor(a);return c==null?null:{injector:b.injector,uri:c}})))}function n(a){return!b("isFacebookURI")(a)&&!b("isFacebookSVDomainURI")(a)&&!b("isCdnURI")(a)&&!b("isFbDotComURI")(a)&&l(a)&&i(a)&&!o(a)}function o(a){var c=b("isClickIDBlacklistSVDomainURI")(a);if(c)return!0;c=m(a);return c!=null?o(c.uri):!1}function p(a,b){var c=m(a);return c!=null?c.injector(a,c.uri,b):a.addQueryData(j,b)}function a(a,b){return n(a)?p(a,b):a}e.exports={QUERY_PARAM:j,appendClickIDQueryParam:a}}),null);
__d("Link.react",["AbstractLink.react","ClickIDParameterUtils","LinkshimHandlerConfig","Random","React","URI","isFacebookURI","isInternalFBURI","isLinkshimURI","isMessengerDotComURI","isWorkplaceDotComURI","killswitch"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;function h(){return/(^|\.)workplace\.com$/.test(b("LinkshimHandlerConfig").current_domain)}function i(){return/(^|\.)internalfb\.com$/.test(b("LinkshimHandlerConfig").current_domain)}function j(a){return b("isFacebookURI")(a)||b("isMessengerDotComURI")(a)}function k(a){return a.getDomain().endsWith(".onion")}function l(a){if(h())return m(a);return i()?b("isInternalFBURI")(a)||j(a):j(a)}function m(a){return b("isWorkplaceDotComURI")(a)}var n=/^(#|\/\w)/;function o(a){if(n.test(a.toString()))return!1;var b=a.getProtocol();return b!=="http"&&b!=="https"?!1:!l(a)}function p(a){var c="#",d=null;a instanceof(g||(g=b("URI")))?c=a.toString():typeof a==="string"&&a!==""&&a!=="#"?c=a:typeof a==="object"&&a!==null?(c=a.url.toString(),d=a.shimhash?a.shimhash.toString():d):(c="#",d=null);return(g||(g=b("URI"))).isValidURI(c)?[new(g||(g=b("URI")))(c),d]:[null,d]}var q=new RegExp("^(l|lm|h)\\..*$","i");function r(a){if(b("killswitch")("LINK_UPGRADE_UNSHIMMED_JS"))return null;if(a.getProtocol()!=="http")return null;if(!l(a))return null;return q.test(a.getDomain())?null:a.setProtocol("https")}function s(a){return a.getProtocol()===""||a.getDomain()===""&&a.getPort()===""?!1:!0}function t(a){if(!s(a))return!1;var c=b("LinkshimHandlerConfig").current_domain;if(c===""){c="."+c;return a.getDomain().endsWith(c)}return!0}function u(a,c){var d=null,e=!1;a=a!==null&&a instanceof(g||(g=b("URI")))?a:new(g||(g=b("URI")))("#");var f=t(a),h=f===!0;c=c||(f===!0?"_blank":null);f=b("LinkshimHandlerConfig").use_rel_no_opener&&c==="_blank";return[a,h,f,c,d,e]}function v(a,c,d,e){__p&&__p();if(a!==null&&a instanceof(g||(g=b("URI")))){if(!b("killswitch")("LINK_PARSES_SHIMHASH_FROM_LINKSHIM")&&b("isLinkshimURI")(a)){var f=a.getQueryData(),h=f.u;f=f.h;(g||(g=b("URI"))).isValidURI(h)&&(a=new(g||(g=b("URI")))(h),c==null&&(c=f))}h=b("LinkshimHandlerConfig").click_ids;if(!b("killswitch")("LINKSHIM_ADD_CLICK_ID_PARAM")&&h!=null&&h.length>0){f=Math.floor(b("Random").random()*h.length);h=h[f];a=b("ClickIDParameterUtils").appendClickIDQueryParam(a,h)}}else a=new(g||(g=b("URI")))("#");c==null&&o(a)&&(c=b("LinkshimHandlerConfig").link_react_default_hash);f=r(a);f!=null&&(a=f);h=c!=null;f=d||(c!==null?"_blank":null);d=!!e;b("LinkshimHandlerConfig").onion_always_shim&&k(a)&&(d=!1);e=b("LinkshimHandlerConfig").use_rel_no_opener&&c!==null&&f==="_blank";return[a,h,e,f,c,d]}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){__p&&__p();var a=this.props;a.allowunsafehref;var c=a.s,d=a.href,e=a.linkRef;a.target;a=babelHelpers.objectWithoutPropertiesLoose(a,["allowunsafehref","s","href","linkRef","target"]);d=p(d);var f=d[0];d=d[1];d=b("LinkshimHandlerConfig").is_linkshim_supported?v(f,d,this.props.target,c):u(f,this.props.target);c=d[0];f=d[1];var g=d[2],h=d[3],i=d[4];d=d[5];var j=null;b("LinkshimHandlerConfig").is_linkshim_supported||(j=b("LinkshimHandlerConfig").non_linkshim_lnfb_mode);return b("React").jsx(b("AbstractLink.react"),babelHelpers["extends"]({},a,{href:c,linkRef:e,nofollow:f,noopener:g,shimhash:i,target:h,isSafeToSkipShim:d,dataLnfbMode:j,isLinkshimSupported:b("LinkshimHandlerConfig").is_linkshim_supported}))};return c}(b("React").Component);e.exports=a}),null);
__d("XUIText.react",["cx","React","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getAriaLevel=function(a,b){if(a==="header1")return 1;else if(a==="header2")return 2;else if(a==="header3")return 3;else if(a==="header4")return 4;return b};d.render=function(){var a=this.props,c=a.color,d=a.palette,e=a.type,f=a.size,g=a.weight,h=a.display,i=a.headingLevel,j=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["color","palette","type","size","weight","display","headingLevel","children"]);e=(e==="serif"?"_5s6c":"")+(f==="small"?" _50f3":"")+(f==="medium"?" _50f4":"")+(f==="large"?" _50f5":"")+(f==="xlarge"||f==="xlarge_DEPRECATED"?" _50f6":"")+(g==="bold"?" _50f7":"")+(g==="normal"?" _5kx5":"")+(f==="display"?" _2iei":"")+(f==="header1"?" _2iej":"")+(f==="header2"?" _2iek":"")+(f==="header3"?" _2iel":"")+(f==="header4"?" _2iem":"")+(f==="body1"?" _2ien":"")+(f==="body2"?" _2ieo":"")+(f==="body3"?" _2iep":"")+(f==="meta1"?" _2ieq":"")+(c==="blueLink"?" _rzx":"")+(c==="white"?" _2ier":"")+(c==="highlight"?" _1hk0":"")+(c==="positive"?" _2iet":"")+(c==="negative"?" _2ieu":"")+(d!=="dark"&&c==="placeholder"?" _rzy":"")+(d!=="dark"&&c==="primary"?" _2iev":"")+(d!=="dark"&&c==="secondary"?" _2iex":"")+(d!=="dark"&&c==="disabled"?" _2iey":"")+(d==="dark"&&c==="primary"?" _2iez":"")+(d==="dark"&&c==="secondary"?" _2ie-":"")+(d==="dark"&&c==="disabled"?" _2ie_":"");g=this.getAriaLevel(f,i);g!==void 0&&g!==null&&(a=babelHelpers["extends"]({},a,{role:"heading","aria-level":""+g}));return h==="block"?b("React").jsx("div",babelHelpers["extends"]({},a,{className:b("joinClasses")(this.props.className,e),children:j})):b("React").jsx("span",babelHelpers["extends"]({},a,{className:b("joinClasses")(this.props.className,e),children:j}))};return c}(b("React").Component);a.propTypes={color:(c=b("prop-types")).oneOf(["primary","secondary","blueLink","placeholder","disabled","white","highlight","positive","negative"]),display:c.oneOf(["inline","block"]),headingLevel:c.oneOf([1,2,3,4,5,6]),palette:c.oneOf(["light","dark"]),size:c.oneOf(["small","medium","large","xlarge","xlarge_DEPRECATED","inherit","display","header1","header2","header3","header4","body1","body2","body3","meta1"]),type:c.oneOf(["serif","inherit"]),weight:c.oneOf(["bold","inherit","normal"])};a.defaultProps={type:"inherit",size:"inherit",weight:"inherit",display:"inline"};e.exports=a}),null);
__d("ProfileTile.react",["Image.react","ImageBlock.react","Link.react","React","URI","XUIText.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=24;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.size||h;a=this.props.imageProps&&this.props.imageProps.src||"https://graph.facebook.com/"+(this.props.id||"")+"/picture?width="+a+"&height="+a;var c=this.props.imageProps&&this.props.imageProps.href||"/"+(this.props.id||""),d=null;this.props.shouldShowProfileCardOnHover&&(d=new(g||(g=b("URI")))("/ajax/hovercard/user.php").setQueryData({id:this.props.id}));var e=this.props.desc?b("React").jsx(b("XUIText.react"),babelHelpers["extends"]({display:"block"},this.props.descProps,{children:this.props.desc})):null,f=b("React").jsx("span",babelHelpers["extends"]({},this.props.titleProps,{children:this.props.name}));this.props.shouldNameLinkToProfile&&(f=b("React").jsx(b("Link.react"),babelHelpers["extends"]({"data-hovercard":d},this.props.titleProps,{href:this.props.titleProps&&this.props.titleProps.href||"/"+(this.props.id||""),children:this.props.name})));d=this.props.image||(this.props.size&&this.props.imageProps&&!this.props.imageProps.height&&this.props.imageProps&&!this.props.imageProps.width?b("React").jsx(b("Image.react"),babelHelpers["extends"]({height:this.props.size,src:a,width:this.props.size},this.props.imageProps)):b("React").jsx(b("Image.react"),babelHelpers["extends"]({src:a},this.props.imageProps)));a=this.props.shouldImageLinkToProfile?b("React").jsx(b("Link.react"),{href:c,children:d}):d;return b("React").jsxs(b("ImageBlock.react"),babelHelpers["extends"]({},this.props.tileProps,{children:[a,b("React").jsxs("div",{children:[f,e]})]}))};return c}(b("React").Component);a.defaultProps={shouldShowProfileCardOnHover:!0,shouldNameLinkToProfile:!0};e.exports=a}),null);
__d("ReactPropTransfererCore",["emptyFunction","joinClasses"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){return function(b,c,d){!Object.prototype.hasOwnProperty.call(b,c)?b[c]=d:b[c]=a(b[c],d)}}c=a(function(a,b){return Object.assign({},b,a)});var g={children:b("emptyFunction"),className:a(b("joinClasses")),style:c};function h(a,b){for(var c in b){if(!Object.prototype.hasOwnProperty.call(b,c))continue;var d=g[c];d&&Object.prototype.hasOwnProperty.call(g,c)?d(a,c,b[c]):Object.prototype.hasOwnProperty.call(a,c)||(a[c]=b[c])}return a}d={mergeProps:function(a,b){return h(Object.assign({},a),b)}};e.exports=d}),null);
__d("ReactPropTransferer",["ReactPropTransfererCore"],(function(a,b,c,d,e,f){e.exports=b("ReactPropTransfererCore")}),null);
__d("cxMargin",["cx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){throw new Error("cxMargin: Unexpected margin transformation.")}e.exports=a}),null);
__d("getContextualLayerCursorOffset",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b,c){__p&&__p();var d=a.getOrientation(),e=d.getPosition();d=d.getAlignment();var f=a.getContent().getBoundingClientRect();a=a.getContext().getBoundingClientRect();b=b-a.left;c=c-a.top;switch(d){case"left":b-=f.width;break;case"center":b-=a.width*.5;break;case"right":b-=a.width-f.width;break;default:throw new Error("invalid alignment")}switch(e){case"above":break;case"left":b+=f.width;c-=f.height*.5;break;case"right":b-=f.width;c-=f.height*.5;break;case"below":c-=a.height;break;default:throw new Error("invalid position")}return{offsetX:b,offsetY:c}}e.exports=a}),null);
__d("XUIAmbientNUXTheme",["cx"],(function(a,b,c,d,e,f,g){a={wrapperClassName:"_2x6q",arrowDimensions:{offset:14,length:18}};e.exports=a}),null);
__d("VideoChannelProgressCircle.react",["cx","React","ReactDOM","Style","prop-types"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=null,c.$2=0,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.drawProgressCircle(this.props)};d.componentWillUnmount=function(){clearInterval(this.$1)};d.UNSAFE_componentWillReceiveProps=function(a){(a.makeProgress!==this.props.makeProgress||a.timeoutSec!==this.props.timeoutSec)&&this.drawProgressCircle(a)};d.drawProgressCircle=function(a){var c=this,d=b("ReactDOM").findDOMNode(this.refs.progressCircle),e=this.$2,f=e/100;b("Style").set(d,"stroke-dashoffset",e+"px");clearInterval(this.$1);a.makeProgress&&(this.$1=setInterval(function(){e-=f,b("Style").set(d,"stroke-dashoffset",e+"px"),e<=0&&(clearInterval(c.$1),b("Style").set(d,"stroke-dashoffset","0px"),a.onProgressDone&&a.onProgressDone())},a.timeoutSec*10))};d.render=function(){var a=this.props.watchAndScroll?34:80,c=this.props.watchAndScroll?2:4;a=a/2;var d=a-c/2;this.$2=d*2*Math.PI;return b("React").jsxs("div",{children:[b("React").jsxs("svg",{className:"_20_8",children:[b("React").jsx("circle",{cx:a,cy:a,r:d,stroke:"#ffffff",strokeWidth:c,strokeDasharray:this.$2,fill:"transparent"}),b("React").jsx("circle",{ref:"progressCircle",cx:a,cy:a,r:d,stroke:"#5890ff",strokeWidth:c,strokeDasharray:this.$2,fill:"transparent"})]}),this.props.children]})};return c}(b("React").PureComponent);a.propTypes={children:(c=b("prop-types")).element,makeProgress:c.bool.isRequired,onProgressDone:c.func,timeoutSec:c.number.isRequired,watchAndScroll:c.bool};e.exports=a}),null);
__d("VideoChannelReplayImage.react",["cx","Image.react","React"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx(b("Image.react"),{onClick:this.props.onClick,className:"_4nxy"+(this.props.size==="small"?" _4nxz":""),src:"/images/video/channel_view/replay.svg"})};return c}(b("React").Component);a.defaultProps={size:"normal"};e.exports=a}),null);
__d("XVideoChannelViewAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/channel/view/async/{id}/",{id:{type:"String",required:!0},original_video_id:{type:"String",required:!0},cursor:{type:"String"},story_count:{type:"Int",defaultValue:3},caller:{type:"Enum",defaultValue:"channel_view_from_unknown",enumType:1}})}),null);
__d("XVideoChannelViewStoryAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/channel/view/story/async/{root_video_id}/",{root_video_id:{type:"String",required:!0},video_ids:{type:"StringVector",defaultValue:[]},use_video_placeholder:{type:"Bool",defaultValue:!1},setup_interactions:{type:"Bool",defaultValue:!1},is_first_story:{type:"Bool",defaultValue:!1},feed_tracking_data:{type:"StringVector",defaultValue:[]},caller:{type:"Enum",defaultValue:"channel_view_from_unknown",enumType:1},channel_id:{type:"String"},ad_impression_token:{type:"String"},fetch_channel_pivots:{type:"Bool",defaultValue:!1}})}),null);
__d("VideoChannelStoryFetcher",["AsyncRequest","HTML","XVideoChannelViewAsyncController","XVideoChannelViewStoryAsyncController"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a,b,c,d,e,f,g){__p&&__p();this.$7=a;this.$8=b;this.$4=c;this.$10=0;this.$2=null;this.$3=!0;this.$5=[];this.$6=[];this.$9={};if(e){this.$5=e.videoIDs;this.$6=e.feedTrackingData;this.$2=e.cursorInfo.cursor;this.$3=e.cursorInfo.hasNextPage;a=this.$5.indexOf(this.$7);this.$9.start=a;this.$9.end=a+1}if(f){this.$5=f;this.$3=!!g;b=this.$5.indexOf(this.$7);this.$9.start=b;this.$9.end=b+1}this.$11=d;this.$12=[];this.$13=[]}var c=a.prototype;c.reset=function(a,b){this.$7=a,this.$8=b,this.$10=0,this.$2=null,this.$3=!0,this.$5=[],this.$6=[],this.$9={},this.$12=[],this.$13=[]};c.abandonRequest=function(){this.$1&&this.$1.abandon()};c.hasNext=function(){var a=this.$5.length-this.$9.end>0;return this.$3||a};c.$14=function(a,b,c){var d={};d.event=a;d.request_status=b;d.perf_time_ms=Date.now()-c};c.fetchFirstStory=function(a,c,d){__p&&__p();var e=this;if(c===null&&this.$5.length!==0){var f=this.$5.indexOf(this.$7);c=this.$6[f]}f=b("XVideoChannelViewStoryAsyncController").getURIBuilder().setEnum("caller",this.$4).setStringVector("video_ids",[this.$7]).setString("root_video_id",this.$7).setBool("is_first_story",!0).setBool("use_video_placeholder",a).setBool("setup_interactions",d).setString("channel_id",this.$8).setString("ad_impression_token",this.$11);c&&f.setStringVector("feed_tracking_data",[JSON.stringify(c)]);var g=Date.now();a=new(b("AsyncRequest"))(f.getURI()).setAllowCrossPageTransition(!0).setHandler(function(){e.$14("fetch_first_story_success","succeeded",g),e.$15()}).setErrorHandler(function(){e.$14("fetch_first_story_success","failed",g),e.$15()}).setAbortHandler(function(){e.$14("fetch_first_story_success","aborted",g),e.$15()});this.$1=a;this.$10=Date.now();a.send()};c.getPreloadedData=function(){return{stories:this.$12,thumbnails:this.$13}};c.$16=function(a,c){__p&&__p();var d=this;if(!this.$8)return;a=b("XVideoChannelViewAsyncController").getURIBuilder().setString("id",this.$8).setEnum("caller",this.$4).setString("original_video_id",this.$7).setInt("story_count",a);this.$2&&a.setString("cursor",this.$2.toString());var e=Date.now();a=a.getURI();a=new(b("AsyncRequest"))(a).setAllowCrossPageTransition(!0).setHandler(function(a){d.$14("fetch_stories_from_entquery","succeeded",e),d.$2=a.getPayload().cursor,d.$3=a.getPayload().hasNextPage,d.$15(),d.$17(a,function(a,b){d.$12=[].concat(d.$12,a);d.$13=[].concat(d.$13,b);return c(a,b)})}).setErrorHandler(function(){d.$14("fetch_stories_from_entquery","failed",e),d.$15()}).setAbortHandler(function(){d.$14("fetch_stories_from_entquery","aborted",e),d.$15()});this.$1=a;a.send()};c.$18=function(a,c,d){__p&&__p();var e=this,f=this.$9.end,g=this.$5.length-f,h=f+Math.min(g,a);if(g>0){var i=this.$5.slice(f,h);f=this.$6.slice(f,h).map(function(a){return JSON.stringify(a)});i=b("XVideoChannelViewStoryAsyncController").getURIBuilder().setEnum("caller",this.$4).setString("channel_id",this.$8).setString("root_video_id",this.$7).setStringVector("video_ids",i).setStringVector("feed_tracking_data",f);var j=Date.now();this.$1=new(b("AsyncRequest"))(i.getURI()).setAllowCrossPageTransition(!0).setErrorHandler(function(){e.$14("fetch_stories_forward","failed",j),e.$15()}).setAbortHandler(function(){e.$14("fetch_stories_forward","aborted",j),e.$15()}).setHandler(function(a){e.$14("fetch_stories_forward","succeeded",j),e.$9.end=h,e.$15(),e.$17(a,function(a,b){e.$12=[].concat(e.$12,a);e.$13=[].concat(e.$13,b);return c(a,b)})});this.$1.send();d&&d(g)}else this.$3&&(this.$16(a,c),d&&d(a))};c.$19=function(a,c,d){__p&&__p();var e=this,f=this.$9.start;if(f>0){var g=Math.max(f-a,0);a=this.$5.slice(g,f);var h=this.$6.slice(g,f).map(function(a){return JSON.stringify(a)});a=b("XVideoChannelViewStoryAsyncController").getURIBuilder().setEnum("caller",this.$4).setString("channel_id",this.$8).setString("root_video_id",this.$7).setStringVector("video_ids",a).setStringVector("feed_tracking_data",h);var i=Date.now();this.$1=new(b("AsyncRequest"))(a.getURI()).setAllowCrossPageTransition(!0).setErrorHandler(function(){e.$14("fetch_stories_backward","failed",i),e.$15()}).setAbortHandler(function(){e.$14("fetch_stories_backward","aborted",i),e.$15()}).setHandler(function(a){e.$14("fetch_stories_backward","succeeded",i),e.$9.start=g,e.$15(),e.$17(a,c)});this.$1.send();d&&d(f-g)}};c.fetchStories=function(a,b,c){var d=3;if(this.$1)return;a?this.$18(d,b,c):this.$19(d,b,c)};c.$17=function(a,c){a=a.getPayload();var d=b("HTML").replaceJSONWrapper(a.stories).getNodes();a=a.thumbnails.map(function(a){return b("HTML").replaceJSONWrapper(a).getRootNode()});c(d,a)};c.$15=function(){this.$1=null};return a}();e.exports=a}),null);
__d("XLiveClipVideoInternalSubmitController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/videos/clipping/submit/",{video_id:{type:"Int",required:!0},start_seconds:{type:"Int"},end_seconds:{type:"Int"},show_share_dialog_on_finish:{type:"Bool",defaultValue:!0}})}),null);
__d("XLiveVideoClippingShareDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/live/clipping/share/dialog/",{video_id:{type:"FBID",required:!0},show_preview:{type:"Bool",defaultValue:!1},start_seconds:{type:"Int"},end_seconds:{type:"Int"},enable_scrubber:{type:"Bool",defaultValue:!1}})}),null);
__d("ClippingApi",["regeneratorRuntime","Arbiter","AsyncRequest","AsyncRequestUtil","XLiveClipVideoInternalSubmitController","XLiveVideoClippingShareDialogController","qex"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){}var c=a.prototype;c.clipVideo=function(a,c,d,e){__p&&__p();var f,g,h;return b("regeneratorRuntime").async(function(i){__p&&__p();while(1)switch(i.prev=i.next){case 0:f=Math.round(d);e=!!b("qex")._("1180562");if(!e){i.next=6;break}g=b("XLiveVideoClippingShareDialogController").getURIBuilder().setFBID("video_id",c).setBool("show_preview",!1).setInt("start_seconds",f-30).setInt("end_seconds",f).setBool("enable_scrubber",e).getURI();new(b("AsyncRequest"))(g).setHandler(function(){b("Arbiter").inform("GamesVideoClipping/clipReady");var c=a.current;(c==null?void 0:c.isFullscreen())&&(c==null?void 0:c.toggleFullscreen());c==null?void 0:c.pause("user_initiated")}).send();return i.abrupt("return");case 6:h=b("XLiveClipVideoInternalSubmitController").getURIBuilder().setInt("end_seconds",f).setInt("video_id",c).getURI();i.next=9;return b("regeneratorRuntime").awrap(b("AsyncRequestUtil").send(new(b("AsyncRequest"))(h).setMethod("POST")));case 9:i.sent;return i.abrupt("return");case 11:case"end":return i.stop()}},null,this)};c.shareClip=function(a){a=b("XLiveVideoClippingShareDialogController").getURIBuilder().setFBID("video_id",a).setBool("show_preview",!1).getURI();new(b("AsyncRequest"))(a).setHandler(function(){b("Arbiter").inform("GamesVideoClipping/clipReady")}).send()};return a}();e.exports=new a()}),null);
__d("VideoScrollTracker",["Scroll"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this.$2=-1,this.$3=!1,this.$4=a}var c=a.prototype;c.$5=function(){return this.$4?b("Scroll").getTop(this.$4):null};c.onScroll=function(){if(this.$3){var a=this.$5();a!==null&&a!==void 0&&(this.$1=a<this.$2?"up":"down",this.$6(a))}};c.$6=function(a){this.$2=a};c.start=function(){this.$3=!0;var a=this.$5();a!==null&&a!==void 0&&this.$6(a)};c.stop=function(){this.$3=!1};c.getLastScrollDirection=function(){return this.$1};c.destroy=function(){this.stop(),this.$4=null};return a}();e.exports=a}),null);
__d("VideoWithClickPlayPause",["logVideosClickTracking"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this.$1=a,this.$2=this.$1.getVideoNode(),this.$1.addListener("clickVideo",this.$3.bind(this)),this.$1.hasSeenClick()&&this.$3()}var c=a.prototype;c.$3=function(){var a=this.$1.getOption("CommercialBreakVideoAdOverlay","videoController");if(this.$1.isState("playing")){if(this.$1.getOption("VideoWithLiveBroadcast","isLive")||a&&a.getOption("VideoWithLiveBroadcast","isLive")||this.$4()||this.$5())return;this.$1.pause("user_initiated")}else b("logVideosClickTracking")(this.$2),this.$1.play("user_initiated")};c.$4=function(){var a=this.$1.getOption("CommercialBreakVideoAdOverlay","videoController");a=a&&a.getOption("VideoWithInstreamVideo","controller");return a&&!a.getConfig().canPauseAdBreak};c.$5=function(){return this.$1.getOption("VideoWithInstreamVideo","disableClickToPause")};return a}();e.exports=a}),null);
__d("cloneWithProps_DEPRECATED",["React","ReactPropTransferer","warning"],(function(a,b,c,d,e,f){"use strict";var g="children";c=!1;function a(a,c){c=b("ReactPropTransferer").mergeProps(c,a.props);!Object.prototype.hasOwnProperty.call(c,g)&&Object.prototype.hasOwnProperty.call(a.props,g)&&(c.children=a.props.children);return b("React").createElement(a.type,c)}e.exports=a}),null);
__d("AbstractButton.react",["cx","Link.react","React","cloneWithProps_DEPRECATED","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){__p&&__p();a=b("React").Component;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.buttonRef=b("React").createRef(),d.handleLinkClick=function(a){d.props.disabled?a.preventDefault():d.props.onClick&&d.props.onClick(a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.focus=function(){this.buttonRef.current!=null&&this.buttonRef.current.focus()};d.render=function(){__p&&__p();var a=this.props,c=a.depressed,d=a.disabled,e=a.image,f=a.imageRight,g=a.label,h=a.labelIsHidden;a=babelHelpers.objectWithoutPropertiesLoose(a,["depressed","disabled","image","imageRight","label","labelIsHidden"]);delete a.shade;c="_42ft"+(d?" _42fr":"")+(c?" _42fs":"");e=e;if(e){var i={};g&&(i.alt="",h||(i.className="_3-8_"));e=b("cloneWithProps_DEPRECATED")(e,i)}i=f;if(i){f={};g&&(f.alt="",h||(f.className="_3-99"));i=b("cloneWithProps_DEPRECATED")(i,f)}if(this.props.href){f=this.props;var j=f.disabled;f=f.role;f=j&&f==="button";return b("React").jsxs(b("Link.react"),babelHelpers["extends"]({},a,{linkRef:this.buttonRef,"aria-disabled":f?!0:void 0,className:b("joinClasses")(this.props.className,c),onClick:this.handleLinkClick,tabIndex:j?-1:this.props.tabIndex,children:[e,h?b("React").jsx("span",{className:"accessible_elem",children:g}):g,i]}))}else if(this.props.type&&this.props.type!=="submit")return b("React").jsxs("button",babelHelpers["extends"]({},a,{ref:this.buttonRef,className:b("joinClasses")(this.props.className,c),disabled:d,type:this.props.type,children:[e,h?b("React").jsx("span",{className:"accessible_elem",children:g}):g,i]}));else return b("React").jsxs("button",babelHelpers["extends"]({},a,{ref:this.buttonRef,className:b("joinClasses")(this.props.className,c),disabled:d,type:"submit",value:"1",children:[e,h?b("React").jsx("span",{className:"accessible_elem",children:g}):g,i]}))};return c}(a);c.propTypes={image:(d=b("prop-types")).element,imageRight:d.element,depressed:d.bool,label:d.node,onClick:d.func,labelIsHidden:d.bool};c.defaultProps={disabled:!1,depressed:!1,labelIsHidden:!1};e.exports=c}),null);
__d("AbstractVideoFullscreenControl.react",["cx","AbstractButton.react","React","joinClasses","prop-types"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={awaitingUpdate:!1},c.isFullscreen=function(){return c.state.awaitingUpdate?c.state.isFullscreenOverride:!!c.props.isFullscreen},c.onButtonClick=function(){c.props.onToggleFullscreen&&c.props.onToggleFullscreen()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=Object.assign({},this.props);delete a.isFullscreen;delete a.onToggleFullscreen;return b("React").jsx(b("AbstractButton.react"),babelHelpers["extends"]({},a,{className:b("joinClasses")(this.props.isFullscreen?"uiContextualLayerParent":"",this.props.className),disabled:this.props.disabled,image:this.props.image,label:this.props.label,onClick:this.onButtonClick}))};return c}(b("React").PureComponent);a.propTypes={disabled:(c=b("prop-types")).bool,image:c.element,isFullscreen:c.bool,onToggleFullscreen:c.func};e.exports=a}),null);
__d("VideoAutoplayRule",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this.$1=!0,this.videoUnit=a}var b=a.prototype;b.calculateAutoplayScore=function(){throw new Error("Should be overridden")};b.enableRule=function(){this.$1=!0};b.disableRule=function(){this.$1=!1};b.isEnabled=function(){return this.$1};return a}();e.exports=a}),null);
__d("DocumentFocusForMutedVideoAutoplayRule",["VideoAutoplayRule"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b){return a.call(this,b)||this}var c=b.prototype;c.calculateAutoplayScore=function(){return this.isEnabled()?this.$DocumentFocusForMutedVideoAutoplayRule1():1};c.$DocumentFocusForMutedVideoAutoplayRule1=function(){var a=this.videoUnit.getVideoPlayerController();return a&&a.isMuted()?document.hasFocus()?1:0:1};return b}(b("VideoAutoplayRule"));e.exports=a}),null);
__d("VideoAutoplayControllerAbortLoadingHelper",["invariant","VideoPlayerAbortLoadingExperiment","VideoPlayerExperiments","VideoPlayerShakaGlobalConfig","getViewportDimensions"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(){"use strict";__p&&__p();function a(){this.$1=new Set(),this.$2=new Map()}var c=a.prototype;c.maybeAbortLoading=function(){__p&&__p();for(var c=this.$1,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;var h=b("VideoPlayerShakaGlobalConfig").getString("defer_which_video_to_abort_loading_decisioning_logic","all"),i=f.getVideoPlayerController();i=i?i.isLiveVideo():null;if(i!==null&&(h==="vod"&&i||h==="live"&&!i))continue;if(!f.isState("playing")&&typeof f.abortLoading==="function"&&a.shouldAbortLoadingVideoUnit(f))b("VideoPlayerExperiments").abortLoadingHelperNegativeYAbortLoading?this.$3(f):this.$4(f);else if(b("VideoPlayerExperiments").abortLoadingHelperNegativeYAbortLoading&&f.isState("playing")){h=this.$2.get(f);!h&&g(0,3497);h&&h.abortedLoading&&(h.abortedLoading=!1)}}};c.$3=function(a){if(b("VideoPlayerExperiments").abortLoadingHelperBoundedReloading){var c=b("getViewportDimensions")().height/-2;a.getDistanceToViewport()<b("VideoPlayerExperiments").abortedLoadingPixelBoundary+c&&!a.isVisible()?this.$5(a):a.getDistanceToViewport()>b("VideoPlayerExperiments").reloadingPixelBoundary+c&&this.$6(a)}else a.getDistanceToViewport()<0&&!a.isVisible()&&this.$5(a)};c.addVideoUnit=function(a){this.$1.has(a)||(this.$1.add(a),this.$2.set(a,{y:a.getDistanceToViewport(),timestamp:new Date().valueOf(),v:0,abortedLoading:!1}))};c.removeVideoUnit=function(a){this.$1["delete"](a),this.$2["delete"](a)};c.calculateFutureScrollPosition=function(a){var b=a.y1-a.y0,c=a.t1-a.t0;b=b/c;var d=b-a.v0;d=d/c;c=a.t;c=d*c*c/2+c*b+a.y1;return{v1:b,a:d,S:c}};c.preloadClosestVideoUnits=function(a){var b=this;this.$7(a).forEach(function(a){return b.$6(a)})};c.$7=function(a){return Array.from(this.$1).filter(function(a){return a.getDistanceToViewport()>=0}).sort(function(a,b){return a.getDistanceToViewport()-b.getDistanceToViewport()}).slice(0,a)};c.$6=function(a){var b=this.$2.get(a);!b&&g(0,3497);var c;b&&(c=b.abortedLoading,b.abortedLoading=!1);c&&typeof a.preload==="function"&&a.preload()};c.$5=function(a){var b=this.$2.get(a);!b&&g(0,3497);var c;b&&(c=b.abortedLoading,b.abortedLoading=!0);!c&&typeof a.abortLoading==="function"&&a.abortLoading()};c.$4=function(a){__p&&__p();var c=b("getViewportDimensions")().height,d=1600;c=c/2;var e=c+d;c=-c;c=c-d;d=this.$2.get(a);!d&&g(0,3497);if(!d)return;var f=a.getDistanceToViewport(),h=d.y;d.y=f;var i=new Date().valueOf(),j=d.timestamp;d.timestamp=i;var k=d.v;if(c<=f&&e>=f){d.abortedLoading&&this.$6(a);return}var l=500;h=this.calculateFutureScrollPosition({y0:h,y1:f,t0:j,t1:i,v0:k,t:l});d.v=h.v1;j=h.S;d.abortedLoading?(f<c&&j>c||f>e&&j<e)&&this.$6(a):this.$5(a)};a.shouldAbortLoadingVideoUnit=function(a){var c=b("VideoPlayerShakaGlobalConfig").getBool("abort_loading_decisioning_logic",!1),d=!c,e=!0;if(a){typeof a.getIsInChannel==="function"&&(e=a.getIsInChannel());typeof a.getSource==="function"&&c&&(d=a.getSource()==="tahoe");return b("VideoPlayerAbortLoadingExperiment").canAbort&&!e&&!d}return!1};return a}();e.exports=a}),null);
__d("VideoAutoplayControllerBase",["Arbiter","DesktopHscrollUnitEventConstants","Event","SubscriptionsHandler","VideoAutoplayControllerAbortLoadingHelper","VideoPlayerExperiments","VideoPlayerShakaGlobalConfig","VideoScrollTracker","Visibility","clearTimeout","debounce","destroyOnUnload","emptyFunction","setTimeout","throttle"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("VideoPlayerShakaGlobalConfig").getNumber("abort_loading_delay",3e3);function h(a,b){var c=[];return function(){var d=Date.now();c.unshift(d);var e=0;while(c[++e]+b>d);c=c.slice(0,e);return c.length<=a}}function i(a,c,d){__p&&__p();var e=null;return function(){__p&&__p();for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];if(c()){a.apply(void 0,g);return b("emptyFunction").thatReturnsFalse}else if(!e){var i=b("setTimeout")(function(){e=null,a.apply(void 0,g)},d);e=function(){if(!e)return!1;b("clearTimeout")(i);e=null;return!0}}return e}}a=function(){__p&&__p();function a(a){__p&&__p();var c=this;this.$8=b("emptyFunction");this.$9=b("emptyFunction");this.$3=null;this.$2=null;this.$10=[];this.$1=a;this.$4=null;this.$5=new(b("SubscriptionsHandler"))();b("VideoPlayerShakaGlobalConfig").getBool("autoplay_controller_use_video_scroll_tracker",!1)&&(this.$11=new(b("VideoScrollTracker"))(document.body),this.$11.start());b("destroyOnUnload")(function(){c.$10=[],c.$3=null,c.$4&&(c.$4.remove(),c.$4=null),c.$5.release(),c.$11&&c.$11.destroy()});b("VideoPlayerExperiments").autoplayMaxCallsPerWindow&&(this.$6=i(function(a){var b=c.$3;b&&b.playWithoutUnmute(a)},h(b("VideoPlayerExperiments").autoplayMaxCallsPerWindow,b("VideoPlayerExperiments").autoplayThrottleWindow),b("VideoPlayerExperiments").autoplayThrottleDelay));this.$7=b("emptyFunction").thatReturnsFalse}var c=a.prototype;c.getVideoUnits=function(){return this.$10};c.addVideoUnit=function(a){var b=this,c=a.getVideoPlayerController();c&&c.registerOption("VideoAutoplayControllerBase/VideoScrollTracker","getLastScrollDirection",function(){return b.getLastScrollDirection()});this.$10.push(a)};c.removeVideoUnit=function(a){var b=this.$10.findIndex(function(b){return b===a});if(b>-1){this.$10.splice(b,1);b=a.getVideoPlayerController();b&&b.unregisterOption("VideoAutoplayControllerBase/VideoScrollTracker","getLastScrollDirection")}};c.getPlayingVideoUnit=function(){return this.$3};c.setPlayingVideoUnit=function(a){this.$3=a,this.$3&&this.setupPlayingVideoUnitSubscriptions()};c.getLastScrollDirection=function(){return this.$11?this.$11.getLastScrollDirection():null};c.playVideo=function(a,c){__p&&__p();if(b("VideoPlayerExperiments").disableAutoplayForInactiveTab&&b("Visibility").isHidden()){if(b("VideoPlayerExperiments").removeHiddenVideoTracking){this.setPlayingVideoUnit(null);return}this.$2=a;return}this.setPlayingVideoUnit(a);if(this.$3){a=this.$6;a?this.$7=a.call(this,c):this.$3.playWithoutUnmute(c)}};c.setupPlayingVideoUnitSubscriptions=function(){throw new Error("Should be overridden")};c.addSubscriberVideoUnit=function(){if(!this.getVideoUnits().length){var a;this.$5.addSubscriptions(b("Event").listen(window,"resize",this.updateAutoplay.bind(this)),b("Event").listen(window,"blur",this.$12.bind(this)),b("Event").listen(window,"focus",this.$13.bind(this)),(a=b("Visibility")).addListener(a.HIDDEN,this.$12.bind(this)),a.addListener(a.VISIBLE,this.$13.bind(this)),b("Arbiter").subscribe(b("DesktopHscrollUnitEventConstants").HSCROLL_ITEM_SHOWN_EVENT,this.updateAutoplay.bind(this)));this.$14()||this.$15()}};c.$12=function(){b("VideoPlayerExperiments").removeHiddenVideoTracking?this.$16("page_visibility_initiated"):this.$2||(this.$2=this.getPlayingVideoUnit(),this.$16("page_visibility_initiated"))};c.$13=function(){b("VideoPlayerExperiments").removeHiddenVideoTracking?this.updateAutoplay():this.$2&&(this.playVideo(this.$2,"page_visibility_initiated"),this.$2=null)};c.$15=function(){__p&&__p();var a=this,c=function(){a.$11&&a.$11.onScroll(),a.updateAutoplay()};this.$4&&this.$4.remove();this.$8=b("throttle")(c,this.$1);this.$9=b("debounce")(function(){return a.updateAutoplay()},this.$1);var d=b("VideoPlayerShakaGlobalConfig").getBool("autoplay_use_unthrottled_scroll_handler",!1)?function(){return c()}:function(){a.$8(),b("VideoPlayerExperiments").useDebouncedScroll&&a.$9()};this.$4=b("Event").listen(window,"scroll",d)};c.$14=function(){return!!this.$4};c.getClosestVideoUnits=function(a){return this.$10.filter(function(a){return a.getDistanceToViewport()>=0}).sort(function(a,b){return a.getDistanceToViewport()-b.getDistanceToViewport()}).slice(0,a)};c.getVisibleUnits=function(){var a=[],c=b("VideoPlayerShakaGlobalConfig").getBool("do_not_emit_become_visibility_events_on_vpc",!1);this.$10.forEach(function(b){var d=b.getVideoPlayerController();b.isVisible()?(a.push(b),b.wasVisible||(b.wasVisible=!0,b.logDisplayed(),!c&&d&&d.emit("becomeVisible"))):b.wasVisible&&(!c&&d&&d.emit("becomeInvisible"),b.wasVisible=!1)});return a};c.$17=function(a){var c=b("VideoPlayerShakaGlobalConfig").getBool("oz_www_allow_abort_loading_from_autoplay_controller",!1),d=b("VideoPlayerShakaGlobalConfig").getString("defer_which_video_to_abort_loading_decisioning_logic","all"),e=a.getVideoPlayerController();if(!c&&e&&e.isPlayerVersion("oz"))return!1;c=e?e.isLiveVideo():null;return c!==null&&(d==="vod"&&c||d==="live"&&!c)?!1:b("VideoAutoplayControllerAbortLoadingHelper").shouldAbortLoadingVideoUnit(a)};c.pausePlayingVideo=function(a,c){__p&&__p();var d=this.$3;if(d){var e=function a(){if(!d.isState("playing")){if(b("VideoPlayerExperiments").abortLoadingReUpStillVisibleVideos&&d.isVisible()){b("setTimeout")(a,g);return}typeof d.abortLoading==="function"&&d.abortLoading()}};if(d.isVisible()){var f=d.getVideoPlayerController();if(f&&f.isPlayRequestPending())return}this.$7()||d.pause(a);b("VideoPlayerExperiments").decoupleAbortLoadingFromPause||this.$17(d)&&!c&&b("setTimeout")(e,g);this.$3=null}};c.$16=function(a){this.pausePlayingVideo(a,!0)};c.updateAutoplay=function(){throw new Error("Should be overridden")};return a}();e.exports=a}),null);
__d("Network",["mixInEventEmitter"],(function(a,b,c,d,e,f){__p&&__p();var g=!0,h=a.navigator.connection,i={0:"unknown",1:"ethernet",2:"wifi",3:"2g",4:"3g"};function c(){return g}function d(a){if(a==g)return;g=a;l.emit(a?"online":"offline")}function f(){return h?h.bandwidth:g?Infinity:0}function j(){return h?h.metered:!1}function k(){var a=h?String(h.type):"0";return i[a]||a}var l={getBandwidth:f,getType:k,isMetered:j,isOnline:c,setOnline:d};b("mixInEventEmitter")(l,{online:!0,offline:!0});l=l;a.addEventListener?(a.addEventListener("online",d.bind(null,!0)),a.addEventListener("offline",d.bind(null,!1))):a.attachEvent&&(a.attachEvent("online",d.bind(null,!0)),a.attachEvent("offline",d.bind(null,!1)));e.exports=l}),null);
__d("XVideoAutoplayNuxAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/autoplay/nux/",{})}),null);
__d("XVideoAutoplayNuxDismissAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/autoplay/nux/dismiss/",{})}),null);
__d("XVideoAutoplayNuxLogViewAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/autoplay/nux/log/view/",{})}),null);
__d("requestBoundedAnimationFrame",["cancelAnimationFrame","clearTimeout","performanceNow","requestAnimationFrame","setTimeout"],(function(a,b,c,d,e,f){var g;a=function(a,c,d){var e=b("setTimeout")(function(){e=null,f!==null&&b("cancelAnimationFrame")(f),a((g||(g=b("performanceNow")))())},d),f=b("requestAnimationFrame")(function(c){f=null,e!==null&&b("clearTimeout")(e),a(c)},c);return function(){f!==null&&(b("cancelAnimationFrame")(f),f=null),e!==null&&(b("clearTimeout")(e),e=null)}};e.exports=a}),null);
__d("VideoAutoplayControllerX",["csx","AsyncRequest","DocumentFocusForMutedVideoAutoplayRule","DOM","Event","Network","Run","SubscriptionsHandler","VideoAutoplayControllerAbortLoadingHelper","VideoAutoplayControllerBase","VideoPlayerExperiments","VideoPlayerPreloadExperiment","VideoPlayerShakaGlobalConfig","XVideoAutoplayNuxAsyncController","XVideoAutoplayNuxDismissAsyncController","XVideoAutoplayNuxLogViewAsyncController","clearTimeout","destroyOnUnload","getViewportDimensions","performanceNow","requestBoundedAnimationFrame","requestIdleCallback","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=null,j=b("VideoPlayerExperiments").videoPollingFrequency,k=!1;function l(a){return a?!0:!b("VideoPlayerExperiments").delayAutoplayUntilAfterLoad||k}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c;c=a.call(this,j)||this;c.$VideoAutoplayControllerX4=!1;c.$VideoAutoplayControllerX5=!1;c.$VideoAutoplayControllerX6=0;c.$VideoAutoplayControllerX17=new(b("VideoAutoplayControllerAbortLoadingHelper"))();c.$VideoAutoplayControllerX10=new(b("SubscriptionsHandler"))();c.$VideoAutoplayControllerX18=new(b("SubscriptionsHandler"))();c.$VideoAutoplayControllerX12=!0;c.$VideoAutoplayControllerX9=!0;c.$VideoAutoplayControllerX13=!0;c.$VideoAutoplayControllerX2=null;c.$VideoAutoplayControllerX1=null;c.$VideoAutoplayControllerX14=!1;c.$VideoAutoplayControllerX3=null;c.$VideoAutoplayControllerX7=!1;c.$VideoAutoplayControllerX16=!1;c.$VideoAutoplayControllerX15=!1;var d=b("XVideoAutoplayNuxAsyncController").getURIBuilder().getURI();new(b("AsyncRequest"))(d).setAllowCrossPageTransition().send();b("destroyOnUnload")(function(){c.$VideoAutoplayControllerX19(),b("VideoPlayerExperiments").disableAutoplayOnHomePgUpPgDownEnd&&(c.$VideoAutoplayControllerX11&&b("clearTimeout")(c.$VideoAutoplayControllerX11),c.$VideoAutoplayControllerX8.remove()),babelHelpers.assertThisInitialized(c)===i&&(i=null)});b("Run").onAfterLoad(function(){k=!0,b("VideoPlayerExperiments").delayAutoplayUntilAfterLoad&&(i&&i.updateAutoplay()),document.hasFocus()||b("Event").fire(window,"blur"),b("VideoPlayerExperiments").disableAutoplayOnHomePgUpPgDownEnd&&c.$VideoAutoplayControllerX20()});b("VideoPlayerShakaGlobalConfig").getBool("use_two_frequency_update_autoplay",!1)&&c.$VideoAutoplayControllerX21(Date.now());return c}c.$VideoAutoplayControllerX22=function(a){return b("VideoPlayerExperiments").fixVPCCallBeforeLoaded?!(a.isState("fallback")||a.isState("loading")):!0};var d=c.prototype;d.$VideoAutoplayControllerX20=function(){__p&&__p();var a=this,c=33,d=34,e=35,f=36;this.$VideoAutoplayControllerX11=null;var g=function(){a.$VideoAutoplayControllerX23(a.$VideoAutoplayControllerX9),b("clearTimeout")(a.$VideoAutoplayControllerX11),a.$VideoAutoplayControllerX11=null};this.$VideoAutoplayControllerX8=b("Event").listen(document.body,"keydown",function(h){var i=-1;switch(h.keyCode){case c:case d:i=b("VideoPlayerExperiments").pressPgUpPgDownAutoplayShutoffInterval;break;case e:case f:i=b("VideoPlayerExperiments").pressHomeEndAutoplayShutoffInterval;break;default:break}i>-1&&(a.$VideoAutoplayControllerX11?(b("clearTimeout")(a.$VideoAutoplayControllerX11),a.$VideoAutoplayControllerX11=b("setTimeout")(g,i)):a.$VideoAutoplayControllerX12&&(a.$VideoAutoplayControllerX23(!1),a.$VideoAutoplayControllerX11=b("setTimeout")(g,i)))})};d.$VideoAutoplayControllerX23=function(a){this.$VideoAutoplayControllerX12=a,this.updateAutoplay()};c.registerVideoUnit=function(a){__p&&__p();i==null&&(i=new c());i.addSubscriberVideoUnit();i.registerDefaultAutoplayRules(a);i.addVideoUnit(a);var d=new(b("SubscriptionsHandler"))();d.addSubscriptions.apply(d,i.$VideoAutoplayControllerX24(a));i.$VideoAutoplayControllerX25();a.isVisible()&&l(a.shouldImmediatelyAutoplayOnRegister())&&i.updateAutoplay();i.shouldRestoreAllSubsequentStreamBufferSizes()&&i.restoreStreamBufferSize();return function(){i&&i.removeVideoUnit(a),d.release(),i&&a===i.getPlayingVideoUnit()&&(i.$VideoAutoplayControllerX18.release(),i.setPlayingVideoUnit(null))}};c.setShouldAutoplay=function(a){i==null&&(i=new c()),i.$VideoAutoplayControllerX12=a,i.$VideoAutoplayControllerX13=a,i.$VideoAutoplayControllerX9=a,i.updateAutoplay()};d.$VideoAutoplayControllerX19=function(){this.$VideoAutoplayControllerX10.release(),this.$VideoAutoplayControllerX18.release()};c.setAutoplayNux=function(a,c){__p&&__p();var d=i;if(!d)return;d.$VideoAutoplayControllerX2=a;d.$VideoAutoplayControllerX1=c;d.$VideoAutoplayControllerX14=!0;a=b("DOM").find(c.getContentRoot(),"._5cqr");b("Event").listen(a,"click",function(){d.$VideoAutoplayControllerX26()});a=b("DOM").scry(c.getContentRoot(),"._36gl")[0];a&&b("Event").listen(a,"click",function(){d.$VideoAutoplayControllerX26()})};d.$VideoAutoplayControllerX26=function(){this.$VideoAutoplayControllerX1&&this.$VideoAutoplayControllerX1.hide();this.$VideoAutoplayControllerX14=!1;var a=b("XVideoAutoplayNuxDismissAsyncController").getURIBuilder().getURI();new(b("AsyncRequest"))(a).setAllowCrossPageTransition().send()};d.registerDefaultAutoplayRules=function(a){b("VideoPlayerExperiments").useBringYourOwnAutoplayRule&&b("VideoPlayerExperiments").pauseMutedIfNoDocumentFocus&&a.registerAutoplayRule(new(b("DocumentFocusForMutedVideoAutoplayRule"))(a))};d.setupPlayingVideoUnitSubscriptions=function(){__p&&__p();var a=this,c=this.getPlayingVideoUnit();if(!c)return;c.addListener&&(this.$VideoAutoplayControllerX10.release(),this.$VideoAutoplayControllerX10.engage(),c.isLooping()||this.$VideoAutoplayControllerX10.addSubscriptions(c.addListener("finishPlayback",function(){a.setPlayingVideoUnit(null)})),this.$VideoAutoplayControllerX10.addSubscriptions(c.addListener("turnOffAutoplay",function(){a.setPlayingVideoUnit(null)}),c.addListener("pausePlayback",function(){a.$VideoAutoplayControllerX25()}),c.addListener("finishPlayback",function(){a.$VideoAutoplayControllerX25()}),b("Network").addListener("online",function(){a.$VideoAutoplayControllerX25()}),b("Network").addListener("offline",function(){a.$VideoAutoplayControllerX25()})))};d.$VideoAutoplayControllerX25=function(){__p&&__p();var a=this;if(b("VideoPlayerExperiments").webVideosBlockAutoplayWhenOffline)if(b("Network").isOnline())this.$VideoAutoplayControllerX12=this.$VideoAutoplayControllerX13;else{this.$VideoAutoplayControllerX13=this.$VideoAutoplayControllerX12;this.$VideoAutoplayControllerX12=!1;return}var d=this.getVideoUnits();for(var e=0;e<d.length;e++){var f=d[e].getVideoPlayerController();f&&(f.getDataInsertionPosition()==="0"&&(this.$VideoAutoplayControllerX7=!0,this.$VideoAutoplayControllerX16===!1&&(c.$VideoAutoplayControllerX22(f)&&f.restoreStreamBufferSize(),f.once("beginPlayback",function(){a.$VideoAutoplayControllerX15=!0,a.restoreStreamBufferSize()}),this.$VideoAutoplayControllerX16=!0)),b("VideoPlayerExperiments").autoplayBlockBlacklist||f.updateAutoplayRestrained())}this.$VideoAutoplayControllerX7||this.restoreStreamBufferSize()};d.shouldRestoreAllSubsequentStreamBufferSizes=function(){return!this.$VideoAutoplayControllerX7?!0:this.$VideoAutoplayControllerX15};d.restoreStreamBufferSize=function(){var a=this.getVideoUnits();for(var b=0;b<a.length;b++){var d=a[b].getVideoPlayerController();d&&c.$VideoAutoplayControllerX22(d)&&d.restoreStreamBufferSize()}};d.$VideoAutoplayControllerX24=function(a){__p&&__p();var b=this,c;if(!a.addListener)return[];var d=function(){__p&&__p();if(!a.isMuted()&&a.isState("playing")){var c=b.$VideoAutoplayControllerX3;if(c&&c!==a){var d=c.getVideoPlayerController();if(d){var e=d.getOption("VideoWithLiveBroadcast","isLive");e?d.mute():d.pause("user_initiated")}try{c.pause("user_initiated")}catch(a){}}b.$VideoAutoplayControllerX3=a}};d=[a.addListener("beginPlayback",d),a.addListener("changeVolume",d),a.addListener("unmuteVideo",d)];(c=this.$VideoAutoplayControllerX18).addSubscriptions.apply(c,d);return d};d.$VideoAutoplayControllerX27=function(a){__p&&__p();var c=this,d=a.length,e=null;if(d===1)e=a[0],e=e.isAutoplayable()?e:null,b("VideoPlayerExperiments").useBringYourOwnAutoplayRule&&e&&(e=this.$VideoAutoplayControllerX28(e)?e:null);else if(d>1){var f=b("getViewportDimensions")().height/2;a.forEach(function(a){if(!a.isAutoplayable())return;if(b("VideoPlayerExperiments").useBringYourOwnAutoplayRule&&!c.$VideoAutoplayControllerX28(a))return;var d=a.getDOMPosition();d=d.y+d.height/2;d=Math.abs(d-f);a.playPriority=d;(!e||!e.playPriority||a.playPriority<e.playPriority)&&(e=a)})}return e};d.$VideoAutoplayControllerX28=function(a){var b=!0;a=a.getAutoplayRules();for(var c=0;c<a.length;++c){var d=a[c].calculateAutoplayScore();b=d!==0;if(!b)break}return b};d.showAutoplayNUX=function(a){__p&&__p();var c=this.$VideoAutoplayControllerX1;if(c&&!c.isShown()){a=a.getVideoPlayerController();a=a?a.getRootNode():null;b("DOM").prependContent(a,this.$VideoAutoplayControllerX2);c.show();a=b("XVideoAutoplayNuxLogViewAsyncController").getURIBuilder().getURI();new(b("AsyncRequest"))(a).setAllowCrossPageTransition().send()}this.$VideoAutoplayControllerX14=!1};d.addVideoUnit=function(c){c&&a.prototype.addVideoUnit.call(this,c),b("VideoPlayerExperiments").decoupleAbortLoadingFromPause&&c&&this.$VideoAutoplayControllerX17.addVideoUnit(c)};d.removeVideoUnit=function(c){c&&a.prototype.removeVideoUnit.call(this,c),b("VideoPlayerExperiments").decoupleAbortLoadingFromPause&&c&&this.$VideoAutoplayControllerX17.removeVideoUnit(c)};d.$VideoAutoplayControllerX21=function(a){__p&&__p();var c=this,d=b("VideoPlayerShakaGlobalConfig").getNumber("request_bounded_animation_frame_bound",50);this.$VideoAutoplayControllerX29();if(b("VideoPlayerShakaGlobalConfig").getBool("use_ric_cycle",!1)){a=b("VideoPlayerShakaGlobalConfig").getNumber("ric_autoplay_bound",50);var e=b("VideoPlayerShakaGlobalConfig").getBool("use_native_ric",!1);e=e?window.requestIdleCallback:b("requestIdleCallback");return e(function(){c.$VideoAutoplayControllerX21((h||(h=b("performanceNow")))())},{timeout:a})}b("VideoPlayerShakaGlobalConfig").getBool("update_autoplay_lower_raf_cycle",!1)?b("setTimeout")(function(){b("VideoPlayerShakaGlobalConfig").getBool("update_autoplay_no_raf",!1)?c.$VideoAutoplayControllerX21((h||(h=b("performanceNow")))()):b("requestBoundedAnimationFrame")(function(a){c.$VideoAutoplayControllerX21(a)},{priority:"QUERY_THEN_MUTATE"},d)},j):b("requestBoundedAnimationFrame")(function(a){c.$VideoAutoplayControllerX21(a)},{priority:"QUERY_THEN_MUTATE"},d)};d.$VideoAutoplayControllerX29=function(){__p&&__p();var a=this.$VideoAutoplayControllerX3,c=Date.now(),d=c-this.$VideoAutoplayControllerX6,e=b("VideoPlayerShakaGlobalConfig").getNumber("autoplay_start_video_interval",200);if(b("VideoPlayerShakaGlobalConfig").getBool("update_autoplay_no_high_frequency_ops",!1)&&d<e)return;this.$VideoAutoplayControllerX4&&b("VideoPlayerExperiments").pauseAudioUnitsOffscreen&&a&&a.shouldPauseWhenScrolledOffscreen()&&!a.isVisible()&&a.pause("autoplay_initiated");if(!this.$VideoAutoplayControllerX12){this.pausePlayingVideo("autoplay_initiated");return}a=this.getVideoUnits();var f=this.getPlayingVideoUnit(),g=this.$VideoAutoplayControllerX4?null:f;this.$VideoAutoplayControllerX4&&f&&f.isVisible()&&(g=this.$VideoAutoplayControllerX27([f]));f&&f!==g&&this.pausePlayingVideo("autoplay_initiated");if(d>=e){this.$VideoAutoplayControllerX6=c;if(this.$VideoAutoplayControllerX5){d=this.getVisibleUnits();for(var e=0;e<a.length;++e)a[e].isMuted()&&d.indexOf(a[e])===-1&&a[e].pause("autoplay_initiated");g=this.$VideoAutoplayControllerX27(d);g&&g!==f&&(f&&this.pausePlayingVideo("autoplay_initiated"),this.playVideo(g,"autoplay_initiated"),this.$VideoAutoplayControllerX14&&this.showAutoplayNUX(g));this.getClosestVideoUnits(b("VideoPlayerExperiments").preloadVideosCount).forEach(function(a){return a.preload()});g&&b("VideoPlayerExperiments").adjustPriorityBasedOnAutoplayIndex&&this.$VideoAutoplayControllerX30(g)}this.$VideoAutoplayControllerX5=!1}this.$VideoAutoplayControllerX4=!1};d.updateAutoplay=function(){__p&&__p();if(b("VideoPlayerShakaGlobalConfig").getBool("use_two_frequency_update_autoplay",!1)){this.$VideoAutoplayControllerX4=!0;this.$VideoAutoplayControllerX5=!0;return}var a=this.getVideoUnits(),c;if(b("VideoPlayerExperiments").pauseOffscreenUnitsFirst){c=this.getVisibleUnits();if(b("VideoPlayerExperiments").pauseOffscreenMutedOnUpdateAutoplay)for(var d=0;d<a.length;++d)a[d].isMuted()&&c.indexOf(a[d])===-1&&a[d].pause("autoplay_initiated")}if(!this.$VideoAutoplayControllerX12){this.pausePlayingVideo("autoplay_initiated");return}d=this.$VideoAutoplayControllerX3;b("VideoPlayerExperiments").pauseAudioUnitsOffscreen&&d&&d.shouldPauseWhenScrolledOffscreen()&&!d.isVisible()&&d.pause("autoplay_initiated");!b("VideoPlayerExperiments").decoupleAbortLoadingFromPause?this.getClosestVideoUnits(b("VideoPlayerPreloadExperiment").preloadVideosCount).forEach(function(a){a.preload()}):b("VideoPlayerExperiments").abortLoadingHelperDefaultPreloading&&this.$VideoAutoplayControllerX17.preloadClosestVideoUnits(b("VideoPlayerPreloadExperiment").preloadVideosCount);c=this.getVisibleUnits();d=this.$VideoAutoplayControllerX27(c);var e=this.getPlayingVideoUnit();e?d!=e&&(this.pausePlayingVideo("autoplay_initiated"),this.playVideo(d,"autoplay_initiated"),this.$VideoAutoplayControllerX14&&d&&this.showAutoplayNUX(d)):d&&(this.playVideo(d,"autoplay_initiated"),this.$VideoAutoplayControllerX14&&this.showAutoplayNUX(d));if(!b("VideoPlayerExperiments").pauseOffscreenUnitsFirst&&b("VideoPlayerExperiments").pauseOffscreenMutedOnUpdateAutoplay)for(var e=0;e<a.length;++e)a[e].isMuted()&&c.indexOf(a[e])===-1&&a[e].pause("autoplay_initiated");b("VideoPlayerExperiments").adjustPriorityBasedOnAutoplayIndex&&this.$VideoAutoplayControllerX30(d);b("VideoPlayerExperiments").decoupleAbortLoadingFromPause&&this.$VideoAutoplayControllerX17.maybeAbortLoading()};d.$VideoAutoplayControllerX30=function(a){__p&&__p();var c=-1,d=this.getVideoUnits();if(a){var e=d.findIndex(function(b){return b===a});e>=0&&(c=e+1)}else{e=b("getViewportDimensions")().height/2;for(var f=0;f<d.length;f++){var g=d[f];g=g.getDOMPosition();g=g.y+g.height/2;if(g-e>0){c=f;break}}}if(c===-1)return;for(var g=0;g<d.length;g++){f=d[g];e=f.getVideoPlayerController();if(!e)continue;g===c?e.setVideoPriorityAdjustment(.1):f===a?e.setVideoPriorityAdjustment(b("VideoPlayerExperiments").offsetToBestUnitPriority):b("VideoPlayerExperiments").dePrioritizeUpfoldVideos&&g<c?e.setVideoPriorityAdjustment(-.5):e.setVideoPriorityAdjustment(0)}};return c}(b("VideoAutoplayControllerBase"));e.exports=a}),null);
__d("VideoPlayButton",["AsyncRequest","CSS","EventListener","VideoDisplayTimePlayButton"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a,c,d){__p&&__p();this.$1=a;this.$2=c;d&&(this.$3=d.hiddenAfterFinish,this.$4=d.hiddenWhilePaused,this.$5=!!d.hiddenInFallback,this.$5=d.hiddenInFallback,this.$6=d.spherical);c=b("VideoDisplayTimePlayButton").getClicked(this.$2);b("VideoDisplayTimePlayButton").unregister(this.$2);a.addListener("beginPlayback",this.$7.bind(this));a.addListener("finishPlayback",this.$8.bind(this));a.addListener("pausePlayback",this.$9.bind(this));a.addListener("buffering",this.$10.bind(this));a.addListener("buffered",this.$11.bind(this));a.addListener("stateChange",this.$12.bind(this));a.addListener("playRequested",this.$13.bind(this));a.addListener("VideoChannelController/exitChannel",this.$14.bind(this));a.addListener("clickVideo",this.$15.bind(this));a.addListener("TahoeController/enterTahoe",this.$16.bind(this));b("EventListener").listen(this.$2,"click",this.$17.bind(this));d&&d.hiddenWhileJSLoading&&!d.hiddenWhileVideoLoading&&b("CSS").show(this.$2);c&&this.$17()}var c=a.prototype;c.$12=function(){this.$1.isState("fallback")&&(this.$5||this.$1.getIsInChannel()?b("CSS").hide(this.$2):b("CSS").show(this.$2))};c.$7=function(){b("CSS").hide(this.$2)};c.$9=function(){if(this.$4||this.$1.getSource()==="inline")return;b("CSS").show(this.$2)};c.$13=function(a){if(this.$1.isState("fallback")||a==="autoplay_initiated")return;b("CSS").hide(this.$2)};c.$14=function(){(this.$1.isState("paused")&&(!this.$4||this.$6)||this.$1.isState("finished")&&!this.$3)&&b("CSS").show(this.$2)};c.$16=function(){this.$1.isState("playing")||b("CSS").show(this.$2)};c.$8=function(){var a=this.$1.getOption("Looping","isLooping");this.$3||this.$1.getIsInChannel()||this.$1.getSource()==="tahoe"||a?b("CSS").hide(this.$2):b("CSS").show(this.$2)};c.$10=function(){b("CSS").hide(this.$2)};c.$11=function(){b("CSS").hide(this.$2)};c.$17=function(){this.$1.clickVideo()};c.$15=function(){if(this.$1.isState("fallback"))return;b("CSS").hide(this.$2)};return a}();e.exports=a}),null);
__d("ReactBrowserEventEmitter_DO_NOT_USE",["ReactDOM"],(function(a,b,c,d,e,f){"use strict";a=b("ReactDOM").__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e.exports=a.ReactBrowserEventEmitter}),null);
__d("ReactLayerCommon",["invariant","React","ReactBrowserEventEmitter_DO_NOT_USE","ReactDOM","SubscriptionsHandler","emptyFunction","warning"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=function(a){a.isPropagationStopped=b("emptyFunction").thatReturnsTrue},i=function(c){babelHelpers.inheritsLoose(a,c);function a(){return c.apply(this,arguments)||this}var d=a.prototype;d.render=function(){return b("React").jsx("div",{onClick:h,onBlur:h,onDoubleClick:h,onFocus:h,onKeyDown:h,onKeyPress:h,onKeyUp:h,onMouseDown:h,onMouseMove:h,onMouseUp:h,children:this.props.children})};return a}(b("React").Component),j={makeInitialSubscriptions:function(a,c){var d=new(b("SubscriptionsHandler"))();c.onToggle&&(j.layerSubscribe(a,d,"show",function(){return c.onToggle(!0)}),j.layerSubscribe(a,d,"hide",function(){return c.onToggle(!1)}));c.onBlur&&j.layerSubscribe(a,d,"blur",function(a,b){return c.onBlur(b)});c.onHide&&j.layerSubscribe(a,d,"runhide",function(a,b){return c.includeHideSource?c.onHide(b):c.onHide()});return d},layerSubscribe:function(a,c,d,e){var f=a.subscribe||a.addListener;c.addSubscriptions(f.call(a,d,function(a,c){var d=b("ReactBrowserEventEmitter_DO_NOT_USE").isEnabled();d&&e(a,c)}))},render:function(a,c){a=b("ReactDOM").createPortal(b("React").jsx(i,{children:a}),c);a===void 0&&b("ReactDOM").createPortal._isMockFunction&&(a=null);return a},diffBehaviors:function(a,b,c){__p&&__p();var d;for(d in a)a[d]&&!b[d]&&c.disableBehavior(a[d]);for(d in b){var e=a[d],f=b[d];if(e&&f){e===f||g(0,120,d);continue}e&&c.disableBehavior(e);f&&c.enableBehavior(f)}}};e.exports=j}),null);
__d("ReactLayer",["invariant","React","ReactLayerCommon","createReactClass_DEPRECATED","emptyFunction","getObjectValues"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={componentDidMount:function(){this.layer=this.createLayer(this._layerContainer),this.layer||g(0,2397),this.layerSubscriptions=b("ReactLayerCommon").makeInitialSubscriptions(this.layer,this.props),this._resetBehaviors()},componentDidUpdate:function(a){this.receiveProps(this.props,a)},componentWillUnmount:function(){this._layerContainer=null,this.layerSubscriptions&&(this.layerSubscriptions.release(),this.layerSubscriptions=null),this.layer&&(this.layer.destroy(),this.layer=null)},_createLayerContainer:function(){this._layerContainer==null&&(this._layerContainer=document.createElement("div"))},render:function(){this._createLayerContainer();return b("ReactLayerCommon").render(this.props.children,this._layerContainer)},enumerateBehaviors:function(a){a=this.getEffectiveBehaviors(a);return b("getObjectValues")(a).filter(b("emptyFunction").thatReturnsArgument)},_resetBehaviors:function(){this._diffBehaviors({},this.props.behaviors)},updateBehaviors:function(a,b){this._diffBehaviors(a,b)},_diffBehaviors:function(a,c){a=this.getEffectiveBehaviors(a),c=this.getEffectiveBehaviors(c),b("ReactLayerCommon").diffBehaviors(a,c,this.layer)},getEffectiveBehaviors:function(a){return!this.getDefaultEnabledBehaviors?a||{}:babelHelpers["extends"]({},this.getDefaultEnabledBehaviors(),a)},layerSubscribe:function(a,c){b("ReactLayerCommon").layerSubscribe(this.layer,this.layerSubscriptions,a,c)}};a={createClass:function(a){return b("createReactClass_DEPRECATED")({mixins:[h,a]})}};e.exports=a}),null);
__d("MountedContextMenu.react",["cx","ContextualLayer.react","DOMQuery","Event","Focus","LayerHideOnEscape","PopoverMenu.react","PopoverMenuInterface","React","ReactDOM","SubscriptionsHandler","prop-types","isNode","getContextualLayerCursorOffset"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=Object.prototype.hasOwnProperty;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shown:!1,lastOpenedX:0,lastOpenedY:0,offsetX:0,offsetY:0},d.refs_fakeTrigger=null,d.menuLayerRefHandler=function(a){d.refs_menuLayer=a},d.$6=function(a){var b=a.clientX,c=a.clientY;a.preventDefault();a.stopPropagation();d.showAt(b,c)},d.$7=function(a){var c=d.$3();c=c&&b("DOMQuery").contains(c,a.target);a=a.button===0;c&&a||d.hide()},d.$8=function(){d.props.disableFocusOutline&&b("Focus").setWithoutOutline(d.$2())},d.$9=function(){var a=d.$2();d.props.disableFocusOutline?b("Focus").setWithoutOutline(a):b("Focus").set(a);d.state.shown&&d.hide()},d.$10=function(){d.hide()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$2=function(){return this.props.mountedTriggerElem};d.$3=function(){var a=this.refs_popover.getMenu();return a&&a.getRoot()};d.$4=function(){return this.refs_menuLayer.layer};d.renderLayers=function(){var a=this;return b("React").jsx(b("ContextualLayer.react"),{alignment:"right",behaviors:[b("LayerHideOnEscape")],contextRef:function(){return a.$2()},offsetX:this.state.offsetX,offsetY:this.state.offsetY,position:"below",ref:this.menuLayerRefHandler,shown:this.state.shown,children:b("React").jsx(b("PopoverMenu.react"),{alignh:"left",menu:this.props.menu,position:"below",ref:function(b){return a.refs_popover=b},children:b("React").jsx("div",{className:"_4345",ref:function(b){return a.refs_fakeTrigger=b}})})},"menu")};d.render=function(){return this.props.mountedTriggerElem?b("React").jsx("span",{children:this.renderLayers()}):null};d.$5=function(a,c){var d=this.$4();a=b("getContextualLayerCursorOffset")(d,a,c);c=a.offsetX;a=a.offsetY;d.setOffsetX(c).setOffsetY(a);this.setState({offsetX:c,offsetY:a})};d.componentDidMount=function(){var a=this,c,d=this.$2(),e=b("ReactDOM").findDOMNode(this.refs_fakeTrigger),f=this.$4(),g=this.refs_popover;this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions((c=b("Event")).listen(d,"contextmenu",this.$6),c.listen(document.body,"mousedown",this.$7),c.listen(d,"focus",this.$8),c.listen(e,"focus",this.$9),c.listen(window,"blur",this.$10),f.subscribe("show",function(){var b=a.state.lastOpenedX,c=a.state.lastOpenedY;a.$5(b,c);g.showPopover()}),f.subscribe("hide",function(){g.hidePopover()}))};d.componentWillUnmount=function(){this.$1&&this.$1.release()};d.show=function(){this.setState({shown:!0})};d.showAt=function(a,b){this.setState({lastOpenedX:a,lastOpenedY:b}),this.show()};d.hide=function(){this.setState({shown:!1})};return c}(b("React").Component);a.propTypes={disableFocusOutline:b("prop-types").bool,menu:function(a,c,d){if(!h.call(a,c))return new Error(d+"."+c+" is required");d=a[c];a=d&&d.type;return!(a&&a.prototype instanceof b("PopoverMenuInterface"))?new Error(c+" must implement PopoverMenuInterface"):null},mountedTriggerElem:function(a,c,d){if(!h.call(a,c))return new Error(d+"."+c+" is required");else if(!b("isNode")(a[c]))return new Error(d+"."+c+" must be a raw DOM node");return null}};e.exports=a}),null);
__d("VideoSpinner",["cx","CircularProgressBar.react","CSS","EventListener","React","ReactDOM","VideoPlayerShakaGlobalConfig","setTimeout"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(){"use strict";__p&&__p();function a(a,c){__p&&__p();var d=this;this.$2=c;this.$1=a;this.$3=!1;a.addListener("beginPlayback",this.$5.bind(this));a.addListener("finishPlayback",this.$6.bind(this));a.addListener("pausePlayback",this.$7.bind(this));a.addListener("playRequested",this.$8.bind(this));a.addListener("buffering",this.$9.bind(this));a.addListener("buffered",this.$10.bind(this));a.addListener("networkInterrupted",this.$11.bind(this));a.addListener("networkResumed",this.$12.bind(this));a.addListener("stateChange",this.$13.bind(this));a.addListener("clickVideo",this.$14.bind(this));a.addListener("VideoSphericalOverlay/animationUpdate",this.$15.bind(this));b("EventListener").listen(this.$2,"click",this.$16.bind(this));b("VideoPlayerShakaGlobalConfig").getBool("use_progress_spinner",!1)&&(a.addListener("bufferingProgress",function(a){return d.$17(a)}),b("CSS").addClass(this.$2,"_69ci"))}var c=a.prototype;c.$17=function(a){b("ReactDOM").render(b("React").jsx(b("CircularProgressBar.react"),{animate:!0,text:Math.round(a*100)+"%",percentComplete:Math.max(a*100,10)}),this.$2)};c.$15=function(a,c){a?b("CSS").addClass(this.$2,"_1st9"):b("CSS").removeClass(this.$2,"_1st9")};c.$11=function(){b("VideoPlayerShakaGlobalConfig").getBool("enable_spinner_on_network_interrupted",!1)&&(this.$3&&b("CSS").show(this.$2)),this.$4=!0};c.$12=function(){b("VideoPlayerShakaGlobalConfig").getBool("enable_spinner_on_network_interrupted",!1)&&(this.$3||b("CSS").hide(this.$2)),this.$4=!1};c.$9=function(){var a=this,c=b("VideoPlayerShakaGlobalConfig").getNumber("buffering_spinner_delay_ms",0);this.$3=!0;c===0?b("CSS").show(this.$2):b("setTimeout")(function(){a.$3&&b("CSS").show(a.$2)},c);b("VideoPlayerShakaGlobalConfig").getBool("use_progress_spinner",!1)&&this.$17(0)};c.$10=function(){b("VideoPlayerShakaGlobalConfig").getBool("enable_spinner_on_network_interrupted",!1)?this.$4||b("CSS").hide(this.$2):b("CSS").hide(this.$2),this.$3=!1};c.$5=function(){this.$3?b("CSS").show(this.$2):b("CSS").hide(this.$2)};c.$7=function(){b("VideoPlayerShakaGlobalConfig").getBool("enable_spinner_on_network_interrupted",!1)?this.$4||b("CSS").hide(this.$2):b("CSS").hide(this.$2)};c.$8=function(){b("CSS").hide(this.$2)};c.$6=function(){b("CSS").hide(this.$2)};c.$13=function(){this.$1.isState("fallback")&&b("CSS").hide(this.$2)};c.$14=function(){if(this.$1.isState("fallback"))return;(this.$3||this.$1.isState("ready")||this.$1.isState("loading"))&&b("CSS").show(this.$2)};c.$16=function(){this.$1.clickVideo()};return a}();e.exports=a}),null);
__d("VideoContextMenuGK",["gkx"],(function(a,b,c,d,e,f){"use strict";e.exports={menuRedesign:b("gkx")("971964")}}),null);
__d("VideoPlayerHTML5ContextMenu.react",["cx","fbt","BanzaiODS","ContextualLayer.react","DOMQuery","Event","FBClipboardLink.react","Focus","FullScreen","Keys","LayerAutoFocus","LayerHideOnEscape","MountedContextMenu.react","React","ReactDOM","ReactXUIMenu","SubscriptionsHandler","URI","VideoContextMenuGK","VideoPermalinkURI","VideoPlayerExperiments","getFullScreenElement"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("ReactXUIMenu").Item,k=.35,l=6,m=60;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={permalinkVisible:!1,fullscreened:!1,screenWidth:screen.width,screenHeight:screen.height},d.refs_permalinkMenuItem=null,d.refs_copyPermalinkMenuItem=null,d.refs_menu=null,d.$2=function(){var a=b("getFullScreenElement")(),c=d.props.rootContainer;a=!!(b("FullScreen").isFullScreen()&&a&&c&&b("DOMQuery").contains(a,c));d.setState({fullscreened:a})},d.$7=function(){d.props.onTogglePause&&d.props.onTogglePause()},d.$8=function(){d.props.onToggleMute&&d.props.onToggleMute()},d.$4=function(){b("Focus").set(b("ReactDOM").findDOMNode(d.refs_permalinkText)),d.setState({permalinkVisible:!0})},d.$3=function(){d.setState({permalinkVisible:!1})},d.$9=function(){b("ReactDOM").findDOMNode(d.refs_permalinkText).select()},d.$10=function(a){b("Event").getKeyCode(a)==b("Keys").ESC&&d.setState({permalinkVisible:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this.refs_permalinkLayer.layer;this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(b("FullScreen").subscribe("changed",this.$2),a.subscribe("hide",this.$3),a.subscribe("show",this.$4));this.props.initialPosition&&this.refs_menu.showAt(this.props.initialPosition.x,this.props.initialPosition.y)};d.componentWillUnmount=function(){this.$1&&this.$1.release()};d.$5=function(){if(this.props.paused)return h._("Play");else return h._("Pause")};d.$6=function(){if(this.props.muted)return h._("Unmute");else return h._("Mute")};d.hidePermalinkOverlay=function(){this.$3()};d.$11=function(a){a.preventDefault()};d.$12=function(){var a,b;if(this.state.fullscreened)a=this.state.screenWidth,b=this.state.screenHeight;else{var c=this.props.rootContainer.getBoundingClientRect();a=c.width;b=c.height}return{width:a,height:b}};d.$13=function(a){var c=this,d=this.props.permalinkURL;if(d){a={width:a+"px"};return b("React").jsxs("div",{className:"_26oo",style:a,children:[b("React").jsx("input",{className:"_26op autofocus",onFocus:this.$9,onKeyDown:this.$10,onMouseUp:this.$11,readOnly:!0,ref:function(a){return c.refs_permalinkText=a},type:"text",value:d}),b("React").jsx("button",{className:"_26oq",onClick:this.$3,children:h._("Close")})]})}return null};d.renderLayers=function(){__p&&__p();var a=this,c=this.props.permalinkURL&&this.state.permalinkVisible,d=0,e=0,f=null,g=this.$12(),h=g.width;g=g.height;var i=h*k;d=h/2-i/2;e=-g+l;this.state.fullscreened&&(e+=m);f=this.$13(i);return b("React").jsx(b("ContextualLayer.react"),{alignment:"left",behaviors:[b("LayerHideOnEscape"),b("LayerAutoFocus")],contextRef:function(){return a.props.videoContainer},offsetX:d,offsetY:e,position:"below",ref:function(b){return a.refs_permalinkLayer=b},shown:c,children:f},"permalinkOverlay")};d.$14=function(){b("BanzaiODS").bumpEntityKey(2079,"videos","copy_video_url.click")};d.$15=function(){__p&&__p();var a=this;if(!this.props.permalinkURL)return null;var c=new(i||(i=b("URI")))(this.props.permalinkURL);if(b("VideoPlayerExperiments").copyLinkAtCurrentTimeInContextMenu&&b("VideoPermalinkURI").isValid(c)){c.addQueryData("t",this.props.getVideoCurrentTimePosition());return b("React").jsx(j,{ref:function(b){return a.refs_copyPermalinkMenuItem=b},children:b("React").jsx(b("FBClipboardLink.react"),{onComplete:this.$14,tooltip:null,tooltipSuccess:null,value:c.toString(),children:h._("Copy video URL at current time")})})}return null};d.$16=function(){var a=this;if(this.props.permalinkURL)if(b("VideoPlayerExperiments").copyLinkInContextMenu)return b("React").jsx(j,{ref:function(b){return a.refs_copyPermalinkMenuItem=b},children:b("React").jsx(b("FBClipboardLink.react"),{onComplete:this.$14,tooltip:null,tooltipSuccess:null,value:this.props.permalinkURL,children:h._("Copy Video URL")})});else return b("React").jsx(j,{onclick:this.$4,ref:function(b){return a.refs_permalinkMenuItem=b},children:h._("Show video URL")});return null};d.render=function(){var a=this,c=this.props.paused!==null&&b("React").jsx(j,{onclick:this.$7,children:this.$5()}),d=this.props.isLive?null:this.$15();c=b("React").jsxs(b("ReactXUIMenu"),{className:b("VideoContextMenuGK").menuRedesign?"_45di":"",children:[c,b("React").jsx(j,{onclick:this.$8,children:this.$6()}),this.$16(),d,this.props.children]});return b("React").jsxs("span",{children:[b("React").jsx(b("MountedContextMenu.react"),{mountedTriggerElem:this.props.videoContainer,menu:c,ref:function(b){return a.refs_menu=b}}),this.renderLayers()]})};return c}(b("React").Component);e.exports=a}),null);
__d("VideoContextMenu",["Bootloader","CurrentUser","EventListener","React","ReactDOM","URI","UserAgent","VideoPlayerHTML5ContextMenu.react","isFacebookURI"],(function(a,b,c,d,e,f){__p&&__p();var g,h=/(instagram)/g;a=function(){"use strict";__p&&__p();function a(a,c,d){__p&&__p();var e=this;this.$10=function(){for(var a in e.$8){var b=e.$8[a].name,c=e.$8[a].option,d=e.$8[a].description,f=e.$8[a].closeMessage;e.$2.hasOption(b,c)?e.$13(b,c,d,f):e.$12(b,c)}e.$9()};this.$9=function(){e.$6&&e.$14()};this.$11=function(a){var c=/^a$/i.test(a.target.nodeName||"");c=c||b("CurrentUser").isEmployee()&&(b("UserAgent").isPlatform("Mac OS X")?a.getModifiers().meta:a.getModifiers().ctrl);c&&e.$6?(b("ReactDOM").unmountComponentAtNode(e.$4),delete e.$6):!c&&!e.$6&&(a.preventDefault(),e.$14(a))};this.$8={debugOverlay:{name:"DebugOverlay",option:"hidden",description:"Employee Debug Info",closeMessage:"Hide Debug Information"},statsForNerds:{name:"StatsForNerds",option:"hidden",description:"Show video stats",closeMessage:"Hide video stats"}};this.$2=a;this.$3=d;this.$4=c;this.$1={};this.$5=null;if(this.$3.permalinkURL){d=new(g||(g=b("URI")))(this.$3.permalinkURL).getQualifiedURI();(!b("isFacebookURI")(d)||d.getSubdomain()==="developers"||d.getSubdomain()==="ai"||d.getSubdomain()==="sparkar")&&(d.setSubdomain("www"),d.setDomain(d.getDomain().replace(h,"facebook")));this.$5=d.toString()}c=["muteVideo","unmuteVideo","changeVolume","beginPlayback","pausePlayback","finishPlayback","adBreakIndicatorShowing"];["enterWatchAndScroll","exitWatchAndScroll"].forEach(function(b){return a.addListener(b,function(){e.$6&&e.$6.hidePermalinkOverlay(),e.$9()})});a.addListener("optionsChange",this.$10);this.$10();c.forEach(function(b){return a.addListener(b,e.$9)});b("EventListener").listen(this.$2.getRootNode(),"contextmenu",this.$11)}var c=a.prototype;c.setPermalinkURL=function(a){this.$5=a,this.$9()};c.$12=function(a,b){this.$7&&this.$7.removeMenuItem(a,b)};c.$13=function(a,c,d,e){var f=this;b("Bootloader").loadModules(["VideoComponentOptionMenuItems"],function(b){f.$7||(f.$7=new b(f.$2,f.$9)),f.$7.addComponentOptionMenuItem(a,c,d,e)},"VideoContextMenu")};c.$15=function(a,b){return!this.$7?void 0:this.$7.getComponentOptionMenuItem(a,b)};c.$14=function(a){var c=this,d=this.$15(this.$8.debugOverlay.name,this.$8.debugOverlay.option),e=this.$15(this.$8.statsForNerds.name,this.$8.statsForNerds.option),f=this.$2.getRootNode(),g=this.$2.getContainerNode(),h=function(){return Math.round(c.$2.getCurrentTimePosition())};this.$6=b("ReactDOM").render(b("React").jsxs(b("VideoPlayerHTML5ContextMenu.react"),{rootContainer:f,videoContainer:g,paused:this.$16()?null:!this.$2.isState("playing"),muted:this.$2.isMuted(),permalinkURL:this.$5,initialPosition:a?{x:a.clientX,y:a.clientY}:void 0,getVideoCurrentTimePosition:h,onTogglePause:function(){return c.$17()},onToggleMute:function(){return c.$18()},isLive:this.$2.isLiveVideo(),children:[d,e]}),this.$4)};c.$16=function(){if(this.$2.getOption("VideoContextMenu","disablePlayPauseMenuItem"))return!0;if(this.$2.getOption("VideoContextMenu","disablePauseMenuItem")&&!this.$2.isState("paused"))return!0;var a=this.$2.getOption("VideoWithCommercialBreak","controller");return a&&a.getIsDuringTransition()?!0:!1};c.$18=function(){this.$2.isMuted()?this.$2.unmute():this.$2.mute()};c.$17=function(){!this.$2.isState("playing")?this.$2.play("user_initiated"):this.$2.pause("user_initiated")};return a}();e.exports=a}),null);
__d("monitorCodeUse",["invariant","BanzaiScuba","ErrorNormalizeUtils","ScriptPath","SiteData","forEachObject","gkx","ReactCurrentOwner"],(function(a,b,c,d,e,f,g){__p&&__p();var h;function i(a){a=a.type;if(typeof a==="string")return a;return typeof a==="function"?a.displayName||a.name:null}function j(a){var b=1e3,c=[];while(a&&c.length<b)c.push(i(a)||""),typeof a.tag==="number"?a=a["return"]:a=a._currentElement&&a._currentElement._owner;return c}function k(a){return Array.isArray(a)?"[...]":l(a)}function l(a){__p&&__p();if(a==null)return""+String(a);if(Array.isArray(a)){if(a.length>10){var b=a.slice(0,5).map(k);return"["+b.join(", ")+", ...]"}b=a.map(k);return"["+b.join(", ")+"]"}if(typeof a==="string")return"'"+a+"'";if(typeof a==="object"){b=Object.keys(a).map(function(a){return a+"=..."});return"{"+b.join(", ")+"}"}return String(a)}function m(a){return a.identifier||""}function n(a){var b;return a.script+"  "+((b=a.line)!=null?b:"")+":"+((b=a.column)!=null?b:"")}var o;function a(a,c,d){__p&&__p();c===void 0&&(c={});d===void 0&&(d={});a&&!/[^a-z0-9_]/.test(a)||g(0,2789);var e={};d.sampleRate!=null&&(e.sampleRate=d.sampleRate);var f=new(b("BanzaiScuba"))("core_monitor",null,e);f.addNormal("event",a);o===void 0&&(o=b("gkx")("708253"));f.addNormal("is_comet",o);e=h||(h=b("ReactCurrentOwner"));f.addNormVector("owners",j(e.current));f.addNormal("uri",window.location.href);f.addNormal("script_path",b("ScriptPath").getScriptPath());f.addNormal("devserver_username",b("SiteData").devserver_username||"");e=!1;d.forceIncludeStackTrace&&(e=!0);if(e)try{d=new Error(a);d.framesToPop=1;e=b("ErrorNormalizeUtils").normalizeError(d).stackFrames;a=e.map(m);d=e.map(n).join("\n");f.addNormVector("stacktrace",a);f.addDenorm("stack",d)}catch(a){}b("forEachObject")(c,function(a,b,c){typeof a==="string"?f.addNormal(b,a):typeof a==="number"&&(a|0)===a?f.addInteger(b,a):Array.isArray(a)?f.addNormVector(b,a.map(l)):f.addNormal(b,l(a))});f.post()}e.exports=a}),null);
__d("Dispatcher_DEPRECATED",["invariant","FBLogger","monitorCodeUse"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="ID_";a=function(){__p&&__p();function a(){this.$1=new Map(),this.$2=!1,this.$3=new Map(),this.$4=new Map(),this.$5=1}var b=a.prototype;b.register=function(a,b){b=this.__genID(b);this.$1.set(b,a);return b};b.unregister=function(a){this.$1.get(a)||g(0,1331,a),this.$1["delete"](a)};b.waitFor=function(a){__p&&__p();this.$2||g(0,1332);for(var b=0;b<a.length;b++){var c=a[b];if(this.$4.get(c)){this.$3.get(c)||g(0,2380,c);continue}this.$1.get(c)||g(0,2381,c);this.$7(c)}};b.dispatch=function(a){var b=this;j(this.$2,this.$6,a);this.$8(a);try{this.$1.forEach(function(a,c){if(b.$4.get(c))return;b.$7(c)})}finally{this.$9()}};b.isDispatching=function(){return this.$2};b.$7=function(a){this.$4.set(a,!0);var b=this.$1.get(a);b&&this.__invokeCallback(a,b,this.$6);this.$3.set(a,!0)};b.__invokeCallback=function(a,b,c){b(c)};b.$8=function(a){__p&&__p();for(var b=this.$1.keys(),c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;this.$4.set(e,!1);this.$3.set(e,!1)}this.$6=a;this.$2=!0};b.$9=function(){delete this.$6,this.$2=!1};b.__genID=function(a){var b=a?a+"_":h;a=a||b+this.$5++;while(this.$1.get(a))a=b+this.$5++;return a};return a}();function i(a){__p&&__p();var b="<unknown>";if(!a)return b;if(typeof a.type==="string")return a.type;if(typeof a.actionType==="string")return a.actionType;if(!a.action)return b;if(typeof a.action.type==="string")return a.action.type;return typeof a.action.actionType==="string"?a.action.actionType:b}function j(a,c,d){if(a){a=new Error("Cannot dispatch in the middle of a dispatch");b("FBLogger")("flux_dispatcher").catching(a).mustfix("Tried to dispatch action %s while already dispatching %s",i(d),i(c));throw a}}e.exports=a}),null);
__d("ExplicitRegistrationDispatcherUtils",["emptyFunction","gkx","setImmediate"],(function(a,b,c,d,e,f){"use strict";a=!1;c=b("emptyFunction");e.exports={warn:c,inlineRequiresEnabled:a}}),null);
__d("ExplicitRegistrationDispatcher",["Dispatcher_DEPRECATED","ExplicitRegistrationDispatcherUtils","setImmediate"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b){var c;b=b.strict;c=a.call(this)||this;c.$ExplicitRegistrationDispatcher2=b;c.$ExplicitRegistrationDispatcher1={};return c}var c=b.prototype;c.explicitlyRegisterStore=function(a){a=a.getDispatchToken();this.$ExplicitRegistrationDispatcher1[a]=!0;return a};c.explicitlyRegisterStores=function(a){var b=this;return a.map(function(a){return b.explicitlyRegisterStore(a)})};c.register=function(b,c){var d=this;d=this.__genID(c);this.$ExplicitRegistrationDispatcher1[d]=!1;c=a.prototype.register.call(this,this.$ExplicitRegistrationDispatcher4.bind(this,d,b),d);return c};c.$ExplicitRegistrationDispatcher4=function(a,b,c){(this.$ExplicitRegistrationDispatcher1[a]||!this.$ExplicitRegistrationDispatcher2)&&this.__invokeCallback(a,b,c)};c.unregister=function(b){a.prototype.unregister.call(this,b),delete this.$ExplicitRegistrationDispatcher1[b]};c.__getMaps=function(){};return b}(b("Dispatcher_DEPRECATED"));e.exports=a}),null);
__d("LiveVideoPlayerDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;babelHelpers.assertThisInitialized(b).dispatch=b.dispatch.bind(babelHelpers.assertThisInitialized(b));return b}return b}(b("ExplicitRegistrationReactDispatcher"));e.exports=new a({strict:!0})}),null);
__d("LiveVideoPlayerActions",["LiveVideoPlayerDispatcher"],(function(a,b,c,d,e,f){a={setIsRewound:function(a,c){c={type:"SET_IS_REWOUND",isRewound:c,vpc:a};b("LiveVideoPlayerDispatcher").dispatch(c)},dismissRewindCommentOverlay:function(a){a={type:"DISMISS_REWIND_COMMENT_OVERLAY",playerID:a};b("LiveVideoPlayerDispatcher").dispatch(a)}};e.exports=a}),null);
__d("LiveRewindUtils",["LiveVideoPlayerActions","LiveVideoRewindTypedLogger","uuid"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=5,h=new Map(),i=250;function j(a){var b=0;for(var c=0;c<a.length();c++)b+=a.end(c)-a.start(c);return b>g?b-g:0}function a(a,b){__p&&__p();var c=a;if(b.length()<1)return 0;if(a<=0)return b.start(0);for(var a=0;a<b.length();a++){var d=b.end(a)-b.start(a);if(c<d)return b.start(a)+c;c-=d}return b.end(b.length()-1)}function k(a,b){__p&&__p();var c=a;if(b.length()<1)return c;var d=0;for(var e=0;e<b.length();e++){var f=b.start(e),g=f-d;c-=g;if(a<f){g=f-a;return c+g}if(a<=b.end(e))return c;d=b.end(e)}return c}function l(a,b,c,d){__p&&__p();if(c.length()<1)return 0;d==null&&(d=n(a,c));a<c.start(d)&&(a=c.start(d));a>c.end(d)&&(a=c.end(d));var e=a+b,f=c.end(c.length()-1),g=c.start(0);if(e<=g)return g;if(e>=f)return f;if(e>=c.start(d)&&e<=c.end(d))return e;if(e<c.start(d)){if(d<1)return g;g=a-c.start(d);g=b+g;var h=c.end(d-1);return l(h,g,c,d-1)}if(e>c.start(d)){if(d>=c.length()-1)return f;h=c.end(d)-a;g=b-h;e=c.start(d+1);return l(e,g,c,d+1)}return 0}function m(a,b){b==null&&(b=g);var c=a.end(a.length()-1);return l(c,-1*b,a)}function n(a,b){if(b.length()<1)return 0;var c=0;while(c<b.length()-1){if(a<b.end(c))return c;c++}return c}function c(a){var c=h.get(a);if(c==null){var d=b("uuid")();h.set(a,{sessionID:d,currentSequenceNumber:0});return d}return c.sessionID}function d(a){var c=h.get(a);if(c==null){h.set(a,{sessionID:b("uuid")(),currentSequenceNumber:0});return 0}a=++c.currentSequenceNumber;return a}function f(a){var c=a.getSeekableRanges();if(c){var d=k(a.getCurrentTimePosition(),c);c=c.start(0);s(a,c);b("LiveVideoPlayerActions").setIsRewound(a,!0);r("go_to_beginning",a,d,null,0,null)}}function o(a){var c=a.getSeekableRanges();if(!c)return;var d=a.getCurrentTimePosition(),e=k(d,c);d=l(d,-10,c);s(a,d);b("LiveVideoPlayerActions").setIsRewound(a,!0);r("back_button",a,e,null,null,d)}function p(a){var c=a.getSeekableRanges();if(!c)return;var d=a.getCurrentTimePosition(),e=k(d,c);d=l(d,10,c);s(a,d);c=m(c);a.isState("playing")&&c-d<1&&b("LiveVideoPlayerActions").setIsRewound(a,!1);r("forward_button",a,e,null,null,d)}function q(a){__p&&__p();var c=a.getSeekableRanges();if(c){var d=a.getCurrentTimePosition();d=k(d,c);c=c.end(c.length()-1);s(a,c);a.isState("paused")&&a.play("user_initiated");b("LiveVideoPlayerActions").setIsRewound(a,!1);r("go_to_live",a,d,null,null,c)}}function r(a,c,d,e,f,g){var h=c.getSeekableRanges(),i=h?j(h):0;d==null&&e!=null&&h!=null&&(d=k(e,h));f==null&&g!=null&&h!=null&&(f=k(g,h));new(b("LiveVideoRewindTypedLogger"))().setEvent(a).setPositionBefore(d).setPositionAfter(f).setVideoDuration(i).setVideoID(c.getVideoID()).setSessionID(t.getLoggingSessionID(c.getVideoPlayerID())).setActionSequenceNumber(t.getLoggingSequenceNumber(c.getVideoPlayerID())).log()}function s(a,b){var c=a.getState()==="paused";a.pause("seek_initiated");setTimeout(function(){a.seek(b),c||a.play("seek_initiated")},i)}var t={getSeekTime:l,getAbsolutePosition:a,getLiveHeadTimestamp:m,getLoggingSessionID:c,getLoggingSequenceNumber:d,getRelativePosition:k,getTotalDuration:j,goToBeginning:f,goToLive:q,logLiveRewindEvent:r,seekBack:o,seekForward:p,LIVE_HEAD_BUFFER_S:g};e.exports=t}),null);
__d("XWebLoginController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/login/web/",{add_to_profile:{type:"Bool",defaultValue:!1},api_key:{type:"String"},cancel_url:{type:"String"},canvas:{type:"Exists",defaultValue:!1},channel_url:{type:"String"},connect_display:{type:"String"},crst:{type:"Bool",defaultValue:!1},cuid:{type:"String"},deact:{type:"String"},display:{type:"String"},fbconnect:{type:"String"},friend_nonce:{type:"String"},ab_test_data:{type:"String"},email:{type:"String"},pass:{type:"String"},e:{type:"Int"},ep:{type:"String"},legacy_return:{type:"Bool",defaultValue:!1},next:{type:"String"},nopw:{type:"Bool",defaultValue:!1},popup:{type:"Exists",defaultValue:!1},req_perms:{type:"String"},return_session:{type:"Bool",defaultValue:!1},signed_next:{type:"Bool",defaultValue:!1},skip_api_login:{type:"Bool",defaultValue:!1},social_plugin:{type:"String"},social_plugin_action:{type:"String"},isprivate:{type:"Bool",defaultValue:!1},work_uid:{type:"Int"},work_nonce:{type:"String"},lgndim:{type:"String"},enable_profile_selector:{type:"Bool",defaultValue:!1},profile_selector_ids:{type:"String"},first_attempt:{type:"Exists",defaultValue:!1},relay_post_params:{type:"String"},session_version:{type:"Int"},trynum:{type:"Int"},reactivate:{type:"Exists",defaultValue:!1},ci_partner_login:{type:"Exists",defaultValue:!1},connect_id:{type:"Int"},external_page_url:{type:"String"},provider:{type:"String"},iframe_src:{type:"String"},m2w:{type:"Exists",defaultValue:!1},nothacked:{type:"Bool",defaultValue:!1},offline_access:{type:"Exists",defaultValue:!1},page_id:{type:"String"},n:{type:"String"},id:{type:"Int"},h:{type:"String"},from_contact_claiming:{type:"Bool",defaultValue:!1},issuer:{type:"String"},kid_directed_site:{type:"Bool",defaultValue:!1},delete_account:{type:"String"},guid:{type:"String"},gdp_version:{type:"String"}})}),null);
__d("VideoActionsMenu.react",["cx","fbt","ClickableArea.react","Clipboard","React","XWebLoginController"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("React").useState;function a(a){var c=a.permalinkURL,d=a.showCopyLink;a=a.tabIndex;var e=i(!1),f=e[0],g=e[1];e=b("XWebLoginController").getURIBuilder().setString("next",c).getURI();var j=function(){var a=b("Clipboard").copy(c);g(a)};return b("React").jsx("div",{className:"_2i_w",children:b("React").jsxs("div",{className:"_2i_x",children:[b("React").jsx("a",{href:e,className:"_4t9q _2iw4",tabIndex:a,children:h._("Report video")}),d?b("React").jsx(b("ClickableArea.react"),{onClick:j,children:b("React").jsx("div",{className:"_8s62 _2iw4",children:f?h._("Link copied"):h._("Copy Link")})}):null]})})}e.exports=a}),null);
__d("VideoActionsControl.react",["ix","cx","fbt","AbstractButton.react","ClickableArea.react","Image.react","React","TooltipData","VideoActionsMenu.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("React").useCallback,k=b("React").useState;function a(a){__p&&__p();var c=a.disabled,d=a.onActionsClicked,e=a.permalinkURL,f=a.showCopyLink;a=a.tabIndex;var h=k(!1),l=h[0],m=h[1];h=b("React").jsx(b("Image.react"),{className:"_rwt",src:g("621635")});var n=i._("Sharing and reporting options"),o=!c&&l;o=o?b("React").jsx("div",{className:"_2iw7"+(l?" _2iw8":""),children:b("React").jsx(b("VideoActionsMenu.react"),{permalinkURL:e,showCopyLink:f,tabIndex:a})}):null;e=i._("Options");f=j(function(){m(!l),d&&d()},[l,d]);return b("React").jsxs("div",{className:"_2j04",children:[o,b("React").jsx(b("ClickableArea.react"),babelHelpers["extends"]({},b("TooltipData").propsFor(e,"above"),{onClick:f,children:b("React").jsx(b("AbstractButton.react"),{className:"_zbd"+(c?" _132h":""),disabled:c,image:h,label:n,labelIsHidden:!0,tabIndex:a,type:"button"})}))]})}e.exports=a}),null);
__d("VideoClipButton.react",["ix","cx","fbt","AbstractButton.react","Arbiter","Image.react","React","TooltipData","XUISpinner.react","XUIText.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=i._("Generating clip...");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this)||this;c.state={isClipping:!1};c.$2=function(){c.setState({isClipping:!1})};c.$1=b("Arbiter").subscribe("GamesVideoClipping/clipReady",c.$2);return c}var d=c.prototype;d.componentWillUnmount=function(){b("Arbiter").unsubscribe(this.$1)};d.render=function(){var a=this,c,d=i._("Create a clip from the last {num_seconds} seconds",[i._param("num_seconds",this.props.defaultLengthInSec)]);return this.state.isClipping?b("React").jsx(b("XUIText.react"),{className:"_zbd _25cu","data-hover":"tooltip","data-tooltip-content":j,children:b("React").jsx(b("XUISpinner.react"),{className:"_rwt",background:"light",size:"small",paused:!1})}):b("React").jsx(b("AbstractButton.react"),babelHelpers["extends"]({},b("TooltipData").propsFor(d,"above"),{className:"_zbd _8z3u",image:b("React").jsx(b("Image.react"),{className:"_rwt",src:this.props.iconSrc}),label:(c=this.props.buttonLabel)!=null?c:d,labelIsHidden:this.props.buttonLabel===null,onClick:function(){a.setState({isClipping:!0}),a.props.onClipVideo()},tabIndex:"0"}))};return c}(b("React").Component);a.defaultProps={buttonLabel:null,iconSrc:g("468574")};e.exports=a}),null);
__d("PerfUtils",["React","performanceNow","PerfHelperUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("React").Component,i=b("PerfHelperUtils").SlowBootloadBorder;function a(a,c,d){__p&&__p();var e=function(f){__p&&__p();babelHelpers.inheritsLoose(e,f);function e(){return f.apply(this,arguments)||this}var g=e.prototype;g.componentDidMount=function(){c()};g.render=function(){if(d)return b("React").jsx(a,babelHelpers["extends"]({},this.props,{ref:d}));else return b("React").jsx(a,babelHelpers["extends"]({},this.props))};return e}(h);return e}function c(a,c,d){__p&&__p();var e=1e4;d=(g||(g=b("performanceNow")))()-d;if(d<e)return a;var f=e/1e3,j=Math.round(d)/1e3;e=function(d){babelHelpers.inheritsLoose(e,d);function e(){return d.apply(this,arguments)||this}var g=e.prototype;g.componentDidMount=function(){};g.render=function(){return b("React").jsx(i,{moduleId:c,timeLimitSecs:f,timeSpentSecs:j,children:b("React").jsx(a,babelHelpers["extends"]({},this.props))})};return e}(h);return e}d={appendListener:a,markRedInDev:c};e.exports=d}),null);
__d("BootloadedComponent.react",["DeferredComponent.react","JSResource","PerfUtils","React","TimeSlice","performanceNow"],(function(a,b,c,d,e,f){__p&&__p();var g;a=b("React").Component;var h=b("PerfUtils").appendListener;c=b("PerfUtils").markRedInDev;d=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.create=function(a){__p&&__p();var c=function(d){__p&&__p();babelHelpers.inheritsLoose(c,d);function c(){return d.apply(this,arguments)||this}var e=c.prototype;e.render=function(){var c=this.props;c.bootloadLoader;c=babelHelpers.objectWithoutPropertiesLoose(c,["bootloadLoader"]);return b("React").jsx(i,babelHelpers["extends"]({bootloadLoader:a,bootloadPlaceholder:b("React").jsx("div",{})},c))};return c}(b("React").Component);c.displayName="BootloadedComponent("+a.getModuleId()+")";return c};return c}(a);f=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$BootloadedComponent1=function(a){var c=d.props.isContinuation,e;c=c?b("TimeSlice").PropagationType.CONTINUATION:b("TimeSlice").PropagationType.EXECUTION;b("TimeSlice").guard(b("JSResource").loadAll,"BootloadedComponent load all JSResource",{propagationType:c})([d.props.bootloadLoader],function(b){b=d.props.onComponentDidMount?h(b,d.props.onComponentDidMount):b,a(b)})};c.onBootloaderWillMount&&c.onBootloaderWillMount();return d}var d=c.prototype;d.render=function(){var a=this.props;a.bootloadLoader;a.isContinuation;var c=a.bootloadPlaceholder,d=a.bootloadForcePlaceholder;a=babelHelpers.objectWithoutPropertiesLoose(a,["bootloadLoader","isContinuation","bootloadPlaceholder","bootloadForcePlaceholder"]);return b("React").jsx(b("DeferredComponent.react"),babelHelpers["extends"]({deferredPlaceholder:c,deferredComponent:this.$BootloadedComponent1,deferredForcePlaceholder:d},a))};return c}(d);f.defaultProps={isContinuation:!0};var i=f;e.exports=i}),null);
__d("VideoFBIconControl.react",["ix","cx","fbt","AbstractButton.react","Image.react","React","TooltipData","URI","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=2;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=new(j||(j=b("URI")))(this.props.permalinkURL).addQueryData("t",Math.max(0,Math.floor(this.props.playbackPosTimestamp)-k));return b("React").jsx(b("AbstractButton.react"),babelHelpers["extends"]({},b("TooltipData").propsFor(this.props.label,"above"),{className:"_zbd",href:a,image:b("React").jsx(b("Image.react"),{className:"_rwt",src:g("804741")}),label:this.props.label,labelIsHidden:this.props.labelIsHidden,ref:"button",tabIndex:"0",target:"_blank",type:"button"}))};return c}(b("React").Component);a.defaultProps={label:i._("Click to watch on Facebook"),labelIsHidden:!0};e.exports=a}),null);
__d("fbjs/lib/shallowEqual",["shallowEqual"],(function(a,b,c,d,e,f){"use strict";e.exports=b("shallowEqual")}),null);
__d("shallowCompare",["fbjs/lib/shallowEqual"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){return!b("fbjs/lib/shallowEqual")(a.props,c)||!b("fbjs/lib/shallowEqual")(a.state,d)}e.exports=a}),null);
__d("VideoFullscreenControl.react",["ix","cx","fbt","AbstractVideoFullscreenControl.react","Image.react","React","ReactDOM","VideoPlayerExperiments","asset","prop-types","shallowCompare"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.shouldComponentUpdate=function(a,c){return b("shallowCompare")(this,a,c)};d.onMouseOut=function(a){b("ReactDOM").findDOMNode(this.refs.button).blur()};d.render=function(){var a;!b("VideoPlayerExperiments").fourArrowFullScreen?a=this.props.isFullscreen?g("463022"):g("407577"):a=this.props.isFullscreen?g("463031"):g("412613");a=b("React").jsx(b("Image.react"),{className:"_rwt",src:a});var c=this.props.isFullscreen?i._("Exit full screen"):i._("Enter fullscreen");return b("React").jsx(b("AbstractVideoFullscreenControl.react"),babelHelpers["extends"]({},this.props,{className:"_zbd _39ip","data-testid":"fullscreen_control",disabled:this.props.disabled,image:a,onMouseOut:this.onMouseOut.bind(this),ref:"button",tabIndex:this.props.tabIndex,type:"button",label:c,labelIsHidden:!0}))};return c}(b("React").Component);a.propTypes={isFullscreen:b("prop-types").bool,onToggleFullscreen:b("prop-types").func,tabIndex:b("prop-types").string};e.exports=a}),null);
__d("VideoPlaybackControl.react",["ix","cx","fbt","AbstractButton.react","Image.react","React","ReactDOM","TooltipData","VideoPlayerExperiments","asset","prop-types","shallowCompare"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;b.state={awaitingUpdate:!1,isPlayingOverwrite:!1};return b}var d=c.prototype;d.shouldComponentUpdate=function(a,c){return b("shallowCompare")(this,a,c)};d.isPlaying=function(){return this.state.awaitingUpdate?this.state.isPlayingOverwrite:this.props.isPlaying};d.onButtonClick=function(){var a=this.isPlaying();this.setState({awaitingUpdate:!0,isPlayingOverwrite:!a});a?this.props.onPause&&this.props.onPause():this.props.onPlay&&this.props.onPlay()};d.UNSAFE_componentWillReceiveProps=function(){this.setState({awaitingUpdate:!1})};d.onMouseOut=function(a){b("ReactDOM").findDOMNode(this.refs.button).blur()};d.render=function(){var a=null,c="";this.props.finishedPlaying?(this.props.useDarkTheme?a=g("463014"):a=g("463019"),c=i._("Replay")):this.props.isLiveVideo?a=this.isPlaying()?g("463008"):g("431972"):(this.props.useDarkTheme?a=this.isPlaying()?g("463003"):g("462853"):a=this.isPlaying()?g("463005"):g("374088"),c=this.isPlaying()?i._("Pause"):i._("Play"));a=b("React").jsx(b("Image.react"),{className:"_rwt",src:a});var d=(this.props.isLiveVideo?"":"_zbd")+(this.props.isLiveVideo?" _rx5":"")+" _2sm1";if(b("VideoPlayerExperiments").embeddedPlayerEnhancements)return b("React").jsx(b("AbstractButton.react"),babelHelpers["extends"]({},b("TooltipData").propsFor(c,"above"),{className:d,"data-testid":"play_pause_control",image:a,label:c,labelIsHidden:!0,onClick:this.onButtonClick.bind(this),onMouseOut:this.onMouseOut.bind(this),ref:"button",tabIndex:this.props.tabIndex,type:"button"}));else return b("React").jsx(b("AbstractButton.react"),{className:d,"data-testid":"play_pause_control",image:a,label:c,labelIsHidden:!0,onClick:this.onButtonClick.bind(this),onMouseOut:this.onMouseOut.bind(this),ref:"button",tabIndex:this.props.tabIndex,type:"button"})};return c}(b("React").Component);a.propTypes={finishedPlaying:(c=b("prop-types")).bool,isPlaying:c.bool,onPlay:c.func,onPause:c.func,tabIndex:c.string};a.defaultProps={useDarkTheme:!1};e.exports=a}),null);
__d("VideoPlaybackRateControl.react",["cx","fbt","AbstractButton.react","React","VideoPlayerExperiments","prop-types","shallowCompare"],(function(a,b,c,d,e,f,g,h){__p&&__p();function i(a){return a.toFixed(2).replace(/\.0+/,".0")+"x"}a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isMenuOpen:!1,isFocusTriggeredByMouse:!1,rate:1},c.onFocus=function(){c.state.isFocusTriggeredByMouse||c.setState({isMenuOpen:!0})},c.onBlur=function(){c.state.isFocusTriggeredByMouse?c.setState({isFocusTriggeredByMouse:!1}):c.setState({isMenuOpen:!1})},c.onMouseDown=function(){return c.setState({isFocusTriggeredByMouse:!0})},c.onMouseOverButton=function(){return c.setState({isMenuOpen:!0})},c.onMouseLeave=function(){return c.setState({isMenuOpen:!1})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.shouldComponentUpdate=function(a,c){return b("shallowCompare")(this,a,c)};d.createRateItem=function(a,c,d){var e=function(a){d(),a.preventDefault()},f=null;c&&(f=b("React").jsx("div",{className:"_2iw1"}));c=b("React").jsx("div",{className:"_2iw3",style:{backgroundColor:"inherit"},children:f});return b("React").jsxs("a",{href:"#",className:"_2iw4",onClick:e,tabIndex:this.props.tabIndex,children:[c,b("React").jsx("div",{className:"_2iw5 _2iw6",children:a})]},a)};d.render=function(){__p&&__p();var a=this,c=i(this.state.rate),d=null;if(!this.props.disabled){var e=[.5,1,1.25,1.5,1.75,2,2.5,3,3.5,4,5];e=e.map(function(b){return a.createRateItem(i(b),a.state.rate==b,function(){a.props.onSelectPlaybackRate&&a.props.onSelectPlaybackRate(b),a.setState({rate:b})})});d=b("React").jsx("div",{className:"_67bw"+(this.state.isMenuOpen?" _2iw8":""),children:b("React").jsx("div",{className:"_2i_w",children:b("React").jsxs("div",{className:"_2i_x",children:[b("React").jsx("div",{className:"_2iw5",children:h._("Play speed")}),e,b("React").jsx("div",{className:"_ukl"})]})})})}e="_zbd _66_y"+(!b("VideoPlayerExperiments").embeddedPlayerEnhancements||!this.props.isEmbedded?" _66_z":"");e=b("React").jsx(b("AbstractButton.react"),{className:e,label:c,onMouseDown:this.onMouseDown,onMouseOver:this.onMouseOverButton,ref:"button",tabIndex:this.props.tabIndex,type:"button"});return b("React").jsxs("div",{className:"_2j04",onFocus:this.onFocus,onBlur:this.onBlur,onMouseLeave:this.onMouseLeave,children:[e,d]})};return c}(b("React").Component);a.propTypes={isEmbedded:b("prop-types").bool,onSelectPlaybackRate:b("prop-types").func,tabIndex:b("prop-types").string};a.defaultProps={tabIndex:"-1"};e.exports=a}),null);
__d("KeyActivationToClickHOC.react",["React","isKeyActivation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();var c,d;return d=c=function(c){__p&&__p();babelHelpers.inheritsLoose(d,c);function d(){__p&&__p();var a;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];a=c.call.apply(c,[this].concat(e))||this;a.$2=function(c){b("isKeyActivation")(c)&&(c.preventDefault(),c.stopPropagation(),a.$1&&a.$1.click())};a.$3=function(b){a.$1=b};a.$1=null;return a}var e=d.prototype;e.render=function(){return b("React").jsx(a,babelHelpers["extends"]({},this.props,{keyActivationToClickEvent:this.$2,keyActivationToClickRef:this.$3}))};return d}(b("React").Component),c.displayName="KeyActivationToClickHOC",d};e.exports=a}),null);
__d("ShimButton.react",["KeyActivationToClickHOC.react","React","emptyFunction","killswitch","prop-types"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){c.props.keyActivationToClickRef(a),c.props.onRef(a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props,c=a.children,d=a.form,e=a.inline,f=a.keyActivationToClickEvent;a.keyActivationToClickRef;a.onRef;var g=a.pressed;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","form","inline","keyActivationToClickEvent","keyActivationToClickRef","onRef","pressed"]);e=e?"span":"div";d==="link"&&(e="a");f=(d={},d[b("killswitch")("SHIM_BUTTON_USE_ONKEYDOWN_INSTEAD_OF_ONKEYPRESS")?"onKeyPress":"onKeyDown"]=f,d);return b("React").jsx(e,babelHelpers["extends"]({},a,{"aria-pressed":g,ref:this.$1,role:"button"},f,{children:c}))};return c}(b("React").Component);a.defaultProps={form:"none",inline:!1,keyActivationToClickEvent:c=b("emptyFunction"),keyActivationToClickRef:c,onClick:c,onRef:c,tabIndex:"0"};a.propTypes={children:(d=b("prop-types")).any,form:d.oneOf(["none","link"]),inline:d.bool,tabIndex:d.oneOf(["-1","0",-1,0]),onClick:d.func,onRef:d.func};e.exports=b("KeyActivationToClickHOC.react")(a)}),null);
__d("VideoPlaybackTimer.react",["cx","DateConsts","React","ShimButton.react","VideoPlayerExperiments","joinClasses","prop-types","shallowCompare"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;b.state={displayRemainingTime:!b.props.displayElapsedTime,displayPreferenceSet:!1};return b}var d=c.prototype;d.shouldComponentUpdate=function(a,c){return b("shallowCompare")(this,a,c)};d.UNSAFE_componentWillReceiveProps=function(a){this.state.displayPreferenceSet||this.setState({displayRemainingTime:!a.displayElapsedTime})};d.getClock=function(a){__p&&__p();var c="";isNaN(a)?a=0:a<0&&(a*=-1,c="-");var d=Math.floor(a/b("DateConsts").SEC_PER_HOUR),e=Math.floor((a-d*b("DateConsts").SEC_PER_HOUR)/b("DateConsts").SEC_PER_MIN),f=null;!this.props.displayMilliseconds?f=Math.round(a-d*b("DateConsts").SEC_PER_HOUR-e*b("DateConsts").SEC_PER_MIN):f=Math.floor(a-d*b("DateConsts").SEC_PER_HOUR-e*b("DateConsts").SEC_PER_MIN);f===b("DateConsts").SEC_PER_MIN&&(f=0,e++);e===b("DateConsts").MIN_PER_HOUR&&(e=0,d++);a=a-d*b("DateConsts").SEC_PER_HOUR-e*b("DateConsts").SEC_PER_MIN-f;a=Math.round(a*b("DateConsts").MS_PER_SEC);var g=("0"+e).slice(-2);f=("0"+f).slice(-2);a=("00"+a).slice(-3);c=c;d===0?c+=e+":"+f:c+=d+":"+g+":"+f;this.props.displayMilliseconds&&(c+="."+a);return c};d.onButtonClick=function(){this.setState({displayRemainingTime:!this.state.displayRemainingTime,displayPreferenceSet:!0})};d.render=function(){__p&&__p();var a=this.state.displayPreferenceSet?this.state.displayRemainingTime:!this.props.displayElapsedTime;a=a?this.props.remainingTimestamp:this.props.playbackPosTimestamp;var c="_66_y"+((!b("VideoPlayerExperiments").embeddedPlayerEnhancements||!this.props.isEmbedded)&&!this.props.displayBothTimes?" _66_z":"");this.props.isInScrubberPreview&&(c="_66_-");var d=Object.assign({},this.props);delete d.displayElapsedTime;delete d.displayMilliseconds;delete d.isInScrubberPreview;delete d.playbackPosTimestamp;delete d.remainingTimestamp;delete d.isEmbedded;if(this.props.displayBothTimes){var e;return(e=b("React")).jsxs("div",babelHelpers["extends"]({},d,{className:b("joinClasses")(this.props.className,c),children:[e.jsx("span",{className:"_66_z",children:this.getClock(this.props.playbackPosTimestamp)}),e.jsx("span",{children:" / "}),e.jsx("span",{children:this.getClock(this.props.playbackDurationTimestamp)})]}))}return b("React").jsx(b("ShimButton.react"),babelHelpers["extends"]({},d,{className:b("joinClasses")(this.props.className,c),onClick:this.props.isLiveVideo?void 0:this.onButtonClick.bind(this),children:this.getClock(a)}))};return c}(b("React").Component);a.propTypes={isEmbedded:(c=b("prop-types")).bool,isInScrubberPreview:c.bool,playbackDurationTimestamp:c.number,playbackPosTimestamp:c.number,remainingTimestamp:c.number,displayElapsedTime:c.bool,displayMilliseconds:c.bool,displayBothTimes:c.bool,useDarkTheme:c.bool};a.defaultProps={isInScrubberPreview:!1,playbackDurationTimestamp:0,playbackPosTimestamp:0,remainingTimestamp:0,displayElapsedTime:!1,displayMilliseconds:!1,displayBothTimes:!1,useDarkTheme:!1};e.exports=a}),null);
__d("VideoPollCardDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ExplicitRegistrationDispatcher"))({strict:!1})}),null);
__d("ImmutableRecordWithV4Types",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record;e.exports={Record:a}}),null);
__d("keyMirror",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){var c={};if(!(a instanceof Object&&!Array.isArray(a)))throw b("unrecoverableViolation")("keyMirror(...): Argument must be an object.","comet_infra");for(var d in a){if(!Object.prototype.hasOwnProperty.call(a,d))continue;c[d]=d}return c}e.exports=a}),null);
__d("VideoPollCardActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({MARK_POLL_CARD_ACTIVE:"",MARK_POLL_CARD_INACTIVE:""});e.exports=a}),null);
__d("VideoPollCardStore",["FluxReduceStore","ImmutableRecordWithV4Types","VideoPollCardActionTypes","VideoPollCardDispatcher","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("ImmutableRecordWithV4Types").Record;var g=a({pollCardsActiveForVPC:{}});c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return g()};d.reduce=function(a,c){__p&&__p();var d=c.pollEventID,e=c.vpcID;switch(c.type){case b("VideoPollCardActionTypes").MARK_POLL_CARD_ACTIVE:if(a.pollCardsActiveForVPC[e]===null){c=a.pollCardsActiveForVPC;var f=b("immutable").List();c[e]=f.push(d);a=a.set("pollCardsActiveForVPC",c)}else{f=a.pollCardsActiveForVPC;c=(c=a.pollCardsActiveForVPC[e])!=null?c:b("immutable").List();f[e]=c.push(d);a=a.set("pollCardsActiveForVPC",f)}return a;case b("VideoPollCardActionTypes").MARK_POLL_CARD_INACTIVE:if(a.pollCardsActiveForVPC[e]!==null){c=a.pollCardsActiveForVPC;f=(f=c[e])!=null?f:b("immutable").List();f=f.filter(function(a){return a!==d});c[e]=f;a=a.set("pollCardsActiveForVPC",c)}return a;default:return a}};return c}(b("FluxReduceStore"));c.__moduleID=e.id;e.exports=new c(b("VideoPollCardDispatcher"))}),null);
__d("VideoInstreamUtils",["fbt","DateConsts","VideoInstreamAdsConstants"],(function(a,b,c,d,e,f,g){__p&&__p();var h={convertFormattedTimeToSeconds:function(a){__p&&__p();var c=0;a=a.split(".");if(a.length>2)return null;if(a.length===2){if(a[1].length===0)return null;var d=a[1];while(d.length<3)d+="0";d=Number(d);if(isNaN(d)||d<0||d>=b("DateConsts").MS_PER_SEC)return null;c+=d/b("DateConsts").MS_PER_SEC}d=a[0].split(":");if(d.length>3)return null;for(var a=0;a<d.length;a++){if(d[a].length===0)return null;var e=Number(d[a]);if(isNaN(e)||e<0||e>=60)return null;c+=e*Math.pow(60,d.length-a-1)}return c},convertTimestampToFormattedString:function(a){__p&&__p();var c;a=Math.round(a*(c=b("DateConsts")).MS_PER_SEC)/c.MS_PER_SEC;var d=Math.floor(a/c.SEC_PER_HOUR);a=a-d*c.SEC_PER_HOUR;var e=Math.floor(a/c.SEC_PER_MIN),f=Math.floor(a-e*c.SEC_PER_MIN);a=Math.round(a*c.MS_PER_SEC);c=("0"+d).slice(-2);e=("0"+e).slice(-2);f=("0"+f).slice(-2);a=("00"+a).slice(-3);var g="";d>0&&(g+=c+":");return g+=e+":"+f+"."+a},getMaxPossibleAdBreaks:function(a,c){a=Math.ceil(a)*b("DateConsts").MS_PER_SEC;if(a<b("VideoInstreamAdsConstants").AD_INSERTION_MINIMUM_VIDEO_LENGTH_MS)return 0;if(!c)return b("VideoInstreamAdsConstants").AD_INSERTION_MAXIMUM_NUMBER_OF_AD_BREAKS;c=(a-b("VideoInstreamAdsConstants").AD_INSERTION_END_TIME_OFFSET_MS-b("VideoInstreamAdsConstants").AD_INSERTION_START_TIME_OFFSET_MS)/b("VideoInstreamAdsConstants").AD_INSERTION_INTERVAL_MS;return Math.max(0,Math.floor(c)+1)},getEligibleTimeSegments:function(a,c,d){__p&&__p();var e=h.getMaxPossibleAdBreaks(c,d);if(e===0||!d&&a.length>=e)return[];var f=b("VideoInstreamAdsConstants").AD_INSERTION_START_TIME_OFFSET_MS/b("DateConsts").MS_PER_SEC,g=c-b("VideoInstreamAdsConstants").AD_INSERTION_END_TIME_OFFSET_MS/b("DateConsts").MS_PER_SEC,i=b("VideoInstreamAdsConstants").AD_INSERTION_INTERVAL_MS/b("DateConsts").MS_PER_SEC;if(a.length===0||!d)return[{start:f,end:g}];var j=[];a.forEach(function(b,c){__p&&__p();if(c===0){var d=b.timeOffset-i;d>=f&&j.push({start:f,end:d})}if(c-1>=0){d=a[c-1].timeOffset+i;var e=b.timeOffset-i;d<=e&&j.push({start:d,end:e})}if(c===a.length-1){d=b.timeOffset+i;d<=g&&j.push({start:d,end:g})}});return j},isInEligibleTimeSegments:function(a,b,c,d){if(a===null||a===void 0)return!1;c=h.getEligibleTimeSegments(c,b,d);for(var b=0;b<c.length;b++)if(a>=c[b].start&&a<=c[b].end)return!0;return!1},isAdBreakViolatingInsertionRules:function(a,c,d,e){__p&&__p();var f=a[c];if(f.timeOffset*b("DateConsts").MS_PER_SEC<b("VideoInstreamAdsConstants").AD_INSERTION_START_TIME_OFFSET_MS)return!0;if((d-f.timeOffset)*b("DateConsts").MS_PER_SEC<b("VideoInstreamAdsConstants").AD_INSERTION_END_TIME_OFFSET_MS)return!0;if(e)for(var d=0;d<a.length;d++){if(d===c||a[d].timeOffset>=f.timeOffset)continue;if((f.timeOffset-a[d].timeOffset)*b("DateConsts").MS_PER_SEC<b("VideoInstreamAdsConstants").AD_INSERTION_INTERVAL_MS)return!0}return!1},getAdBreakTabState:function(a,b,c,d){a=new Set(a);h.getMaxPossibleAdBreaks(c,d)===0&&a.add("video_too_short");b&&a.add("branded_content");return this._getAdBreakTabStateFromDisabledReasons(a)},_getAdBreakTabStateFromDisabledReasons:function(a){__p&&__p();if(a.size===0)return{disabled:!1,errorMessageHeader:null,errorMessageContent:null};else if(a.has("video_too_short"))return{disabled:!0,errorMessageHeader:g._({"*":"Videos must be {insertion interval} seconds or longer"},[g._param("insertion interval",b("VideoInstreamAdsConstants").AD_INSERTION_MINIMUM_VIDEO_LENGTH,[0])]),errorMessageContent:g._("Your video is too short to include in-stream ads.")};else if(a.has("not_organic_upload"))return{disabled:!0,errorMessageHeader:g._("In-stream ads not available"),errorMessageContent:g._("In-stream ads can only be placed in original videos, not crossposted or reshared videos.")};else if(a.has("broadcast"))return{disabled:!0,errorMessageHeader:g._("In-stream ads not available"),errorMessageContent:g._("Live videos are not eligible for in-stream ads, even if they are no longer live.")};else if(a.has("branded_content"))return{disabled:!0,errorMessageHeader:g._("In-stream ads not available"),errorMessageContent:g._("In-stream ads can't be used in this video because it contains tagged business partners.")};else if(a.has("asset_not_owned_by_page")||a.has("unowned_asset_crosspost"))return{disabled:!0,errorMessageHeader:g._("In-stream ads not available"),errorMessageContent:g._("You can only modify in-stream ads in videos that belong to Pages that you manage.")};return{disabled:!0,errorMessageHeader:g._("In-stream ads not available"),errorMessageContent:null}}};e.exports=h}),null);
__d("VideoScrubberPointOfInterestBar.react",["cx","React","ShimButton.react","VideoPlaybackTimer.react","prop-types"],(function(a,b,c,d,e,f,g){__p&&__p();var h=function(c){"use strict";__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){var a,b;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=b=c.call.apply(c,[this].concat(e))||this,b.state={visibility:"hidden"},a)||babelHelpers.assertThisInitialized(b)}var d=a.prototype;d.render=function(){var a=this,c=this.props.timestamp,d=c*100/this.props.playbackDuration+"%",e=b("React").jsx(b("VideoPlaybackTimer.react"),{className:"_zs-",isInScrubberPreview:!0,playbackPosTimestamp:0,remainingTimestamp:c,style:{left:d,visibility:this.state.visibility}});return b("React").jsxs("div",{children:[b("React").jsx(b("ShimButton.react"),{className:"_zt2"+(this.props.isActive?" _zt3":""),onClick:function(b){return a.props.onPointOfInterestSelect(c)},onMouseEnter:function(b){return a.setState({visibility:"visible"})},onMouseLeave:function(b){return a.setState({visibility:"hidden"})},style:{left:d}}),this.props.showPointOfInterestTimestamps&&e]})};return a}(b("React").PureComponent);h.propTypes={playbackDuration:(a=b("prop-types")).number.isRequired,timestamp:a.number.isRequired,isActive:a.bool.isRequired,showPointOfInterestTimestamps:a.bool.isRequired,onPointOfInterestSelect:a.func.isRequired};c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){return b("React").jsx(h,{playbackDuration:d.props.playbackDuration,timestamp:a,isActive:a===d.props.currentPointOfInterest,onPointOfInterestSelect:d.props.onPointOfInterestSelect,showPointOfInterestTimestamps:!!d.props.showPointOfInterestTimestamps},"poi"+a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.shouldComponentUpdate=function(a,b){var c=this;return a.tabIndex!=this.props.tabIndex||a.currentPointOfInterest!==this.props.currentPointOfInterest||a.playbackDuration!=this.props.playbackDuration||a.pointsOfInterest.length!=this.props.pointsOfInterest.length||a.pointsOfInterest.some(function(a,b){return c.props.pointsOfInterest[b]!=a})};d.render=function(){return b("React").jsx("div",{className:"_zud",tabIndex:this.props.tabIndex,children:b("React").jsx("div",{className:"_zue",children:this.props.pointsOfInterest.map(this.$1,this)})})};return c}(b("React").Component);c.propTypes={tabIndex:a.string.isRequired,playbackDuration:a.number.isRequired,onPointOfInterestSelect:a.func.isRequired,currentPointOfInterest:a.number,pointsOfInterest:a.array.isRequired,showPointOfInterestTimestamps:a.bool};e.exports=c}),null);
__d("VideoScrubberPreviewSpriteCalculation",[],(function(a,b,c,d,e,f){__p&&__p();a={getImageCoordinatesInSpriteByTime:function(a,b){var c=this.getTotalTimeInSprite(b.maxImagesPerSprite,b.timeIntervalBetweenImages);a=Math.floor(a%c/b.timeIntervalBetweenImages);c=Math.floor(a/b.imagesPerRow);a=a%b.imagesPerRow;return{x:a*b.previewScrubberWidth,y:c*b.previewScrubberHeight}},getSpriteIndex:function(a,b,c){b=this.getTotalTimeInSprite(b,c);return Math.floor(a/b)+1},getTotalTimeInSprite:function(a,b){return a*b}};e.exports=a}),null);
__d("VideoScrubber.react",["ix","cx","fbt","Arbiter","BootloadedComponent.react","ClickableArea.react","DateConsts","EventListener","Image.react","JSResource","Keys","ProfileTile.react","React","ReactDOM","Tooltip.react","VideoInstreamAdsConstants","VideoInstreamUtils","VideoPlaybackTimer.react","VideoScrubberPointOfInterestBar.react","VideoScrubberPreviewSpriteCalculation","asset","emptyFunction","getElementPosition","joinClasses","prop-types","shallowCompare"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();function j(a,b){a=a-b.x;a=a/b.width;return Math.min(Math.max(0,a),1)}function k(a,b){__p&&__p();if(a==null)return null;if(b==null)return null;for(var c=0;c<a.length;++c){var d=a[c];if(d.identifier===b)return d}return null}a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){__p&&__p();var c;c=a.call(this,b)||this;c.$7=null;c.$8=null;c.$9=null;c.$11=null;c.onMouseEnterScrubberNub=function(){c.props.showVideoSliderWarningTooltip&&c.setState({hoverNub:!0})};c.onMouseLeaveScrubberNub=function(){c.props.showVideoSliderWarningTooltip&&c.setState({hoverNub:!1})};c.$6=new Map([[0,""]]);c.$10=0;c.state={awaitingUpdate:!1,hoverNub:!1,mouseOver:!1,nubEngaged:!1,previewRatio:0,scrubRatio:0,timecodeRatio:0,timecodeTimestamp:0,scrubberPreviewSpriteIndex:0,scrubberPreviewBackgroundPosition:{x:0,y:0},previewThumbnailInformation:{timeIntervalBetweenImages:0,maxImagesPerSprite:0,imagesPerRow:0,imagesPerColumn:0,previewScrubberWidth:0,previewScrubberHeight:0,stereoMode:null,scrubberVideoURI:null,useScrubberVideo:!1},lastSpriteDimension:{numRow:0,numColumn:0},shouldIgnoreClipStartTS:!1};return c}var d=c.prototype;d.shouldComponentUpdate=function(a,c){return b("shallowCompare")(this,a,c)};d.onDragNubBeginImpl=function(a,b){var c=this.$12();this.setState({nubEngaged:!0,scrubRatio:j(b,c)});this.props.onScrubBegin&&this.props.onScrubBegin();a.stopPropagation();a.preventDefault()};d.onDragNubBeginClick=function(a){if(a.button!==0)return;this.onDragNubBeginImpl(a,a.clientX)};d.onDragNubBeginTouch=function(a){__p&&__p();if(this.props.alwaysShowThumbnail)return;var b=a.changedTouches;if(b==null)return;b=b[0];if(b==null)return;this.$11=b.identifier;this.onDragNubBeginImpl(a,b.clientX)};d.UNSAFE_componentWillReceiveProps=function(a){this.setState({awaitingUpdate:!1});if(this.props.alwaysShowThumbnail){this.$9=null;this.$8=null;var b=this.$12();a=b.x+b.width*this.getPlayedRatio(a.playbackDuration,a.playbackPosition);this.$13(a,b)}};d.componentDidUpdate=function(a,c){__p&&__p();var d=this;if(!c.nubEngaged&&this.state.nubEngaged){this.$1=(a=b("EventListener")).listen(document,"mousemove",function(a){var b=a.clientX;d.onDragNubUpdate(b);a.preventDefault();a.stopPropagation()});this.$2=a.listen(document,"mouseup",function(a){var b=a.clientX;d.onDragNubRelease(b);a.preventDefault();a.stopPropagation()});this.$4=a.listen(document,"touchmove",function(a){var b=k(a.changedTouches,d.$11);if(b==null)return;d.onDragNubUpdate(b.clientX);a.preventDefault();a.stopPropagation()});this.$3=a.listen(document,"touchend",function(a){var b=k(a.changedTouches,d.$11);if(b==null)return;d.$11=null;d.onDragNubRelease(b.clientX);a.preventDefault();a.stopPropagation()})}else c.nubEngaged&&!this.state.nubEngaged&&(this.$1&&this.$1.remove(),this.$2&&this.$2.remove(),this.$4&&this.$4.remove(),this.$3&&this.$3.remove());!c.mouseOver&&this.state.mouseOver?this.$5=b("EventListener").listen(document,"mousemove",function(a){var b=d.$12();d.$13(a.clientX,b);a.preventDefault();a.stopPropagation()}):c.mouseOver&&!this.state.mouseOver&&(this.$5&&this.$5.remove())};d.$13=function(a,c){__p&&__p();var d=this,e=this.props.playbackDuration;if(!e)return;var f=j(a,c)*e,g=(e=this.$8)!=null?e:this.$14();if(!this.props.hasScrubberPreview){e=j(a,c)-Math.ceil(g.width/2)/c.width;this.setState({timecodeTimestamp:f,timecodeRatio:e})}else this.props.previewThumbnailInformation&&(this.state.previewThumbnailInformation.previewScrubberWidth===0&&this.retrievePreviewThumbnailInfo(),b("ReactDOM").unstable_batchedUpdates(function(){d.state.previewThumbnailInformation.useScrubberVideo&&d.state.previewThumbnailInformation.scrubberVideoURI!==null?d.updatePreviewThumbnailVideo(f,g,a):d.props.scrubberPreviewSprites&&d.updatePreviewThumbnail(d.props.scrubberPreviewSprites,f,g,a)}))};d.updatePreviewThumbnail=function(a,b,c,d){this.setState({timecodeTimestamp:b});b=Math.floor(b);this.isSpriteMapURIFetched()||(this.$6=a);if(this.state.previewThumbnailInformation){a=this.state.previewThumbnailInformation;this.updatePreviewThumbnailImage(b,a)}this.updatePreviewThumbnailLocation(c,d)};d.updatePreviewThumbnailVideo=function(a,c,d){this.setState({timecodeTimestamp:a});var e=b("ReactDOM").findDOMNode(this.refs.previewThumbnailVideo);e.currentTime=a/30;this.updatePreviewThumbnailLocation(c,d)};d.updatePreviewThumbnailLocation=function(a,b){var c,d;c=(c=this.$9)!=null?c:this.$15();d=(d=this.$7)!=null?d:this.$12();b=j(b,d)-Math.ceil(c.width/2)/d.width;d=(c.width-a.width)/(2*c.width);this.setState({timecodeRatio:d,previewRatio:b})};d.updatePreviewThumbnailImage=function(a,c){__p&&__p();var d=b("VideoScrubberPreviewSpriteCalculation").getImageCoordinatesInSpriteByTime(a,c);a=b("VideoScrubberPreviewSpriteCalculation").getSpriteIndex(a,c.maxImagesPerSprite,c.timeIntervalBetweenImages);if(a==this.getNumberOfSprites()&&this.state.lastSpriteDimension.numRow==0&&this.$6){c=this.$6.get(a);var e=new Image(),f=this.onLastImageLoad.bind(this);e.onload=function(){f(this.width,this.height)};e.src=c}this.setState({scrubberPreviewSpriteIndex:a,scrubberPreviewBackgroundPosition:d})};d.onLastImageLoad=function(a,b){this.setState({lastSpriteDimension:{numRow:b/this.state.previewThumbnailInformation.previewScrubberHeight,numColumn:a/this.state.previewThumbnailInformation.previewScrubberWidth}})};d.retrievePreviewThumbnailInfo=function(){this.setState({previewThumbnailInformation:this.props.previewThumbnailInformation})};d.isSpriteMapURIFetched=function(){if(this.$6)return this.$6.size>1;else return!1};d.$12=function(){var a=b("getElementPosition")(b("ReactDOM").findDOMNode(this.refs.bar));this.$7=a;return a};d.$14=function(){var a=b("getElementPosition")(b("ReactDOM").findDOMNode(this.refs.timecode));this.$8=a;return a};d.$15=function(){var a=b("getElementPosition")(b("ReactDOM").findDOMNode(this.refs.previewThumbnailContainer));this.$9=a;return a};d.onDragNubUpdate=function(a){var b=this.$12();this.$13(a,b);this.setState({scrubRatio:j(a,b)})};d.onDragNubRelease=function(a){__p&&__p();var c=this.$12();this.$13(a,c);var d=this.props.playbackDuration;a=j(a,c);c=this.state.awaitingUpdate;if(d){d=a*d;this.props.onScrubEnd&&(this.props.onScrubEnd(d),c=!0);var e=this.props.videoClipInfo;e&&e.start_time_in_ms!==null&&(d<=e.start_time_in_ms/b("DateConsts").MS_PER_SEC&&this.setState({shouldIgnoreClipStartTS:!0}))}else this.props.onScrubEnd&&this.props.onScrubEnd(0);this.setState({nubEngaged:!1,awaitingUpdate:c,scrubRatio:a})};d.renderNub=function(){var a=b("React").jsx("div",{ref:"nub",className:"_2yua _4sxb"+(this.props.showVideoSliderWarningTooltip?" _83lq":""),onMouseEnter:this.onMouseEnterScrubberNub,onMouseLeave:this.onMouseLeaveScrubberNub});return this.props.showVideoSliderWarningTooltip?b("React").jsx(b("Tooltip.react"),{className:"_83lm _4sxb",tooltip:"Rewinding, pausing or skipping ahead in the video will be seen by all viewers.",children:a}):a};d.getPlayedRatio=function(a,b){if(this.state.nubEngaged||this.state.awaitingUpdate)return this.state.scrubRatio;if(!a||!b)return 0;b=b/a;return this.getRangeLimitedRatio(b)};d.getBufferedRatio=function(){var a=this.props.playbackDuration,b=this.props.bufferedPosition;if(!a||!b)return 0;b=b/a;return this.getRangeLimitedRatio(b)};d.getRangeLimitedRatio=function(a){return isNaN(a)||a<0||a>1?0:a};d.getNumberOfSprites=function(){return this.$6?this.$6.size:0};d.getAdBreakIndicators=function(){__p&&__p();if(!this.props.playbackDuration||!this.props.adBreaks)return null;var a=[];for(var c=0;c<this.props.adBreaks.length;c++){var d=this.props.adBreaks[c],e=d.getTimeOffsetInMs();if(e===null||e===void 0)continue;e/=b("DateConsts").MS_PER_SEC;var f=this.props.playbackDuration;if(e<0||e>f)continue;e={left:e/f*100+"%"};f=[];this.props.adBreaksDisableReasons&&(f=this.props.adBreaksDisableReasons[c]);var g="[FB Only] The in-stream ad is disabled for "+f.join(", ")+".";a.push(b("React").jsx("div",{style:e,className:(f.length===0?"_1p4l":"")+(f.length>0?" _1p4m":"")+(d.getIsAdBreakAutoInserted()&&f.length===0?" _1p4n":"")+(d.getIsAdBreakAutoInserted()&&f.length>0?" _1p4o":""),children:f.length>0?b("React").jsx(b("Tooltip.react"),{tooltip:g,children:"X"}):null},"ad_break_indicator_"+c))}return b("React").jsx("div",{children:a})};d.getInsertedAdBreaks=function(){__p&&__p();var a=this;if(!this.props.playbackDuration||!this.props.insertedAdBreaks)return null;var c=[];this.props.insertedAdBreaks.map(function(d,e){d=d.timeOffset;var f=a.props.playbackDuration;d={left:"calc("+d/f*100+"% - 2px)"};c.push(b("React").jsx("div",{style:d,className:(a.props.isAdBreakInsertionWithoutGapRule?"":"_1p4q")+(a.props.isAdBreakInsertionWithoutGapRule?" _1p4r":"")+(a.props.isAdBreakDisabled?" _1p4s":""),children:a.props.isAdBreakInsertionWithoutGapRule?null:e+1},"inserted_ad_break"+e))});return b("React").jsx("div",{children:c})};d.getEligibleAdBreaksTimeSegments=function(){__p&&__p();var a=this;if(!this.props.playbackDuration||!this.props.insertedAdBreaks)return null;if(this.props.isAdBreakInsertionWithoutGapRule&&this.props.insertedAdBreaks&&this.props.insertedAdBreaks.length>=b("VideoInstreamAdsConstants").AD_INSERTION_MAXIMUM_NUMBER_OF_AD_BREAKS)return null;var c=0;this.state.awaitingUpdate?c=this.$10:c=this.props.playbackPosition;var d=this.props.playbackDuration,e=b("VideoInstreamUtils").getEligibleTimeSegments(this.props.insertedAdBreaks,d,!this.props.isAdBreakInsertionWithoutGapRule);this.state.nubEngaged?this.$10=this.state.timecodeTimestamp:this.$10=c;var f=[];e.forEach(function(c,e){var g=(c.end-c.start)/d*100,h=a.$10>=c.start&&a.$10<=c.end;c={left:"calc("+c.start/d*100+"% - 2px)",width:g+"%"};f.push(b("React").jsx("span",{className:"_1p4t"+(h?" _1p4u":""),style:c},"time_segment"+e))});return b("React").jsx("div",{className:"_1p50",children:f})};d.getPollTimeSegments=function(){__p&&__p();var a=this,c;if(!this.props.playbackDuration)return null;var d;if(!this.props.showPollCard)return null;this.state.awaitingUpdate?d=this.$10:d=this.props.playbackPosition;var e=this.props.playbackDuration;c=(c=this.props.pollTimestamps)!=null?c:[];this.state.nubEngaged?this.$10=this.state.timecodeTimestamp:this.$10=d;var f=[];c.forEach(function(c,d){var h={left:"calc("+c/e*100+"%)"},i=a.$10>=c;f.push(b("React").jsx(b("ClickableArea.react"),{onClick:function(d){d.stopPropagation(),d.persist(),a.props.onScrubEnd(c),b("Arbiter").inform("PollIconClicked")},children:b("React").jsx("span",{className:"_80r-",style:h,children:b("React").jsx(b("Image.react"),{className:"_80rd",src:i?g("936893"):g("936896")})},"poll_segment"+d)},d));f.push(b("React").jsx("span",{className:"_80re",style:h},"time_segment"+d))});return b("React").jsx("div",{className:"_80rf",children:f})};d.onMouseEnter=function(a){if(this.props.alwaysShowThumbnail)return;this.$12();this.setState({mouseOver:!0})};d.onMouseLeave=function(a){var c=this;if(this.props.alwaysShowThumbnail)return;b("ReactDOM").findDOMNode(this.refs.bar).blur();b("ReactDOM").unstable_batchedUpdates(function(){c.setState({mouseOver:!1}),c.state.nubEngaged||c.setState({scrubberPreviewSpriteIndex:0,scrubberPreviewBackgroundPosition:{x:0,y:0}})});this.$9=null;this.$8=null};d.onMouseEnterOnThumbnailOrTimecode=function(a){if(this.state.nubEngaged||this.props.alwaysShowThumbnail)return;this.props.hasScrubberPreview?a=this.refs.previewThumbnailContainer:a=this.refs.timecode;a=b("ReactDOM").findDOMNode(a);a.style.visibility="hidden"};d.onMouseLeaveOnThumbnailOrTimecode=function(a){if(this.state.nubEngaged||this.props.alwaysShowThumbnail)return;this.props.hasScrubberPreview?a=this.refs.previewThumbnailContainer:a=this.refs.timecode;a=b("ReactDOM").findDOMNode(a);a.style.visibility="visible"};d.onKeyDown=function(a){__p&&__p();var c=this.props.playbackDuration,d=this.props.playbackPosition;if(!c||!d)return;d=d;if(a.keyCode===b("Keys").RIGHT){a.preventDefault();a.stopPropagation();if(this.props.isLiveVideo&&this.props.onLiveRewindSeekForward){this.props.onLiveRewindSeekForward();return}d+=5;d>=c&&(d=c-.01)}else if(a.keyCode===b("Keys").LEFT){a.preventDefault();a.stopPropagation();if(this.props.isLiveVideo&&this.props.onLiveRewindSeekBack){this.props.onLiveRewindSeekBack();return}d-=5;d<0&&(d=0)}else if(a.keyCode===b("Keys").HOME){a.preventDefault();a.stopPropagation();if(this.props.isLiveVideo&&this.props.onLiveRewindToBeginning){this.props.onLiveRewindToBeginning();return}d=0}else if(a.keyCode===b("Keys").END){a.preventDefault();a.stopPropagation();if(this.props.isLiveVideo&&this.props.onLiveRewindToLive){this.props.onLiveRewindToLive();return}d=c-.01}else return;this.props.onScrubEnd&&this.props.onScrubEnd(d)};d.canShowHeatmap=function(){return this.props.interestLevels!=null&&this.props.isPlaying!=null&&this.props.controlsHidden!=null&&this.props.drawer!=null};d.render=function(){__p&&__p();var a=b("joinClasses")(this.props.className,"_2yu5"+(this.state.nubEngaged?" _2yu6":"")),c=(this.props.hasScrubberPreview?"_3iit":"")+(this.props.hasScrubberPreview?"":" _3iiu"),d={width:this.getPlayedRatio(this.props.playbackDuration,this.props.playbackPosition)*100+"%"},e={width:this.getBufferedRatio()*100+"%"},f=this.props.videoClipInfo,g="0%";if(f){var h=this.getRangeLimitedRatio(f.start_time_in_ms/b("DateConsts").MS_PER_SEC/this.props.playbackDuration);g=h*100+"%";this.state.shouldIgnoreClipStartTS||(d={width:this.getRangeLimitedRatio(this.getPlayedRatio(this.props.playbackDuration,this.props.playbackPosition)-h)*100+"%",marginLeft:g},e={width:this.getRangeLimitedRatio(this.getBufferedRatio()-h)*100+"%",marginLeft:g})}h={left:this.state.timecodeRatio*100+"%",display:this.state.hoverNub?"none":"block"};var j={},k={},l=null,m=null,n=null;if(this.state.mouseOver||this.state.nubEngaged||this.props.alwaysShowThumbnail){n=b("React").jsx(b("VideoPlaybackTimer.react"),{className:c,isInScrubberPreview:!0,onMouseEnter:this.onMouseEnterOnThumbnailOrTimecode.bind(this),onMouseLeave:this.onMouseLeaveOnThumbnailOrTimecode.bind(this),playbackPosTimestamp:0,ref:"timecode",remainingTimestamp:this.state.timecodeTimestamp,style:h});if(this.props.hasScrubberPreview&&this.state.previewThumbnailInformation){c=this.state.previewThumbnailInformation.previewScrubberWidth;h=this.state.previewThumbnailInformation.previewScrubberHeight;var o=100,p=100;this.getNumberOfSprites()!==this.state.scrubberPreviewSpriteIndex?(o*=this.state.previewThumbnailInformation.imagesPerRow,p*=this.state.previewThumbnailInformation.imagesPerColumn):this.state.lastSpriteDimension.numRow&&(o*=this.state.lastSpriteDimension.numRow,p*=this.state.lastSpriteDimension.numColumn);var q=this.state.previewThumbnailInformation.stereoMode;q==="left-right"?(c/=2,o*=2):q==="top-bottom"&&(h/=2,p*=2);q=1;this.props.isFullscreen?q=1.5:this.props.isInTahoe&&(q=1.2);if(this.state.previewThumbnailInformation.useScrubberVideo&&this.state.previewThumbnailInformation.scrubberVideoURI!==null)j={width:c*q+"px",height:h*q+"px"},m=b("React").jsx("video",{muted:"true",preload:"auto",ref:"previewThumbnailVideo",src:this.state.previewThumbnailInformation.scrubberVideoURI,style:j});else if(this.$6){var r="";if(this.state.scrubberPreviewSpriteIndex){var s=this.$6.get(this.state.scrubberPreviewSpriteIndex);s!=null&&s!==""&&(r="url("+s+")")}var t;o>100?t=o+"% "+p+"%":r="";j={width:c*q+"px",height:h*q+"px",backgroundImage:r,backgroundPosition:"-"+this.state.scrubberPreviewBackgroundPosition.x*q+"px -"+this.state.scrubberPreviewBackgroundPosition.y*q+"px",backgroundSize:t};m=b("React").jsx("div",{className:"_3iiw",ref:"previewThumbnail",style:j})}k={left:this.state.previewRatio*100+"%",display:this.props.alwaysShowThumbnail?"block":void 0};l=b("React").jsxs("div",{onMouseEnter:this.onMouseEnterOnThumbnailOrTimecode.bind(this),onMouseLeave:this.onMouseLeaveOnThumbnailOrTimecode.bind(this),className:"_3iiv",ref:"previewThumbnailContainer",style:k,children:[m,n]})}}s=null;this.props.pointsOfInterest.length>0&&(s=b("React").jsx(b("VideoScrubberPointOfInterestBar.react"),{tabIndex:this.props.tabIndex,playbackDuration:this.props.playbackDuration,onPointOfInterestSelect:this.props.onPointOfInterestSelect,currentPointOfInterest:this.props.currentPointOfInterest,pointsOfInterest:this.props.pointsOfInterest,showPointOfInterestTimestamps:this.props.showPointOfInterestTimestamps}));o=null;p=this.getAdBreakIndicators();c=null;if(this.canShowHeatmap()){h=this.props.hasScrubberPreview?l:n;r=null;h!=null&&(r=this.refs[h.ref]);c=b("React").jsxs("div",{className:"_27ew",children:[b("React").jsx("div",{className:"_5h19",style:d,children:this.renderNub()}),b("React").jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("LiveHeatmap.react").__setRef("VideoScrubber.react"),bootloadPlaceholder:b("React").jsx("div",{}),controlsHidden:this.props.controlsHidden,drawer:this.props.drawer,interestLevels:this.props.interestLevels,isPlaying:this.props.isPlaying,playedRatio:this.getPlayedRatio(this.props.playbackDuration,this.props.playbackPosition),bufferedRatio:this.getBufferedRatio(),nubEngaged:this.state.nubEngaged,scrubberPreviewElement:r,ref:"bar",tabIndex:this.props.tabIndex,"aria-label":i._("Change Position")}),h,p]})}q=this.props.playbackDuration>500?10:1;j=Math.round(this.getPlayedRatio(this.props.playbackDuration,this.props.playbackPosition)*100*q)/q;k=j+"%";m=this.props.isFullscreen||this.props.isInTahoe;r=b("React").jsx("div",{className:a,onKeyDown:this.onKeyDown.bind(this),onMouseDown:this.onDragNubBeginClick.bind(this),onMouseEnter:this.onMouseEnter.bind(this),onMouseLeave:this.onMouseLeave.bind(this),onTouchStart:this.onDragNubBeginTouch.bind(this),children:c?c:b("React").jsxs("div",{tabIndex:this.props.tabIndex,role:"slider","aria-orientation":"horizontal","aria-valuemin":"0","aria-valuemax":this.props.playbackDuration,"aria-valuenow":this.props.playbackPosition,"aria-valuetext":k,"aria-label":i._("Change position"),className:"_2yu7",ref:"bar",children:[b("React").jsx("div",{className:"_2yu8",style:e}),b("React").jsx("div",{style:d,className:(this.props.isLiveVideo?"":"_2yu9")+(this.props.isLiveVideo&&!this.props.isLiveRewound?" _1p51":"")+(this.props.isLiveRewound?" _1p52":""),children:this.renderNub()}),f?b("React").jsx("div",{className:"_355j",style:{width:g},children:b("React").jsx(b("ProfileTile.react"),{id:f.sharer_id,size:m?32:24,imageProps:{className:"_355k"},tileProps:{className:"_355n",style:{marginTop:m?-16:-10}}})}):null,this.props.hasScrubberPreview?l:n,p,this.getInsertedAdBreaks(),this.getEligibleAdBreaksTimeSegments(),this.getPollTimeSegments()]})});return b("React").jsxs("div",{children:[o,r,s]})};return c}(b("React").Component);a.defaultProps={alwaysShowThumbnail:!1,annotatedMomentsOfInterest:{},hasScrubberPreview:!1,isAdBreakInsertionWithoutGapRule:!1,isFullscreen:!1,isInTahoe:!1,isLiveRewound:!1,isLiveVideo:!1,isPlaying:!1,pointsOfInterest:[],onAnnotatedMomentOfInterestSelect:c=b("emptyFunction"),onPointOfInterestSelect:c,onScrubBegin:c,onScrubEnd:c,showPointOfInterestTimestamps:!1,showPollCard:!1,showVideoSliderWarningTooltip:!1};a.propTypes={alwaysShowThumbnail:(d=b("prop-types")).bool,annotatedMomentsOfInterest:d.object,bufferedPosition:d.number.isRequired,hasScrubberPreview:d.bool,isFullscreen:d.bool,onAnnotatedMomentOfInterestSelect:d.func,onScrubBegin:d.func.isRequired,onPointOfInterestSelect:d.func,onScrubEnd:d.func.isRequired,playbackDuration:d.number.isRequired,playbackPosition:d.number.isRequired,pointsOfInterest:d.array,previewThumbnailInformation:d.object,scrubberPreviewSprites:d.object,showPointOfInterestTimestamps:d.bool,tabIndex:d.string.isRequired};e.exports=a}),null);
__d("VideoSidepaneToggleControl.react",["ix","cx","fbt","AbstractButton.react","Image.react","React","TooltipData","fbglyph","prop-types"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.onButtonClick=function(){c.props.onSidePaneToggle()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props.isSidePaneOpen?i._("Click to hide details"):i._("Click to show details"),c=this.props.isSidePaneOpen?g("114795"):g("114783");return b("React").jsx(b("AbstractButton.react"),babelHelpers["extends"]({className:"_zbd"},b("TooltipData").propsFor(a,"above"),{image:b("React").jsx(b("Image.react"),{className:"_23j0",src:c}),label:this.props.label,labelIsHidden:this.props.labelIsHidden,onClick:this.onButtonClick,ref:"button",tabIndex:this.props.tabIndex,type:"button"}))};return c}(b("React").PureComponent);a.defaultProps={label:i._("Toggle Details"),labelIsHidden:!0};a.propTypes={isSidePaneOpen:(c=b("prop-types")).bool,label:c.string,onSidePaneToggle:c.func,tabIndex:c.string};e.exports=a}),null);
__d("XUIAbstractGlyphButton.react",["cx","AbstractButton.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsx(b("AbstractButton.react"),babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,"_5upp"),label:this.props.label}))};return c}(b("React").Component);a.propTypes=b("AbstractButton.react").propTypes;e.exports=a}),null);
__d("XUICloseButton.react",["cx","fbt","React","XUIAbstractGlyphButton.react","joinClasses","prop-types"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.size,c=this.props.shade;a="_50zy"+(a==="small"?" _50zz":"")+(a==="medium"?" _50-0":"")+(a==="large"?" _50-1":"")+(c==="light"?" _50z_":"")+(c==="dark"?" _50z-":"");c=this.props.label;var d=this.props.title;!this.props.title&&!this.props.tooltip&&(d=c);return b("React").jsx(b("XUIAbstractGlyphButton.react"),babelHelpers["extends"]({},this.props,{label:c,title:d,type:this.props.href?void 0:this.props.type,"data-hover":this.props.tooltip&&"tooltip","data-tooltip-alignh":this.props.tooltip&&"center","data-tooltip-content":this.props.tooltip,className:b("joinClasses")(this.props.className,a)}))};return c}(b("React").Component);a.propTypes={shade:(c=b("prop-types")).oneOf(["light","dark"]),size:c.oneOf(["small","medium","large"]),title:c.string,tooltip:c.string,type:c.oneOf(["submit","button","reset"])};a.defaultProps={label:h._("Remove"),size:"medium",shade:"dark",type:"button"};e.exports=a}),null);
__d("SpatialAudioFeedNUX.react",["ix","cx","fbt","AsyncRequest","Image.react","React","XBasicFBNuxDismissController","XUIAmbientNUX.react","XUIText.react","fbglyph"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=i._("Experience more with 360 audio"),k=i._("Hear sound from all directions when you wear headphones"),l=4576;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$1=function(){d.setState({showNux:!1});var a=b("XBasicFBNuxDismissController").getURIBuilder().setInt("nux_id",l).getURI();new(b("AsyncRequest"))().setURI(a).send()};d.state={showNux:!0};return d}var d=c.prototype;d.render=function(){var a;return(a=b("React")).jsx(b("XUIAmbientNUX.react"),{contextRef:this.props.contextRef,shown:this.state.showNux,position:"below",alignment:"right",onCloseButtonClick:this.$1,width:"auto",children:a.jsxs("div",{className:"_4r0v",children:[a.jsx("div",{className:"_4r0w",children:a.jsx("div",{className:"_4r0x",children:a.jsx(b("Image.react"),{src:g("114375")})})}),a.jsxs("div",{className:"_4r0y",children:[a.jsx(b("XUIText.react"),{size:"header4",className:"_4r0z",children:j}),a.jsx(b("XUIText.react"),{size:"meta1",className:"_4r0-",children:k})]})]})})};return c}(b("React").Component);e.exports=a}),null);
__d("VideoVolumeSlider.react",["cx","EventListener","React","ReactDOM","getElementPosition","prop-types","shallowCompare"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this,b)||this;c.state={awaitingUpdate:!1,engaged:!1,volume:b.volume};return c}var d=c.prototype;d.shouldComponentUpdate=function(a,c){return b("shallowCompare")(this,a,c)};d.UNSAFE_componentWillReceiveProps=function(a){this.setState({awaitingUpdate:!1})};d.componentDidUpdate=function(a,c){if(!this.state.engaged&&c.engaged)this.$2&&this.$2.remove(),this.$1&&this.$1.remove(),this.$3&&this.$3.remove(),this.$4&&this.$4.remove();else if(this.state.engaged&&!c.engaged){this.$1=(a=b("EventListener")).listen(document,"mousemove",this.onMouseMove.bind(this));this.$2=a.listen(document,"mouseup",this.onMouseUpImpl.bind(this));this.$3=a.listen(document,"touchmove",this.onTouchMove.bind(this));this.$4=a.listen(document,"touchend",this.onMouseUpImpl.bind(this))}};d.onMouseDownImpl=function(a,b,c){this.props.onVolumeChangeBegin&&this.props.onVolumeChangeBegin(this.state.volume),this.props.isHorizontal?this.setState({engaged:!0,volume:this.getClampedClickPositionVolume(b)}):this.setState({engaged:!0,volume:this.getClampedClickPositionVolume(c)}),a.preventDefault(),a.stopPropagation()};d.onMouseDown=function(a){if(a.button!==0)return;this.onMouseDownImpl(a,a.clientX,a.clientY)};d.onTouchDown=function(a){this.onMouseDownImpl(a,a.touches[0].clientX,a.touches[0].clientY)};d.getClampedClickPositionVolume=function(a){var c=b("getElementPosition")(b("ReactDOM").findDOMNode(this.refs.slider)),d=b("getElementPosition")(b("ReactDOM").findDOMNode(this.refs.nub)).height;if(this.props.isHorizontal){var e=a+d/2-c.x;return Math.max(0,Math.min(1,e/c.width))}else{e=c.y-a+c.height+d/2;return Math.max(0,Math.min(1,e/c.height))}};d.onMouseUpImpl=function(a){this.props.onVolumeChangeEnd&&this.props.onVolumeChangeEnd(this.state.volume),this.setState({engaged:!1,awaitingUpdate:!0}),a.preventDefault(),a.stopPropagation()};d.onMouseMoveImpl=function(a,b,c){this.props.isHorizontal?this.setState({volume:this.getClampedClickPositionVolume(b)}):this.setState({volume:this.getClampedClickPositionVolume(c)}),this.props.onVolumeChange&&this.props.onVolumeChange(this.state.volume),a.preventDefault(),a.stopPropagation()};d.onMouseMove=function(a){this.onMouseMoveImpl(a,a.clientX,a.clientY)};d.onTouchMove=function(a){this.onMouseMoveImpl(a,a.touches[0].clientX,a.touches[0].clientY)};d.getVolume=function(){return this.state.engaged||this.state.awaitingUpdate?this.state.volume:this.props.volume};d.render=function(){var a=this.props.isHorizontal||!1,c=a?{width:Math.round(this.getVolume()*100)+"%"}:{height:Math.round(this.getVolume()*100)+"%"};a="_3pao"+(a?" _4sx9":"")+(this.state.engaged?" _2yu6":"");return b("React").jsxs("div",{className:a,onMouseDown:this.onMouseDown.bind(this),onTouchStart:this.onTouchDown.bind(this),children:[b("React").jsx("div",{className:"_4sxa",children:b("React").jsx("div",{className:"_3paq",ref:"slider",children:b("React").jsx("div",{className:"_3par",style:c,children:b("React").jsx("div",{className:"_3pas _4sxb",ref:"nub"})})})}),b("React").jsx("div",{className:"_3pat"})]})};return c}(b("React").Component);a.propTypes={volume:(c=b("prop-types")).number,onVolumeChangeBegin:c.func,onVolumeChangeEnd:c.func,onVolumeChange:c.func};a.defaultProps={volume:0,onVolumeChange:function(a){},onVolumeChangeBegin:function(a){},onVolumeChangeEnd:function(a){}};e.exports=a}),null);
__d("VideoVolumeControl.react",["ix","cx","fbt","invariant","AbstractButton.react","Image.react","Keys","React","ReactDOM","SpatialAudioFeedNUX.react","TooltipData","VideoPlayerVolumeSettings","VideoVolumeSlider.react","asset","prop-types","shallowCompare"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;b.state={nubEngaged:!1,focused:!1,lastVolumeBeforeMute:1};return b}var d=c.prototype;d.shouldComponentUpdate=function(a,c){return b("shallowCompare")(this,a,c)};d.onButtonClick=function(){this.checkLastVolumeBeforeMuteInvariant();if(this.props.volume===0)return this.onSliderVolumeChange(this.state.lastVolumeBeforeMute);this.props.onToggleMuted&&this.props.onToggleMuted()};d.onButtonFocus=function(){this.setState({focused:!0})};d.onButtonBlur=function(){this.setState({focused:!1})};d.onKeyDown=function(a){var c=this.props.volume;if(a.keyCode===b("Keys").UP)a.preventDefault(),a.stopPropagation(),c+=.05,c>1&&(c=1);else if(a.keyCode===b("Keys").DOWN)a.preventDefault(),a.stopPropagation(),c-=.05,c<0&&(c=0);else return;this.onSliderVolumeChangeEnd(c)};d.onMouseOut=function(a){b("ReactDOM").findDOMNode(this.refs.button).blur()};d.getVolume=function(){return this.props.isMuted?0:this.props.volume};d.onSliderVolumeChangeBegin=function(){var a=this.props.volume;a>0&&(this.setState({nubEngaged:!0,lastVolumeBeforeMute:a}),b("VideoPlayerVolumeSettings").saveLastVolumeBeforeMute(a))};d.onSliderVolumeChangeEnd=function(a){a>0?(this.setState({lastVolumeBeforeMute:a}),b("VideoPlayerVolumeSettings").saveLastVolumeBeforeMute(a),this.onSliderVolumeChange(a)):(this.props.onVolumeChange(this.state.lastVolumeBeforeMute),this.props.isMuted||this.props.onToggleMuted&&this.props.onToggleMuted()),this.setState({nubEngaged:!1})};d.onSliderVolumeChange=function(a){(a>0&&this.props.isMuted||a===0&&!this.props.isMuted)&&(this.props.onToggleMuted&&this.props.onToggleMuted()),this.props.onVolumeChange&&this.props.onVolumeChange(a)};d.checkLastVolumeBeforeMuteInvariant=function(){this.state.lastVolumeBeforeMute>0&&this.state.lastVolumeBeforeMute<=1||j(0,2385)};d.render=function(){__p&&__p();var a=this,c=Math.round(this.getVolume()*100),d=null,e="";if(this.props.isAudioBlocked)e=i._("Audio unavailable"),d=b("React").jsx("div",{children:b("React").jsx(b("Image.react"),{className:"_rwt",src:this.props.useDarkTheme?g("797748"):g("660433")})});else if(c==0)d=b("React").jsx(b("Image.react"),{className:"_rwt",src:this.props.useDarkTheme?g("462991"):g("462993")});else{var f=null;c<=33?f=this.props.useDarkTheme?g("462983"):g("462984"):c<=66?f=this.props.useDarkTheme?g("462987"):g("462988"):f=this.props.useDarkTheme?g("462971"):g("443962");d=b("React").jsx("div",{className:"_1age",children:b("React").jsx("div",{className:"_1agf",children:b("React").jsx(b("Image.react"),{className:"_rwt",src:f})})})}c="_2swo"+(this.state.nubEngaged?" _2yu6":"")+(this.state.focused?" _2iw8":"");f="_zbd _1agg";var h=this.getVolume()?i._("Mute"):i._("Unmute"),j=this.props.isAudioBlocked?null:b("React").jsx(b("VideoVolumeSlider.react"),{onVolumeChangeBegin:this.onSliderVolumeChangeBegin.bind(this),onVolumeChangeEnd:this.onSliderVolumeChangeEnd.bind(this),onVolumeChange:this.onSliderVolumeChange.bind(this),isHorizontal:this.props.isHorizontal||!1,volume:this.getVolume()});e=b("React").jsx(b("AbstractButton.react"),babelHelpers["extends"]({},b("TooltipData").propsFor(e,"above"),{className:f,"data-testid":"mute_unmute_control",image:d,label:h,labelIsHidden:!0,onBlur:this.onButtonBlur.bind(this),onClick:this.onButtonClick.bind(this),onFocus:this.onButtonFocus.bind(this),onKeyDown:this.onKeyDown.bind(this),onMouseOut:this.onMouseOut.bind(this),ref:"button",tabIndex:this.props.tabIndex,type:"button"}));f=this.props.showSpatialAudioNUX?b("React").jsx(b("SpatialAudioFeedNUX.react"),{contextRef:function(){return a.refs.button}}):null;return this.props.isHorizontal?b("React").jsxs("div",{className:c,children:[e,j,f]}):b("React").jsxs("div",{className:c,children:[j,e,f]})};return c}(b("React").Component);a.propTypes={isAudioBlocked:(c=b("prop-types")).bool,isMuted:c.bool,onVolumeChange:c.func,onToggleMuted:c.func,tabIndex:c.string,volume:c.number,useDarkTheme:c.bool};a.defaultProps={isAudioBlocked:!1,useDarkTheme:!1};e.exports=a}),null);
__d("VideoControls.react",["cx","fbt","ix","requireCond","AbstractButton.react","BootloadedComponent.react","FluxContainer","Image.react","JSResource","LiveVideoRewindTypedLogger","React","TooltipData","cr:1170620","VideoClipButton.react","VideoFBIconControl.react","VideoFullscreenControl.react","VideoPlaybackControl.react","VideoPlaybackRateControl.react","VideoPlaybackTimer.react","VideoPlayerExperiments","VideoPollCardDispatcher","VideoPollCardStore","VideoScrubber.react","VideoSidepaneToggleControl.react","VideoVolumeControl.react","asset","emptyFunction","immutable","joinClasses","prop-types","shallowCompare"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j=36;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={pollCardsActiveForVPC:{}},b)||babelHelpers.assertThisInitialized(c)}c.getStores=function(){return[b("VideoPollCardStore")]};c.calculateState=function(){var a=b("VideoPollCardStore").getState();a=a.pollCardsActiveForVPC;return{pollCardsActiveForVPC:a}};var d=c.prototype;d.UNSAFE_componentWillMount=function(){b("VideoPollCardDispatcher").explicitlyRegisterStores(c.getStores())};d.shouldComponentUpdate=function(a,c){return b("shallowCompare")(this,a,c)};d.componentDidUpdate=function(){var a;a=!this.props.finishedPlaying&&(this.props.vpcID!==void 0?this.state.pollCardsActiveForVPC[(a=this.props.vpcID)!=null?a:""]!==null?((a=this.state.pollCardsActiveForVPC[(a=this.props.vpcID)!=null?a:""])!=null?a:b("immutable").List()).size===0:!0:!1);if(a&&(this.props.pollTimestamps?this.props.pollTimestamps.length>0:null))this.props.drawer&&this.props.drawer.setHeight(55);else{a=this.props.isInWatchAndScroll?55:j;this.props.drawer&&this.props.drawer.setHeight(a)}};d.isHidden=function(){return this.props.hidden};d.isTransparent=function(){return this.props.transparent};d.render=function(){__p&&__p();var a=b("VideoPlayerExperiments").inlineSoundVisible,c="_1c7d"+(this.isHidden()?" _1c7e":"")+(this.isTransparent()&&!a?" _2oy-":""),d="_2w_u"+(this.props.showSidePaneToggle?" _vr5":"")+(this.props.useDarkTheme?" _vr6":"")+"",e="_1c7f _1c7g"+(this.isTransparent()&&a?" _2oy-":""),f="_1c7f _2pvx"+(this.isTransparent()&&a?" _2oy-":""),g="_1c7f _1c7h"+(this.isTransparent()&&a?" _2oy-":""),j="_1c7f _w7o"+(this.isTransparent()&&(!this.props.isInline||this.props.isFullscreen||!this.props.isPlaying)?" _2oy-":""),k="_2w_w",l=!1;this.props.isLive&&this.props.isInTahoe&&(l=!0);l="_1otk _3t1r _4ubd"+(l?" _w7y":"");var m="_3t1r _4ubd _3t1s"+(this.props.isCommentAttachment?"":" hidden_elem"),n=null;if(!(this.props.isLive||this.props.isFBWasLive)&&!this.props.hideRemainingTime&&!this.props.isInWatchAndScroll){var o=this.props.playbackPosition-this.props.playbackDuration;n=b("React").jsx(b("VideoPlaybackTimer.react"),{className:"_5qsr"+(this.props.displayMilliseconds?" _w7-":""),isEmbedded:this.props.isEmbedded,playbackPosTimestamp:this.props.playbackPosition,playbackDurationTimestamp:this.props.playbackDuration,remainingTimestamp:o,displayElapsedTime:this.props.displayElapsedTime,displayMilliseconds:this.props.displayMilliseconds,displayBothTimes:!1})}o=null;var p=null,q=null,r=null,s=null;!this.props.hideSettings&&!this.props.isInWatchAndScroll&&(r=b("cr:1170620")&&b("React").jsx(b("cr:1170620"),{disabled:this.props.isCasting,onActionsClicked:this.props.onActionsClick,permalinkURL:this.props.permalinkURL,showCopyLink:this.props.showInlineCopyLinkOption,tabIndex:"0"}));var t;this.props.isInTahoe&&this.props.isLive&&!this.props.isFullscreen&&(t=b("React").jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("VideoQuietModeControl.react").__setRef("VideoControls.react"),bootloadPlaceholder:b("React").jsx("span",{}),videoID:this.props.videoID}));if((!this.props.isLive||this.props.hasHD)&&(!this.props.hideSettings&&!this.props.isInWatchAndScroll&&b("VideoPlayerExperiments").redesign)){var u;q=b("React").jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("VideoSettingsControl.react").__setRef("VideoControls.react"),bootloadPlaceholder:b("React").jsx("span",{}),disabled:this.props.isCasting,hasHD:this.props.hasHD,hasCaptions:this.props.hasCaptions,isHD:this.props.isHD,isInline:this.props.isInline,isLive:this.props.isLive,isSphericalVideo:this.props.isSphericalVideo,areCaptionsActive:this.props.areCaptionsActive,areCaptionsAutogenerated:this.props.areCaptionsAutogenerated,onSettingsClick:this.props.onSettingsClick,onToggleHD:this.props.onToggleHD,onToggleCaptions:this.props.onToggleCaptions,tabIndex:"0",availableQualities:this.props.availableQualities,selectedQuality:(u=this.props.selectedQuality)!=null?u:null,preferredQuality:(u=this.props.preferredQuality)!=null?u:null,canAutoSelectVideoQuality:this.props.canAutoSelectVideoQuality,onSelectQuality:this.props.onSelectQuality,showQualitySelector:this.props.showQualitySelector,qualitySelectorMinStreams:this.props.qualitySelectorMinStreams,streamingFormat:this.props.streamingFormat,videoID:this.props.videoID})}this.props.isLive&&(b("VideoPlayerExperiments").hlsButton&&(s=b("React").jsx(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").jsx("span",{}),bootloadLoader:b("JSResource")("VideoToHLSControl.react").__setRef("VideoControls.react"),areHLSActive:this.props.areHLSActive,onToggleHLS:this.props.onToggleHLS,tabIndex:"0"})));u=this.props.gamesVideoCreatorClipping&&(this.props.isInTahoe||this.props.isInline||this.props.gamesVideoClipButtonEnabled)&&this.props.gamesDefaultClipLengthInSec!=null&&this.props.gamesDefaultClipLengthInSec>0?b("React").jsx(b("VideoClipButton.react"),{onClipVideo:this.props.onClipVideo,defaultLengthInSec:this.props.gamesDefaultClipLengthInSec}):null;var v=null;if(this.props.allowFullscreen)if(this.props.doesFullscreenEnterTahoe&&(this.props.isInline||this.props.isInWatchAndScroll)){var w=b("React").jsx(b("Image.react"),{className:"_rwt",src:i("407577")}),x=h._("Click to enlarge");v=b("React").jsx(b("AbstractButton.react"),babelHelpers["extends"]({},b("TooltipData").propsFor(x,"above"),{className:"_zbd _400z _1vek",image:w,label:x,labelIsHidden:!0,onClick:this.props.onEnterTahoe,tabIndex:"0"}))}else{w=this.props.isFullscreen?h._("Click to exit fullscreen"):h._("Click to enter fullscreen");v=b("React").jsx(b("VideoFullscreenControl.react"),babelHelpers["extends"]({},b("TooltipData").propsFor(w,"above"),{disabled:this.props.isCasting&&!this.props.isFullscreen,isFullscreen:this.props.isFullscreen,onToggleFullscreen:this.props.onToggleFullscreen,tabIndex:"0"}))}x=null;this.props.hasWatchAndScroll&&!this.props.isFullscreen&&!this.props.isInWatchAndScroll&&(x=b("React").jsx(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").jsx("span",{}),bootloadLoader:b("JSResource")("VideoWatchAndScrollControl.react").__setRef("VideoControls.react"),disabled:this.props.isCasting,onEnterWatchAndScroll:this.props.onEnterWatchAndScroll,isSlidingWNSEligible:this.props.isSlidingWNSEligible,onWNSNUXClose:this.props.onWNSNUXClose,showWNSNUX:this.props.showWNSNUX}));w=null;this.props.allowCasting&&this.props.hasFoundReceiver&&(w=b("React").jsx(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").jsx("span",{}),bootloadLoader:b("JSResource")("VideoCastingControl.react").__setRef("VideoControls.react"),hasFoundReceiver:this.props.hasFoundReceiver,isCasting:this.props.isCasting,isCastingSupported:this.props.isCastingSupported,onStartCast:this.props.onStartCast,onStopCast:this.props.onStopCast}));var y=null;if(this.props.isEmbeddedPlayerRedesignEnabled)y=this.props.permalinkURL&&this.props.showPermalinkButton?b("React").jsx(b("VideoFBIconControl.react"),{permalinkURL:this.props.permalinkURL,playbackPosTimestamp:this.props.playbackPosition}):null;else{var z=null,A=this.props.isWatchIconEligible?i("909284"):i("804741");if(this.props.permalinkURL&&this.props.showPermalinkButton){z=b("React").jsx(b("Image.react"),{className:"_rwt",src:A});A=h._("Open in a new tab");y=b("React").jsx(b("AbstractButton.react"),babelHelpers["extends"]({},b("TooltipData").propsFor(A,"above"),{className:"_zbd",href:this.props.permalinkURL,image:z,label:A,labelIsHidden:!0,ref:"button",tabIndex:"0",target:"_blank",type:"button"}))}}z=null;A=null;var B=null,C=null,D=null;if((this.props.isLive||this.props.isFBWasLive)&&this.props.showPlayButtonForLive&&!this.props.isLiveRewindEnabled)A=b("React").jsx(b("VideoPlaybackControl.react"),{finishedPlaying:this.props.finishedPlaying,isPlaying:this.props.isPlaying,onPause:this.props.onPause,onPlay:this.props.onPlay,useDarkTheme:this.props.useDarkTheme,tabIndex:"0"});else if(!(this.props.isLive||this.props.isFBWasLive)&&!this.props.hidePlaybackControl){A=b("React").jsx(b("VideoPlaybackControl.react"),{finishedPlaying:this.props.finishedPlaying,isPlaying:this.props.isPlaying,onPause:this.props.onPause,onPlay:this.props.onPlay,useDarkTheme:this.props.useDarkTheme,tabIndex:"0"});if(this.props.showPlaybackRateControl&&this.props.onSetVideoPlaybackRate){var E=h._("Playback rate");B=b("React").jsx(b("VideoPlaybackRateControl.react"),babelHelpers["extends"]({},b("TooltipData").propsFor(E,"above"),{isEmbedded:this.props.isEmbedded,tabIndex:"0",onSelectPlaybackRate:this.props.onSetVideoPlaybackRate}))}if(!this.props.hidePlaybackScrubber){E=!this.props.finishedPlaying&&(this.props.vpcID!==void 0?this.state.pollCardsActiveForVPC[(E=this.props.vpcID)!=null?E:""]!==null?((E=this.state.pollCardsActiveForVPC[(E=this.props.vpcID)!=null?E:""])!=null?E:b("immutable").List()).size===0:!0:!1);z=b("React").jsx(b("VideoScrubber.react"),{adBreaks:this.props.adBreaks,adBreaksDisableReasons:this.props.adBreaksDisableReasons,annotatedMomentsOfInterest:this.props.annotatedMomentsOfInterest,bufferedPosition:this.props.bufferedPosition,controlsHidden:this.props.hidden,hasScrubberPreview:this.props.hasScrubberPreview,interestLevels:this.props.interestLevels,drawer:this.props.drawer,insertedAdBreaks:this.props.insertedAdBreaks,isAdBreakDisabled:this.props.isAdBreakDisabled,isAdBreakInsertionWithoutGapRule:this.props.isAdBreakInsertionWithoutGapRule,isFullscreen:this.props.isFullscreen,isPlaying:this.props.isPlaying,onScrubBegin:this.props.onScrubBegin,onScrubEnd:this.props.onScrubEnd,playbackDuration:this.props.playbackDuration,playbackPosition:this.props.playbackPosition,pollTimestamps:this.props.pollTimestamps,showPollCard:E,onAnnotatedMomentOfInterestSelect:this.props.onAnnotatedMomentOfInterestSelect,previewThumbnailInformation:this.props.previewThumbnailInformation,scrubberPreviewSprites:this.props.scrubberPreviewSprites,onPointOfInterestSelect:this.props.onPointOfInterestSelect,currentPointOfInterest:this.props.currentPointOfInterest,pointsOfInterest:this.props.pointsOfInterest,showPointOfInterestTimestamps:this.props.showPointOfInterestTimestamps,showVideoSliderWarningTooltip:(E=this.props.showVideoSliderWarningTooltip)!=null?E:!1,tabIndex:"0",isInTahoe:this.props.isInTahoe,videoClipInfo:this.props.videoClipInfo})}}E=null;this.props.showSidePaneToggle&&(E=b("React").jsx(b("VideoSidepaneToggleControl.react"),{isSidePaneOpen:this.props.isSidePaneOpen,onSidePaneToggle:this.props.onSidePaneToggle,tabIndex:"0"}));var F=null;this.props.hideGradient||(F=b("React").jsx("div",{className:"_w80"+(this.isTransparent()?" _2oy-":"")+(this.props.useLargerGradient?" _8y-6":"")}));var G=b("React").jsx(b("VideoVolumeControl.react"),{isAudioBlocked:this.props.isAudioBlocked,isMuted:this.props.isMuted,onToggleMuted:this.props.onToggleMuted,onVolumeChange:this.props.onVolumeChange,volume:this.props.volume,tabIndex:"0",showSpatialAudioNUX:this.props.showSpatialAudioNUX,useDarkTheme:this.props.useDarkTheme}),H,I,J,K,L,M,N,O,P=this.props,Q=P.onLiveRewindToBeginning,R=P.onLiveRewindSeekBack,S=P.onLiveRewindSeekForward;P=P.onLiveRewindToLive;if(this.props.isLiveRewindEnabled&&!this.props.isEmbedded){if(this.props.liveRelativePlaybackPosition!=null){var T=this.props.liveRelativePlaybackPosition>this.props.playbackDuration?this.props.playbackDuration:this.props.liveRelativePlaybackPosition;N=this.props.isInWatchAndScroll?null:b("React").jsx(b("VideoPlaybackTimer.react"),{className:"_3ek9 _5qsr"+(this.props.displayMilliseconds?" _w7-":""),displayElapsedTime:!0,displayMilliseconds:this.props.displayMilliseconds,isEmbedded:this.props.isEmbedded,isLiveVideo:!0,playbackPosTimestamp:T,playbackDurationTimestamp:this.props.isFBWasLive?this.props.playbackDuration:void 0,displayBothTimes:this.props.isFBWasLive,remainingTimestamp:-1*(this.props.playbackDuration-T)});M=b("React").jsx(b("VideoScrubber.react"),{adBreaks:this.props.adBreaks,adBreaksDisableReasons:this.props.adBreaksDisableReasons,bufferedPosition:this.props.bufferedPosition,className:"_3ek9",controlsHidden:this.props.hidden,currentPointOfInterest:this.props.currentPointOfInterest,drawer:this.props.drawer,hasScrubberPreview:this.props.hasScrubberPreview,interestLevels:this.props.interestLevels,insertedAdBreaks:this.props.insertedAdBreaks,isAdBreakDisabled:this.props.isAdBreakDisabled,isAdBreakInsertionWithoutGapRule:this.props.isAdBreakInsertionWithoutGapRule,isFullscreen:this.props.isFullscreen,isInTahoe:this.props.isInTahoe,isLiveRewound:this.props.isLiveRewound,isLiveVideo:!0,isPlaying:this.props.isPlaying,playbackDuration:this.props.playbackDuration,playbackPosition:this.props.isLiveRewound?T:this.props.playbackDuration,pointsOfInterest:this.props.pointsOfInterest,previewThumbnailInformation:this.props.previewThumbnailInformation,scrubberPreviewSprites:this.props.scrubberPreviewSprites,showPointOfInterestTimestamps:this.props.showPointOfInterestTimestamps,tabIndex:"0",onLiveRewindToBeginning:this.props.onLiveRewindToBeginning,onLiveRewindSeekBack:this.props.onLiveRewindSeekBack,onLiveRewindSeekForward:this.props.onLiveRewindSeekForward,onLiveRewindToLive:this.props.onLiveRewindToLive,onPointOfInterestSelect:this.props.onPointOfInterestSelect,onScrubBegin:this.props.onScrubBegin,onScrubEnd:this.props.onScrubEnd});new(b("LiveVideoRewindTypedLogger"))().setEvent("render_rewind_controls").setVideoID(this.props.videoID).log()}H=Q&&!this.props.isInWatchAndScroll&&!this.props.isInline?b("React").jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("VideoLiveRewindControl.react").__setRef("VideoControls.react"),bootloadPlaceholder:b("React").jsx("span",{}),asset:i("465766"),tooltip:h._("Go to beginning"),onButtonClick:Q}):null;O=this.props.isFBWasLive&&P&&!this.props.isInWatchAndScroll&&!this.props.isInline?b("React").jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("VideoLiveRewindControl.react").__setRef("VideoControls.react"),bootloadPlaceholder:b("React").jsx("span",{}),asset:i("465765"),tooltip:h._("Go to end"),onButtonClick:P}):null;I=R&&!this.props.isInWatchAndScroll?b("React").jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("VideoLiveRewindControl.react").__setRef("VideoControls.react"),bootloadPlaceholder:b("React").jsx("span",{}),asset:i("465767"),tooltip:h._("Skip back"),onButtonClick:R}):null;T=this.props.isLiveRewound?h._("Skip ahead"):void 0;J=S&&!this.props.isInWatchAndScroll&&!this.props.isInline?b("React").jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("VideoLiveRewindControl.react").__setRef("VideoControls.react"),bootloadPlaceholder:b("React").jsx("span",{}),asset:i("465768"),disabled:!this.props.isLiveRewound,tooltip:T,onButtonClick:S}):null;Q=this.props.isLiveRewound?i("467224"):i("467223");R=this.props.isLiveRewound?h._("Live view"):void 0;K=P?b("React").jsx(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("VideoLiveRewindControl.react").__setRef("VideoControls.react"),bootloadPlaceholder:b("React").jsx("span",{}),asset:Q,tooltip:R,onButtonClick:P}):null;L=this.props.isInWatchAndScroll?null:b("React").jsx(b("VideoPlaybackControl.react"),{finishedPlaying:this.props.finishedPlaying,isLiveVideo:!0,isPlaying:this.props.isPlaying,onPause:this.props.onPause,onPlay:this.props.onPlay,useDarkTheme:this.props.useDarkTheme,tabIndex:"0"})}T=null;if(this.props.useTwoRows){Q=(S=b("React")).jsx(b("VideoVolumeControl.react"),{isAudioBlocked:this.props.isAudioBlocked,isMuted:this.props.isMuted,onToggleMuted:this.props.onToggleMuted,onVolumeChange:this.props.onVolumeChange,volume:this.props.volume,isHorizontal:!0,tabIndex:"0"});T=S.jsxs("div",{className:m,children:[S.jsx("div",{className:k,children:S.jsxs("div",{className:c,children:[S.jsx("div",{className:e}),S.jsx("div",{className:f,children:z}),S.jsx("div",{className:g,children:n})]})}),S.jsx("div",{className:k,children:S.jsxs("div",{className:c,children:[S.jsxs("div",{className:e,children:[A,B,Q]}),S.jsx("div",{className:f}),S.jsxs("div",{className:g,children:[p,s,o,q,x,w,v,y,u,r]})]})})]})}R=null;if(b("VideoPlayerExperiments").embeddedPlayerEnhancements&&this.props.isEmbedded){P=b("joinClasses")(c,b("VideoPlayerExperiments").embeddedPlayerEnhancements?"_w83":"");m=b("joinClasses")(c,"_w86");R=b("React").jsx("div",{className:P,children:b("React").jsxs("div",{className:k,children:[b("React").jsxs("div",{className:m,children:[b("React").jsxs("div",{className:e,children:[A,B]}),b("React").jsx("div",{className:f,children:z}),b("React").jsx("div",{className:g,children:n})]}),b("React").jsxs("div",{className:c,children:[b("React").jsx("div",{className:e}),b("React").jsx("div",{className:f}),b("React").jsxs("div",{className:g,children:[a||G,p,s,o,t,q,x,w,E,v,y,u,r]}),b("React").jsx("div",{className:j,children:!a||G})]})]})})}else R=!this.props.useTwoRows||!this.props.isCommentAttachment?b("React").jsx("div",{className:l,children:b("React").jsx("div",{className:k,children:b("React").jsxs("div",{className:c,children:[b("React").jsxs("div",{className:e,children:[D,A,B,C,H,I,L,J,this.props.isFBWasLive?O:K,N]}),b("React").jsxs("div",{className:f,children:[z,M]}),b("React").jsxs("div",{className:g,children:[n,a||G,p,s,o,t,q,x,w,E,v,y,u,r]}),b("React").jsx("div",{className:j,children:!a||G})]})})}):null;return b("React").jsxs("div",{className:d,children:[F,R,T]})};return c}(b("React").Component);a.defaultProps={allowCasting:!1,bufferedPosition:0,displayElapsedTime:!1,displayMilliseconds:!1,gamesVideoClipButtonEnabled:!1,gamesVideoCreatorClipping:!1,gamesDefaultClipLengthInSec:void 0,hasFoundReceiver:!1,hidden:!1,hideGradient:!1,hidePlaybackControl:!1,hidePlaybackScrubber:!1,hideRemainingTime:!1,hideSettings:!1,isAudioBlocked:!1,isCasting:!1,isCastingSupported:!1,isCommentAttachment:!1,isFBWasLive:!1,isInTahoe:!1,isLiveRewound:!1,isMuted:!1,isPlaying:!1,isSphericalVideo:!1,isWatchIconEligible:!1,onSidePaneToggle:b("emptyFunction"),onStartCast:b("emptyFunction"),onStopCast:b("emptyFunction"),playbackDuration:0,playbackPosition:0,showInlineCopyLinkOption:!1,showPermalinkButton:!1,showPlaybackRateControl:!1,showPlayButtonForLive:!1,showSidePaneToggle:!1,showVideoSliderWarningTooltip:!1,showWNSNUX:!1,transparent:!1,useDarkTheme:!1,useLargerGradient:!1,useTwoRows:!1,volume:0};a.propTypes={adBreaks:(c=b("prop-types")).array,adBreaksDisableReasons:c.array,allowFullscreen:c.bool,areHLSActive:c.bool,areCaptionsActive:c.bool,areCaptionsAutogenerated:c.bool,availableQualities:c.array,canAutoSelectVideoQuality:c.bool,displayElapsedTime:c.bool,displayMilliseconds:c.bool,annotatedMomentsOfInterest:c.object,finishedPlaying:c.bool,hasHD:c.bool,hasScrubberPreview:c.bool,hasCaptions:c.bool,hasWatchAndScroll:c.bool,hidden:c.bool,hideGradient:c.bool,hidePlaybackControl:c.bool,hidePlaybackScrubber:c.bool,hideRemainingTime:c.bool,hideSettings:c.bool,isAudioBlocked:c.bool,isCommentAttachment:c.bool,isEmbedded:c.bool,isEmbeddedPlayerRedesignEnabled:c.bool,isFullscreen:c.bool,isHD:c.bool,isInline:c.bool,isInWatchAndScroll:c.bool,isLive:c.bool,isLiveRewindEnabled:c.bool,isMuted:c.bool,isPlaying:c.bool,isSidePaneOpen:c.bool,isSlidingWNSEligible:c.bool,isSphericalVideo:c.bool,onEnterWatchAndScroll:c.func,onLiveRewindSeekBack:c.func,onLiveRewindSeekForward:c.func,onLiveRewindToBeginning:c.func,onLiveRewindToLive:c.func,onPause:c.func,onPlay:c.func,onPointOfInterestSelect:c.func,onSeek:c.func,onSelectQuality:c.func,onSetVideoPlaybackRate:c.func,onToggleFullscreen:c.func,onToggleHD:c.func,onToggleHLS:c.func,onToggleMuted:c.func,onToggleCaptions:c.func,onVolumeChange:c.func,permalinkURL:c.string,playbackDuration:c.number,playbackPosition:c.number,pointsOfInterest:c.array,preferredQuality:c.string,previewThumbnailInformation:c.object,qualitySelectorMinStreams:c.number,scrubberPreviewSprites:c.object,selectedQuality:c.string,showPointOfInterestTimestamps:c.bool,showQualitySelector:c.bool,showSidePaneToggle:c.bool,showWNSNUX:c.bool,streamingFormat:c.string,transparent:c.bool,useDarkTheme:c.bool,useLargerGradient:c.bool,useTwoRows:c.bool,volume:c.number,videoClipInfo:c.object,isWatchIconEligible:c.bool};e.exports=b("FluxContainer").create(a)}),null);
__d("Tahoe",[],(function(a,b,c,d,e,f){var g=null;a={get:function(){return g},set:function(a){g=a}};e.exports=a}),null);
__d("fbjs/lib/ExecutionEnvironment",["ExecutionEnvironment"],(function(a,b,c,d,e,f){"use strict";e.exports=b("ExecutionEnvironment")}),null);
__d("getVendorPrefixedEventName",["fbjs/lib/ExecutionEnvironment"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b){var c={};c[a.toLowerCase()]=b.toLowerCase();c["Webkit"+a]="webkit"+b;c["Moz"+a]="moz"+b;c["ms"+a]="MS"+b;c["O"+a]="o"+b.toLowerCase();return c}var g={animationend:a("Animation","AnimationEnd"),animationiteration:a("Animation","AnimationIteration"),animationstart:a("Animation","AnimationStart"),transitionend:a("Transition","TransitionEnd")},h={},i={};b("fbjs/lib/ExecutionEnvironment").canUseDOM&&(i=document.createElement("div").style,"AnimationEvent"in window||(delete g.animationend.animation,delete g.animationiteration.animation,delete g.animationstart.animation),"TransitionEvent"in window||delete g.transitionend.transition);function c(a){if(h[a])return h[a];else if(!g[a])return a;var b=g[a];for(var c in b)if(Object.prototype.hasOwnProperty.call(b,c)&&c in i)return h[a]=b[c];return""}e.exports=c}),null);
__d("ReactTransitionEvents",["fbjs/lib/ExecutionEnvironment","getVendorPrefixedEventName"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[];function a(){var a=b("getVendorPrefixedEventName")("animationend"),c=b("getVendorPrefixedEventName")("transitionend");a&&g.push(a);c&&g.push(c)}b("fbjs/lib/ExecutionEnvironment").canUseDOM&&a();function h(a,b,c){a.addEventListener(b,c,!1)}function i(a,b,c){a.removeEventListener(b,c,!1)}c={addEndEventListener:function(a,b){if(g.length===0){window.setTimeout(b,0);return}g.forEach(function(c){h(a,c,b)})},removeEndEventListener:function(a,b){if(g.length===0)return;g.forEach(function(c){i(a,c,b)})}};e.exports=c}),null);
__d("ReactCSSTransitionGroupChild",["React","ReactDOM","ReactTransitionEvents","createReactClass_DEPRECATED","fbjs/lib/CSSCore","prop-types"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=17;c=b("createReactClass_DEPRECATED")({displayName:"ReactCSSTransitionGroupChild",propTypes:{name:(a=b("prop-types")).oneOfType([a.string,a.shape({enter:a.string,leave:a.string,active:a.string}),a.shape({enter:a.string,enterActive:a.string,leave:a.string,leaveActive:a.string,appear:a.string,appearActive:a.string})]).isRequired,appear:a.bool,enter:a.bool,leave:a.bool,appearTimeout:a.number,enterTimeout:a.number,leaveTimeout:a.number},transition:function(a,c,d){__p&&__p();var e=b("ReactDOM").findDOMNode(this);if(!e){c&&c();return}var f=this.props.name[a]||this.props.name+"-"+a,g=this.props.name[a+"Active"]||f+"-active",h=null;a=function a(d){if(d&&d.target!==e)return;clearTimeout(h);b("fbjs/lib/CSSCore").removeClass(e,f);b("fbjs/lib/CSSCore").removeClass(e,g);b("ReactTransitionEvents").removeEndEventListener(e,a);c&&c()};b("fbjs/lib/CSSCore").addClass(e,f);this.queueClassAndNode(g,e);d?(h=setTimeout(a,d),this.transitionTimeouts.push(h)):b("ReactTransitionEvents").addEndEventListener(e,a)},queueClassAndNode:function(a,b){this.classNameAndNodeQueue.push({className:a,node:b}),this.timeout||(this.timeout=setTimeout(this.flushClassNameAndNodeQueue,g))},flushClassNameAndNodeQueue:function(){this.isMounted()&&this.classNameAndNodeQueue.forEach(function(a){b("fbjs/lib/CSSCore").addClass(a.node,a.className)}),this.classNameAndNodeQueue.length=0,this.timeout=null},UNSAFE_componentWillMount:function(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},componentWillUnmount:function(){this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(a){clearTimeout(a)}),this.classNameAndNodeQueue.length=0},componentWillAppear:function(a){this.props.appear?this.transition("appear",a,this.props.appearTimeout):a()},componentWillEnter:function(a){this.props.enter?this.transition("enter",a,this.props.enterTimeout):a()},componentWillLeave:function(a){this.props.leave?this.transition("leave",a,this.props.leaveTimeout):a()},render:function(){return b("React").Children.only(this.props.children)}});e.exports=c}),null);
__d("ReactTransitionChildMapping",["React","emptyFunction","warning"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("emptyFunction");c={getChildMapping:function(a){if(!a)return a;var c={};b("React").Children.toArray(a).forEach(function(a){var b=a.key,d=c[b]===void 0;d&&(c[b]=a)});return c},mergeChildMappings:function(a,b){__p&&__p();a=a||{};b=b||{};function c(c){if(Object.prototype.hasOwnProperty.call(b,c))return b[c];else return a[c]}var d={},e=[];for(var f in a)Object.prototype.hasOwnProperty.call(b,f)?e.length&&(d[f]=e,e=[]):e.push(f);var g,h={};for(var i in b){if(Object.prototype.hasOwnProperty.call(d,i))for(g=0;g<d[i].length;g++){var j=d[i][g];h[d[i][g]]=c(j)}h[i]=c(i)}for(g=0;g<e.length;g++)h[e[g]]=c(e[g]);return h}};e.exports=c}),null);
__d("ReactTransitionGroup",["React","ReactTransitionChildMapping","fbjs/lib/emptyFunction","prop-types"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={children:b("ReactTransitionChildMapping").getChildMapping(d.props.children)},d.performAppear=function(a){d.currentlyTransitioningKeys[a]=!0;var b=d.refs[a];b.componentWillAppear?b.componentWillAppear(d.$1.bind(babelHelpers.assertThisInitialized(d),a)):d.$1(a)},d.$1=function(a){var c=d.refs[a];c.componentDidAppear&&c.componentDidAppear();delete d.currentlyTransitioningKeys[a];c=b("ReactTransitionChildMapping").getChildMapping(d.props.children);(!c||!Object.prototype.hasOwnProperty.call(c,a))&&d.performLeave(a)},d.performEnter=function(a){d.currentlyTransitioningKeys[a]=!0;var b=d.refs[a];b.componentWillEnter?b.componentWillEnter(d.$2.bind(babelHelpers.assertThisInitialized(d),a)):d.$2(a)},d.$2=function(a){var c=d.refs[a];c.componentDidEnter&&c.componentDidEnter();delete d.currentlyTransitioningKeys[a];c=b("ReactTransitionChildMapping").getChildMapping(d.props.children);(!c||!Object.prototype.hasOwnProperty.call(c,a))&&d.performLeave(a)},d.performLeave=function(a){d.currentlyTransitioningKeys[a]=!0;var b=d.refs[a];b.componentWillLeave?b.componentWillLeave(d.$3.bind(babelHelpers.assertThisInitialized(d),a)):d.$3(a)},d.$3=function(a){var c=d.refs[a];c.componentDidLeave&&c.componentDidLeave();delete d.currentlyTransitioningKeys[a];c=b("ReactTransitionChildMapping").getChildMapping(d.props.children);c&&Object.prototype.hasOwnProperty.call(c,a)?d.performEnter(a):d.setState(function(b){b=Object.assign({},b.children);delete b[a];return{children:b}})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.UNSAFE_componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]};d.componentDidMount=function(){var a=this.state.children;for(var b in a)a[b]&&this.performAppear(b)};d.UNSAFE_componentWillReceiveProps=function(a){__p&&__p();a=b("ReactTransitionChildMapping").getChildMapping(a.children);var c=this.state.children;this.setState({children:b("ReactTransitionChildMapping").mergeChildMappings(c,a)});var d;for(d in a){var e=c&&Object.prototype.hasOwnProperty.call(c,d);a[d]&&!e&&!this.currentlyTransitioningKeys[d]&&this.keysToEnter.push(d)}for(d in c){e=a&&Object.prototype.hasOwnProperty.call(a,d);c[d]&&!e&&!this.currentlyTransitioningKeys[d]&&this.keysToLeave.push(d)}};d.componentDidUpdate=function(){var a=this.keysToEnter;this.keysToEnter=[];a.forEach(this.performEnter);a=this.keysToLeave;this.keysToLeave=[];a.forEach(this.performLeave)};d.render=function(){__p&&__p();var a=[];for(var c in this.state.children){var d=this.state.children[c];d&&a.push(b("React").cloneElement(this.props.childFactory(d),{ref:c,key:c}))}d=Object.assign({},this.props);delete d.transitionLeave;delete d.transitionName;delete d.transitionAppear;delete d.transitionEnter;delete d.childFactory;delete d.transitionLeaveTimeout;delete d.transitionEnterTimeout;delete d.transitionAppearTimeout;delete d.component;return b("React").createElement(this.props.component,d,a)};return c}(b("React").Component);a.displayName="ReactTransitionGroup";a.propTypes={component:b("prop-types").any,childFactory:b("prop-types").func};a.defaultProps={component:"span",childFactory:b("fbjs/lib/emptyFunction").thatReturnsArgument};e.exports=a}),null);
__d("ReactCSSTransitionGroup",["React","ReactCSSTransitionGroupChild","ReactTransitionGroup","prop-types"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){var b="transition"+a+"Timeout",c="transition"+a;return function(a){if(a[c])if(a[b]==null)return new Error(b+" wasn't supplied to ReactCSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");else if(typeof a[b]!=="number")return new Error(b+" must be a number (in milliseconds)")}}c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){return b("React").createElement(b("ReactCSSTransitionGroupChild"),{name:d.props.transitionName,appear:d.props.transitionAppear,enter:d.props.transitionEnter,leave:d.props.transitionLeave,appearTimeout:d.props.transitionAppearTimeout,enterTimeout:d.props.transitionEnterTimeout,leaveTimeout:d.props.transitionLeaveTimeout},a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){return b("React").createElement(b("ReactTransitionGroup"),Object.assign({},this.props,{childFactory:this.$1}))};return c}(b("React").Component);c.displayName="ReactCSSTransitionGroup";c.propTypes={transitionName:b("ReactCSSTransitionGroupChild").propTypes.name,transitionAppear:b("prop-types").bool,transitionEnter:b("prop-types").bool,transitionLeave:b("prop-types").bool,transitionAppearTimeout:a("Appear"),transitionEnterTimeout:a("Enter"),transitionLeaveTimeout:a("Leave")};c.defaultProps={transitionAppear:!1,transitionEnter:!0,transitionLeave:!0};e.exports=c}),null);
__d("XVideoWnsUpNextAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/wns/upnext/async/{video_id}/",{video_id:{type:"FBID",required:!0},viewed_videos:{type:"FBIDSet"}})}),null);
__d("VideoWatchAndScrollDrawer.react",["csx","cx","fbt","AsyncRequest","DOM","DOMContainer.react","FBLoadShimmer.react","React","XVideoWnsUpNextAsyncController","cxMargin"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={fetching:!0,upNext:null},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.props.videoID&&this.$2(this.props.videoID)};d.componentWillUnmount=function(){this.$1&&this.$1.abort()};d.$2=function(a){__p&&__p();var c=this;a=b("XVideoWnsUpNextAsyncController").getURIBuilder().setFBID("video_id",a).setFBIDSet("viewed_videos",this.props.viewedVideos);this.$1=new(b("AsyncRequest"))(a.getURI());this.$1.setHandler(function(a){a=a.getPayload();var d=a.upNextUnit&&a.upNextUnit.markup;if(d){d=b("DOM").create("div",{},d);var e=b("DOM").scry(d,"._3iqr");e.length&&(c.setState({upNext:d}),c.props.onLoadUpNext(d,a.canAutoplay))}c.setState({fetching:!1})}).send()};d.render=function(){var a=null;if(this.state.upNext)a=b("React").jsx(b("DOMContainer.react"),{children:this.state.upNext});else if(this.state.fetching){var c,d;a=(c=b("React")).jsxs("div",{className:"_2685",children:[c.jsx(d=b("FBLoadShimmer.react"),{height:70,width:124}),c.jsxs("div",{className:"_63-r",children:[c.jsx(d,{height:14,width:140,className:"_3-94"}),c.jsx(d,{height:14,width:140,className:"_3-94"}),c.jsx(d,{height:14,width:70,className:"_3-94"}),c.jsx(d,{height:14,width:70})]})]})}else return null;return b("React").jsxs("div",{className:"_3rq1 _60a7 _2tyk",children:[b("React").jsx("div",{className:"_3652",children:b("React").jsx("div",{className:"_3653",children:i._("Up next")})}),a]})};return c}(b("React").Component);e.exports=a}),null);
__d("VideoWatchAndScrollEndScreen.react",["ix","cx","fbt","Image.react","PopoverMenu.react","React","ReactXUIMenu","ShimButton.react","TooltipData","VideoChannelProgressCircle.react","VideoChannelReplayImage.react","VideoPlayerExperiments","fbglyph","prop-types"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j=b("VideoPlayerExperiments").showWNSClose,k=function(a){a=a.onClose;return b("React").jsx(b("ShimButton.react"),{className:"_3r7h",onClick:a,children:b("React").jsx(b("Image.react"),{src:g("114710")})})},l=function(a){a=a.onCollapse;return b("React").jsx("div",babelHelpers["extends"]({className:"_1dtq",onClick:a,role:"button",tabIndex:"1"},b("TooltipData").propsFor(i._("Collapse Video")),{children:b("React").jsx(b("Image.react"),{src:g("115705")})}))},m=function(a){var c=a.onClose,d=(a=b("React")).jsx(b("ReactXUIMenu"),{onItemClick:function(a,b){a=b.item;a.getValue()==="close"&&c()},children:a.jsx(b("ReactXUIMenu").Item,{value:"close",children:"Close"})});return a.jsx(b("PopoverMenu.react"),{className:"_ivg",menu:d,children:a.jsx("a",{href:"#",children:a.jsx(b("Image.react"),{src:g("114186")})})})};a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").jsxs("div",{className:"_5qdn _2se8"+(this.props.fadeOut?" _2gud":"")+" _1s-2",children:[b("React").jsx("div",{className:"_1szz _2se8",children:b("React").jsx("div",{className:"_1szy _ww8",onClick:this.props.onReplay,role:"presentation",children:b("React").jsx(b("VideoChannelProgressCircle.react"),{makeProgress:this.props.makeProgress,timeoutSec:this.props.endScreenDuration,watchAndScroll:!0,children:b("React").jsx(b("VideoChannelReplayImage.react"),{size:"small"})})})}),b("React").jsxs("div",{className:"_ivh",children:[j?null:b("React").jsx(m,{onClose:this.props.onClose}),b("React").jsx(l,{onCollapse:this.props.onCollapse}),j?b("React").jsx(k,{onClose:this.props.onClose}):null]})]})};return c}(b("React").Component);a.propTypes={endScreenDuration:(c=b("prop-types")).number.isRequired,fadeOut:c.bool,makeProgress:c.bool.isRequired,onReplay:c.func.isRequired,onClose:c.func.isRequired};e.exports=a}),null);
__d("shouldWNSRenderToRHC",["ge"],(function(a,b,c,d,e,f){"use strict";function a(){return!!b("ge")("fbRHCVideoWNS-container")}e.exports=a}),null);
__d("VideoWatchAndScrollContainer.react",["csx","cx","Arbiter","CSS","DOM","DOMContainer.react","DOMDimensions","Event","Locale","Parent","React","ReactCSSTransitionGroup","Rect","SubscriptionsHandler","VideoChannelProgressCircle.react","VideoChannelReplayImage.react","VideoPlayerExperiments","VideoWatchAndScrollDrawer.react","VideoWatchAndScrollEndScreen.react","cancelAnimationFrame","clearTimeout","getViewportDimensions","prop-types","requestAnimationFrame","setTimeoutAcrossTransitions","shallowCompare","shouldWNSRenderToRHC","throttle"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=10,j=230,k=476,l=300,m=2e3,n=b("VideoPlayerExperiments").endScreenDuration,o=Object.freeze({NW:"nw",NE:"ne",SE:"se",SW:"sw"});a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c){b=a.call(this,b,c)||this;b.state=b.$3(b.props);return b}var d=c.prototype;d.$3=function(a){a=this.$4();var b=this.$5(this.props.initialPosition,a);return{channelVideoElements:[this.props.initialVideoElement],containerBoundingBox:a,dragging:!1,draggingStartHeight:0,draggingStartLeft:0,draggingStartMousePositionX:0,draggingStartMousePositionY:0,draggingStartTop:0,draggingStartWidth:0,endScreenFadeOut:!1,endScreenShown:!1,fadeOut:!1,fadeOutPlaceholder:null,hasDrawer:!1,height:b.height,left:b.left,playbackFinished:!1,resizeDirection:null,showDrawer:!1,timeUntilNext:0,top:b.top,width:b.width,videoIndex:0}};d.shouldComponentUpdate=function(a,c){return!this.state.fadeOut&&b("shallowCompare")(this,a,c)};d.componentDidUpdate=function(a,c){__p&&__p();var d=this;if(!c)return;!c.dragging&&this.state.dragging?(this.documentSubscriptions=new(b("SubscriptionsHandler"))(),this.documentSubscriptions.addSubscriptions(b("Event").listen(document,"mousemove",this.$6.bind(this)),b("Event").listen(document,"mouseup",this.$7.bind(this)))):c.dragging&&!this.state.dragging&&this.documentSubscriptions.release();c.playbackFinished!==this.state.playbackFinished&&this.state.playbackFinished&&this.state.timeUntilNext&&(b("clearTimeout")(this.$2),this.$8(),this.$2=b("setTimeoutAcrossTransitions")(function(){d.props.onPlayNext()},this.state.timeUntilNext*1e3));var e=["._23if","._23ig","._452w","._2i7a"],f=c.channelVideoElements||[];this.state.channelVideoElements.forEach(function(a){if(f.indexOf(a)!==-1)return;e.forEach(function(c){c=b("DOM").scry(a,c);c=c[0];c&&b("CSS").hide(c)});var c=b("DOM").scry(a,"._3pay");c=c[0];c&&(b("CSS").removeClass(c,"_3pay"),b("CSS").addClass(c,"_2337"))})};d.componentDidMount=function(){this.movementListeners=new(b("SubscriptionsHandler"))(),this.movementListeners.addSubscriptions(b("Event").listen(window,"resize",b("throttle")(this.$9.bind(this),100)),b("Arbiter").subscribe("sidebar/visibility",b("throttle")(this.$9.bind(this),100)))};d.componentWillUnmount=function(){this.documentSubscriptions&&this.documentSubscriptions.release(),this.movementListeners&&this.movementListeners.release(),this.$1&&b("clearTimeout")(this.$1),this.$2&&b("clearTimeout")(this.$2)};d.getFadeOutStatus=function(){return this.state.fadeOut};d.getChannelVideoElements=function(){return this.state.channelVideoElements};d.$9=function(){var a=this.$4(),b=this.$5({height:this.state.height,left:this.state.left,top:this.state.top,width:this.state.width},a);this.setState({containerBoundingBox:a,height:b.height,left:b.left,top:b.top,width:b.width})};d.$10=function(a,b){this.$11(b,a)};d.$12=function(a){if(b("Parent").bySelector(a.target,"._5-32")||!b("Parent").bySelector(a.target,"._3t-6"))return;this.$11(a,null)};d.$13=function(a){return a.button!==0||b("Parent").bySelector(a.target,"._3t-6")||b("Parent").bySelector(a.target,"._2se8")};d.$14=function(a){if(this.$13(a))return;this.props.onClick&&this.props.onClick()};d.$11=function(a,c){var d=a.button,e=a.target;if(d!==0)return;if(b("Parent").bySelector(e,"._360f"))return;this.props.onGrab();this.setState({containerBoundingBox:this.$4(),dragging:!0,draggingStartHeight:this.state.height,draggingStartLeft:this.state.left,draggingStartMousePositionX:a.screenX,draggingStartMousePositionY:a.screenY,draggingStartTop:this.state.top,draggingStartWidth:this.state.width,resizeDirection:c});a.preventDefault()};d.$4=function(){var a=0,c=b("DOM").scry(document.body,".fbChatSidebar");c.length===1&&(a=b("DOMDimensions").getElementDimensions(c[0]).width);c=b("getViewportDimensions").withoutScrollbars();var d=43+i,e=c.height-i,f=i;c=c.width-i;b("Locale").isRTL()?f+=a:c-=a;return new(b("Rect"))(d,c,e,f)};d.$5=function(a,c){a=new(b("Rect"))(a.top,a.left+a.width,a.top+a.height,a.left);a=a.boundWithin(c);return{height:a.h(),left:a.getLeft(),top:a.getTop(),width:a.w()}};d.$15=function(a,b,c){__p&&__p();var d=a.top,e=b.getTop();d=e-d;d>0&&((c===o.NE||c===o.NW)&&(a.height-=d),a.top=e);d=a.left;e=b.getLeft();d=e-d;d>0&&((c===o.NW||c===o.SW)&&(a.width-=d),a.left=e);c=a.top+a.height;d=b.getTop()+b.h();e=c-d;e>0&&(a.height=d-a.top);c=a.left+a.width;e=b.getLeft()+b.w();d=c-e;d>0&&(a.width=e-a.left)};d.$16=function(a,b,c){a.width<j&&((c===o.NW||c===o.SW)&&(a.left-=j-a.width),a.width=j),a.height<j&&((c===o.NE||c===o.NW)&&(a.top-=j-a.height),a.height=j)};d.$17=function(a,b,c){a.width>k&&((c===o.NW||c===o.SW)&&(a.left+=a.width-k),a.width=k),a.height>k&&((c===o.NE||c===o.NW)&&(a.top+=a.height-k),a.height=k)};d.$18=function(a,b,c){__p&&__p();var d=a.width/a.height;b=b.width/b.height;if(d>b){var e=a.height*b,f=a.height;e<j&&(f*=j/e,e=j,(c===o.NE||c===o.NW)&&(a.top+=a.height-f));(c===o.NW||c===o.SW)&&(a.left+=a.width-e);a.width=e;a.height=f}else if(d<b){e=a.width/b;(c===o.NE||c===o.NW)&&(a.top+=a.height-e);a.height=e}};d.$19=function(a,b,c,d){this.$15(a,c,d);this.$16(a,b,d);this.$17(a,b,d);this.$18(a,b,d);return{height:a.height,left:a.left,top:a.top,width:a.width}};d.$6=function(a){b("cancelAnimationFrame")(this.dragUpdateRequestAnimationFrameID),this.dragUpdateRequestAnimationFrameID=b("requestAnimationFrame")(this.$20.bind(this,a))};d.$21=function(a){(a.height!==this.state.height||a.width!==this.state.width)&&this.props.onInitialPositionUpdate(a)};d.$20=function(a){__p&&__p();if(!this.state.dragging)return;var b=a.screenX-this.state.draggingStartMousePositionX,c=a.screenY-this.state.draggingStartMousePositionY,d=this.state.resizeDirection,e;if(!d)e=this.$5({height:this.state.draggingStartHeight,left:this.state.draggingStartLeft+b,top:this.state.draggingStartTop+c,width:this.state.draggingStartWidth},this.state.containerBoundingBox),this.$21(e),this.setState({height:e.height,left:e.left,top:e.top,width:e.width});else{var f=this.state.draggingStartHeight,g=this.state.draggingStartLeft,h=this.state.draggingStartTop,i=this.state.draggingStartWidth;(d===o.NE||d===o.SE)&&(i+=b);(d===o.NW||d===o.SW)&&(g+=b,i-=b);(d===o.SE||d===o.SW)&&(f+=c);(d===o.NE||d===o.NW)&&(h+=c,f-=c);e=this.$19({height:f,left:g,top:h,width:i},{height:this.state.draggingStartHeight,left:this.state.draggingStartLeft,top:this.state.draggingStartTop,width:this.state.draggingStartWidth},this.state.containerBoundingBox,d);this.$21(e);this.setState({height:e.height,left:e.left,top:e.top,width:e.width})}a.preventDefault()};d.$7=function(a){b("cancelAnimationFrame")(this.dragUpdateRequestAnimationFrameID),this.props.onDrop(),this.setState({dragging:!1,draggingStartHeight:0,draggingStartLeft:0,draggingStartMousePositionX:0,draggingStartMousePositionY:0,draggingStartTop:0,draggingStartWidth:0,resizeDirection:null}),a.preventDefault()};d.$22=function(){this.$1&&(b("clearTimeout")(this.$1),this.$1=null),this.setState({showDrawer:!0})};d.$23=function(){this.state.showDrawer&&this.$8()};d.$24=function(){b("clearTimeout")(this.$2),this.setState({playbackFinished:!1}),this.props.onReplay()};d.$8=function(){var a=this;this.$1?b("clearTimeout")(this.$1):this.setState({showDrawer:!0});this.$1=b("setTimeoutAcrossTransitions")(function(){a.setState({showDrawer:!1}),a.$1=null},m)};d.$25=function(a,c){if(a>this.state.channelVideoElements.length)return null;a=this.state.channelVideoElements[a];return!a?null:b("React").jsx("div",{className:"_2yq3"+(c==="left"?" _2yq4":"")+(c==="center"?" _2yq5":"")+(c==="right"?" _2yq6":""),children:b("React").jsx(b("DOMContainer.react"),{children:a})},a.id)};d.$26=function(){return b("shouldWNSRenderToRHC")()?[]:[b("React").jsx("div",{className:"_52ua",onMouseDown:this.$10.bind(this,o.NW)},o.NW),b("React").jsx("div",{className:"_52uc",onMouseDown:this.$10.bind(this,o.NE)},o.NE),b("React").jsx("div",{className:"_52ui",onMouseDown:this.$10.bind(this,o.SE)},o.SE),b("React").jsx("div",{className:"_52uj",onMouseDown:this.$10.bind(this,o.SW)},o.SW)]};d.getWidth=function(){return this.state.width};d.onLoadUpNext=function(a,b){this.props.onLoadUpNext(a,b),this.setState({hasDrawer:!0})};d.canPlayAnotherVideo=function(){var a=this.state.channelVideoElements;return this.state.videoIndex<a.length-1};d.render=function(){__p&&__p();var a=this,c=null;this.props.isDrawerEnabled||(c={height:Math.round(this.state.height)+"px",left:this.state.left+"px",top:this.state.top+"px",width:Math.round(this.state.width)+"px"});var d=this.state.channelVideoElements,e=d[this.state.videoIndex];e&&(b("CSS").addClass(e,"_1kfp"),b("CSS").conditionClass(e,"_1blk",this.state.width<l));this.state.endScreenShown&&b("React").jsx(b("VideoWatchAndScrollEndScreen.react"),{endScreenDuration:n/1e3,fadeOut:this.state.endScreenFadeOut,makeProgress:this.canPlayAnotherVideo(),onReplay:this.props.onReplay,onClose:function(){b("clearTimeout")(a.$2),a.$2=null,a.props.onClose()},onCollapse:this.props.onCollapse});e=null;this.state.fadeOutPlaceholder?e=b("React").jsx(b("DOMContainer.react"),{children:this.state.fadeOutPlaceholder}):e=b("React").jsx("ul",{className:"_2yq7",children:d.map(function(c,d){(d>a.state.videoIndex+1||d<a.state.videoIndex-1)&&b("CSS").removeClass(c,"_1kfp");return d<=a.state.videoIndex+1?null:b("React").jsx("li",{children:b("React").jsx(b("DOMContainer.react"),{children:c})},c.id)})});d=null;this.state.playbackFinished&&(d=b("React").jsx("div",{role:"presentation",onClick:this.$24.bind(this),className:"_1szy _ww8",children:b("React").jsx(b("VideoChannelProgressCircle.react"),{makeProgress:!!this.state.timeUntilNext,timeoutSec:this.state.timeUntilNext,watchAndScroll:!0,children:b("React").jsx(b("VideoChannelReplayImage.react"),{size:"small"})})}));var f=null;this.props.isDrawerEnabled&&(f=b("React").jsx(b("VideoWatchAndScrollDrawer.react"),{videoID:this.props.videoID,viewedVideos:this.props.viewedVideos,onLoadUpNext:this.onLoadUpNext.bind(this)}));return b("React").jsx(b("ReactCSSTransitionGroup"),{transitionAppear:!0,transitionAppearTimeout:500,transitionEnter:!1,transitionLeave:!1,transitionName:{appear:"_tie",appearActive:"_tik"},children:b("React").jsxs("div",{className:"_360g"+(this.state.showDrawer?" _hzi":"")+(this.state.fadeOut?" _473b":"")+(this.state.hasDrawer?" _60a6":"")+(this.props.isLiveVideo()?" _29mh":""),onMouseLeave:this.$23.bind(this),onMouseMove:this.$22.bind(this),style:c,children:[b("React").jsxs("div",{className:"_52u8",onClick:this.$14.bind(this),onMouseDown:this.$12.bind(this),role:"presentation",children:[b("React").jsxs("div",{className:"_hzj",children:[this.$25(this.state.videoIndex-1,"left"),this.$25(this.state.videoIndex,"center"),this.$25(this.state.videoIndex+1,"right"),d]}),f]}),this.$26(),e]})})};return c}(b("React").Component);a.propTypes={initialPosition:(c=b("prop-types")).object.isRequired,initialVideoElement:c.instanceOf(HTMLElement).isRequired,onChannelNavigation:c.func.isRequired,onClick:c.func.isRequired,onClose:c.func.isRequired,onDrop:c.func.isRequired,onGrab:c.func.isRequired,onInitialPositionUpdate:c.func.isRequired,onReplay:c.func.isRequired};e.exports=a}),null);
__d("XVideoWNSSurveyController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/wns_survey/",{__asyncDialog:{type:"Int"}})}),null);
__d("VideoWatchAndScrollController",["csx","cx","invariant","Arbiter","AsyncRequest","CSS","DOM","DOMDimensions","Event","EventListener","LiveRHCUtils","Locale","React","ReactDOM","SubscriptionsHandler","Tahoe","VideoAutoplayControllerX","VideoChannelStoryFetcher","VideoFrameBuffer","VideoPlayerExperiments","VideoPlayerShakaGlobalConfig","VideoPlayerVolumeSettings","VideoWatchAndScrollContainer.react","VideoWatchAndScrollVariables","ViewportBounds","XVideoWNSSurveyController","cancelAnimationFrame","clearTimeout","destroyOnUnload","getViewportDimensions","ifRequired","setTimeoutAcrossTransitions","shouldWNSRenderToRHC","throttle"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j=158,k=280,l=10,m=42,n=m+l,o=476,p=230,q=["autoplay_initiated","page_visibility_initiated"],r=750,s=308,t=3,u=null,v=b("VideoPlayerExperiments").persistentWNSEnabled;function w(){return Math.max(b("getViewportDimensions")().height,400)-m-80}a=function(){"use strict";__p&&__p();function a(a,c,d,e,f){__p&&__p();var g=this;this.$30=new(b("SubscriptionsHandler"))();this.$31=new(b("SubscriptionsHandler"))();this.$1=!1;this.$2=null;this.$3=null;this.$4=!1;this.$34=d;this.$37=!1;this.$29=!1;this.$47=e;this.$48=e;this.$52=f;this.$33=new(b("VideoChannelStoryFetcher"))(c,a,this.$34,null);this.$35=[];this.$36=0;this.$38=[];this.$39=[];this.$5=j;this.$6=k;this.$10=window.document.getElementById("leftCol");this.$11=window.document.getElementById("rightCol");this.$12=window.document.getElementById("pagelet_bluebar");this.$43={};this.$46=null;this.$53();(d=this.$30).addSubscriptions.apply(d,this.$54());v||b("destroyOnUnload")(function(){g.$55(),g.$4&&g.$56(),g.$30&&g.$30.release(),g===u&&(u=null)})}var c=a.prototype;c.$54=function(){__p&&__p();var a=this,c=[];c.push(b("Arbiter").subscribe("VideoChannelView/opened",function(b,c){a.$4&&(!c.controller||a.$16!==c.controller)&&a.$56()}));c.push(b("Arbiter").subscribe("fbVideoWatchAndScroll/closeWNS",function(){if(!a.$4)return;var c=a.$16,d=c.getOption("CommercialBreakVideoAdOverlay","videoController");d&&(c=d);c.logEvent("watch_and_scroll_exited");a.$57();d=b("XVideoWNSSurveyController").getURIBuilder().getURI();c=new(b("AsyncRequest"))().setURI(d);c.send()}));if(b("VideoPlayerExperiments").rhcWNSEnabled){c.push(b("Arbiter").subscribe("RHCVideoWNSController/collapseStart",function(){var c=a.$14;if(!c||!b("shouldWNSRenderToRHC")())return;c.setState({endScreenFadeOut:!0,endScreenShown:!1})}),b("Arbiter").subscribe("RHCVideoWNSController/collapseEnd",function(){var c=a.$14;if(!c||!b("shouldWNSRenderToRHC")())return;a.pauseActiveVideo("user_initiated");c.setState({endScreenFadeOut:!1})}),b("Arbiter").subscribe("RHCVideoWNSController/expandStart",function(){var c=a.$14;if(!c||!a.isActiveVideoDonePlaying()||!b("shouldWNSRenderToRHC")())return;c.setState({endScreenShown:!0})}));if(v){var d=function(){var b=a.$16.getVideoNode();b instanceof HTMLVideoElement||i(0,1208);b.currentTime=b.currentTime};c.push(b("Arbiter").subscribe("RHCVideoWNSController/eject",function(c,e){if(!b("shouldWNSRenderToRHC")())return;a.$2=e;b("DOM").appendContent(document.body,e);b("VideoPlayerShakaGlobalConfig").getBool("timeouts_persist_on_page_transition",!0)||d();a.$16.isState("playing")&&a.playActiveVideo("user_initiated")}),b("Arbiter").subscribe("RHCVideoWNSController/dock",function(){if(!b("shouldWNSRenderToRHC")())return;b("VideoPlayerShakaGlobalConfig").getBool("timeouts_persist_on_page_transition",!0)||d();a.$16.isState("playing")&&a.playActiveVideo("user_initiated")}),b("Event").listen(window,"resize",b("throttle")(function(){if(!b("shouldWNSRenderToRHC")())return;a.$58()})),b("Arbiter").subscribe("RHCVideoWNSController/mount",function(){a.$58()}))}}return c};c.$58=function(){__p&&__p();var a=this.$14;if(!a||this.$37)return;var c=this.$16.getVideoNode();c=this.$59(c);this.$16.removeOffsetStylings();this.$16.setDimensions(c.width,c.height);a.setState({width:c.width,height:c.height});this.$46=c;b("Arbiter").inform("VideoWatchAndScrollController/resize")};c.isActiveVideoDonePlaying=function(){var a=this.$16.getState();return a==="finished"};a.isActiveVideoDonePlaying=function(){return u?u.isActiveVideoDonePlaying():!1};c.$60=function(a,c,d){__p&&__p();var e=this;a||i(0,3963);c.length||i(0,3964);this.$47=!0;this.$37=!1;this.$31=new(b("SubscriptionsHandler"))();this.$36=d;this.$33=a;this.$38=a.getPreloadedData().thumbnails||[];this.$39=[];this.$35=c.slice(0);this.$35.forEach(function(a){e.$61(a),e.$62(a),a.updateSource("watch_scroll")});d=this.$35.shift();this.$63(d,"user_initiated")};c.$64=function(a,b,c,d,e){var f=this;this.$9=e;this.$46=this.$59(e.videoRootNode);this.$60(a,b,c);this.$14&&this.$14.setState({channelVideoElements:d},function(){f.$65()});this.$9=null};a.registerVideoController=function(b,c,d,e,f){__p&&__p();u==null&&(u=new a(b.getVideoChannelID(),b.getVideoID(),c,e,f));u.$30.addSubscriptions(b.addListener("enterWatchAndScroll",function(){u&&u.$66(b)}),b.addListener("crossfadeWatchAndScroll",function(){if(u){u.$67();var a=b.getVideoNode();u.$46=u.$59(a);u.$63(b,"user_initiated",!1,!0);b.unmute()}}),b.addListener("exitWatchAndScroll",function(){u&&u.$4&&u.$56()}),b.addListener("VideoChannelController/enterChannel",function(){u&&(u.$37=!0)}),b.addListener("VideoChannelController/exitChannel",function(){u&&(u.$37=!1)}));c==="wns"&&u.$35.push(b);if(!d)return;e=["beginPlayback","changeVolume","muteVideo","toggleFullscreen","unmuteVideo","VideoChannelController/enterChannel"];e.forEach(function(a){u&&u.$30.addSubscriptions(b.addListener(a,function(c){u&&u.$68(b,a,c)}))})};a.isActive=function(){return!u?!1:u.$4&&!u.$37};a.updateSlidingCalculations=function(){if(!u)return;u.$19&&u.$69(u.$19)};a.registerChannelVideoController=function(a){if(!u)return;a.updateSource("watch_scroll");u.$61(a);u.$62(a);u.$35.push(a)};a.getStoryFetcherData=function(){return u&&u.$70()};c.$70=function(){return{storyFetcher:this.$33,videoPlayerControllers:this.$35,channelVideoIndex:this.$36,rootVideoPlayerController:this.$17,channelInteractionsToRegister:this.$39,isFromWNS:!0}};a.getVideoPlaceholder=function(){return!u?null:u.$18};a.getReactContainer=function(){return!u?null:u.$14};a.registerChannelInteraction=function(a){u&&u.$39.push(a)};a.onEnterTahoe=function(){if(!u)return;u.$71()};c.$71=function(){this.$37=!0,this.$33.abandonRequest()};a.onEnterChannel=function(){if(!u)return;u.$72()};c.$72=function(){__p&&__p();this.$37=!0;this.$33.abandonRequest();var a=this.$14;if(!a)return;var c=["._23if","._23ig","._452w","._2i7a"];a.getChannelVideoElements().forEach(function(a){c.forEach(function(c){c=b("DOM").scry(a,c);c=c[0];c&&b("CSS").show(c)});var d=b("DOM").scry(a,"._2337");d=d[0];d&&(b("CSS").removeClass(d,"_2337"),b("CSS").addClass(d,"_3pay"))})};a.resetFromChannelView=function(a,b,c){if(!u)return;u.$60(a,b,c)};a.startFromChannelView=function(a,b,c,d,e){if(!u)return;u.$64(a,b,c,d,e)};c.$68=function(a,b,c){__p&&__p();if(this.$4){if(this.$16===a)return;if(c&&q.includes(c.reason))return;if(!a.isIntentionallyViewing())return;var d=this.$16.getOption("VideoWithLiveBroadcast","isLive");d?this.$16.mute():this.$16.pause("user_initiated")}if(b==="toggleFullscreen"&&a.isFullscreen()||b==="VideoChannelController/enterChannel")this.$19&&this.$55();else if((b!=="beginPlayback"||c&&c.reason==="user_initiated"||a.getSource()==="permalink")&&a.isIntentionallyViewing()&&!a.isFullscreen()&&!a.getIsInChannel()){d=this.$73(a.getVideoNode());d=d.top;(d>window.scrollY||b==="beginPlayback"&&c&&c.reason==="autoplay_initiated")&&this.$69(a)}};c.$74=function(a){if(this.$37||a!==this.$16)return;this.$14&&this.$14.setState({endScreenShown:!0,playbackFinished:!0,timeUntilNext:this.$50?t:0})};c.$75=function(a){var b=this;return a.addListener("finishPlayback",function(){return b.$74(a)})};c.$69=function(a){var c=a.getVideoNode();if(!c.offsetParent)return;this.$19=a;this.$25=b("throttle")(this.$76.bind(this),100);window.addEventListener("resize",this.$25);this.$77(c);this.$78()};c.$76=function(){this.$19&&(this.$77(this.$18||this.$19.getVideoNode()),this.$26&&this.$26())};c.$79=function(a){__p&&__p();var b=this.$73(a),c=a.scrollWidth;a=a.scrollHeight;var d=p,e=o;c<a&&(d*=c/a,e*=c/a);c=d;if(this.$10&&this.$10.children.length){a=this.$73(this.$10);if(a.left<=b.left)c=Math.min(a.left-2*l,e);else if(this.$11&&this.$11.children.length){b=this.$73(this.$11);c=Math.min(b.left-2*l,e)}}else{a=document.getElementById("timeline_tab_content");if(a){b=this.$73(a).left;c=Math.min(b-2*l,e)}}return Math.max(c,d)};c.$73=function(a){var b={left:0,top:0};do b.top+=a.offsetTop,b.left+=a.offsetLeft;while(a=a.offsetParent);return b};c.$80=function(){__p&&__p();if(b("VideoPlayerExperiments").rhcWNSEnabled)return s;var a=0;if(this.$10&&this.$10.children.length){var c=this.$73(this.$10),d=window.getComputedStyle(this.$10);d=parseInt(d.width,10);v&&(d=d||k);a=d+c.left-l}else{d=document.getElementById("timeline_tab_content");if(!d){c=document.getElementById("pagelet_timeline_main_column");c?d=c.parentNode:d=document.getElementById("contentArea")}if(d){c=this.$73(d).left;a=c-2*l}}return a};c.$59=function(a){__p&&__p();var c=!a&&this.$9;({left:0});var d=16,e=9;if(!c){this.$73(a);e=1;d=parseFloat(a.getAttribute("data-original-aspect-ratio"));a=a.parentElement;(!d||e===0)&&a&&(this.$73(a),d=a.scrollWidth,e=a.scrollHeight)}a=p;var f=o;d<e&&(a*=d/e,f*=d/e);var g=this.$80(),h=l;this.$12&&(h+=this.$12.scrollHeight);h=Math.max(h,n);var i=b("VideoPlayerExperiments").rhcWNSEnabled?g:Math.max(Math.min(g,f),p),j;b("VideoPlayerExperiments").rhcWNSEnabled?j=b("Locale").isRTL()?l+b("ViewportBounds").getRight():b("getViewportDimensions")().width-i-l:(j=g>f?g-f+l:l,j=Math.max(j,l));f=i*e/d;b("VideoPlayerExperiments").rhcWNSEnabled&&(f=Math.min(f,w()));return{hasEnoughSpace:!!c||g>=a,height:f,left:j,top:h,width:i}};a.hasEnoughSpaceToEnter=function(a){if(!u||!a||!a.getVideoNode())return!1;a=a.getVideoNode();var b=1,c=parseFloat(a.getAttribute("data-original-aspect-ratio"));a=a.parentElement;(!c||b===0)&&a&&(c=a.scrollWidth,b=a.scrollHeight);a=p;c<b&&(a*=c/b);return u.$80()>a};c.$77=function(a){__p&&__p();this.$22=this.$73(a);this.$27=a.scrollWidth;this.$28=a.scrollHeight;var b=Math.max(this.$27,this.$28);if(b<p){b=p/b;this.$27*=b;this.$28*=b}this.$21=this.$22.top+this.$28*.5-m;this.$20=this.$22.top+this.$28*.5-window.innerHeight;this.$46=this.$59(a);this.$29=!this.$46.hasEnoughSpace};c.$78=function(){this.$19.isIntentionallyViewing()?(this.$81(this.$82.bind(this)),this.$82()):this.$55()};a.isVideoAlmostFinished=function(a){var c=a.getPlaybackDuration();a=a.getCurrentTimePosition();var d=b("VideoWatchAndScrollVariables").noWNSRemainingTime;if(c*.2<d)return a/c>.8;else return c-a<d};a.isSlidingEnabled=function(b){__p&&__p();var c=u;if(c==null)return!1;var d=c.$19;if(d==null||d!==b)return!1;if(c.$29||!b.isIntentionallyViewing()||!b.getVideoNode().offsetParent||a.isVideoAlmostFinished(b)||b.getSource()==="tahoe"||b.hasLooped()){c.$55();return!1}return!0};c.$82=function(){var c=this.$19;if(c==null)return;if(!c.isIntentionallyViewing()||!c.getVideoNode().offsetParent){this.$55();return}(window.scrollY>this.$21||window.scrollY<this.$20)&&a.isSlidingEnabled(c)&&c!==this.$16&&!c.isFullscreen()&&!this.$37&&(b("VideoPlayerExperiments").rhcWNS&&b("VideoPlayerExperiments").responsiveRHC&&window.innerWidth<Number(b("VideoPlayerExperiments").ResponsiveRHCMinWidth)?c.pause("user_initiated"):(this.$67(),b("VideoPlayerExperiments").fixFeedVideosPlayOffscreen&&c.emit("enterWatchAndScroll"),this.$63(c,"autoplay_initiated",!1,!0)),this.$55())};c.$67=function(){this.$47=this.$48};c.$81=function(a){window.removeEventListener("scroll",this.$26),this.$26=a||null,window.addEventListener("scroll",this.$26),b("cancelAnimationFrame")(this.$32),delete this.$32};c.$55=function(){window.removeEventListener("resize",this.$25),this.$81(),delete this.$19,this.$29=!1};c.$66=function(a){this.$55(),this.$4&&this.$16!==a?this.$83(a):(this.$46=this.$59(a.getVideoNode()),this.$67(),this.$63(a,"user_initiated"))};c.$83=function(a){this.$23=a,this.$84()};c.$63=function(a,c,d,e){__p&&__p();var f=this,g;if(a.getSource()==="tahoe"){this.$37=!1;var h=b("Tahoe").get();h&&h.onExit("wns")}h=!!this.$45;this.$45&&(b("clearTimeout")(this.$45),this.$45=null,b("ReactDOM").unmountComponentAtNode(this.$85()),this.$86());e=this.$1&&(d||e)&&!!this.$17&&this.$17!==a;e&&(this.$36=0,this.$35=[],this.$38=[],this.$41=this.$17,this.$43=babelHelpers["extends"]({},this.$8),this.$44=this.$18,this.$40=this.$14,this.$42=this.$2,this.$2=null,this.$13&&this.$13.remove(),this.$31.release(),this.$31=new(b("SubscriptionsHandler"))());this.$17=a;this.$87(this.$14&&this.$36>0?this.$88(this.$36):a);this.$49?this.$49.add(a.getVideoID()):this.$49=new Set([a.getVideoID()]);this.$14&&this.$35.length>this.$36&&this.$88(this.$36+1).preload();this.$15=this.$16.getRootNode();g=!this.$1&&!((g=this.$52)==null?void 0:g.disableAlwaysStartMuted)||!this.$16.isMuted();var i=!this.$1||this.$16.isState("playing"),j=this.$1&&this.$16.isState("finished");if(!this.$1||e){(!d||h)&&(h&&(this.$46=this.$59(this.$15)),this.$53(this.$15));if(this.$9){this.$8=this.$9;if(this.$8.videoRootNode){this.$18=this.$89(this.$8.dimensions,this.$17.getVideoNode());b("DOM").appendContent(this.$8.videoRootNode,this.$18);d=b("DOM").scry(this.$8.videoRootNode,"._344x");h=d[0];h&&b("DOM").remove(h)}}else this.$8={videoRootNode:this.$15.parentNode,dimensions:b("DOMDimensions").getElementDimensions(this.$15),source:this.$16.getSource()},this.$18=this.$89(this.$8.dimensions,this.$16.getVideoNode()),b("DOM").insertAfter(this.$15,this.$18);d=null;this.$9&&(d=this.$9.videoRootNode);!d&&this.$15&&(d=this.$15.parentNode);d&&(this.$13=b("EventListener").listen(d,"click",function(){f.$57(),a.play("user_initiated"),b("setTimeoutAcrossTransitions")(function(){f.$68(a,"beginPlayback",{reason:"user_initiated"})},r)}));this.$16.pause("user_initiated");this.$16.isPlayerVersion("silvercity")&&this.$16.detachRootNode();h=this.$7?this.$7.width:this.$6;d=this.$7?this.$7.height:this.$5;this.$16.removeOffsetStylings();this.$16.setDimensions(h,d);this.$4=!0;e&&this.$90();this.$14=this.$91();!this.$1&&b("shouldWNSRenderToRHC")()&&b("Arbiter").inform("VideoWatchAndScrollController/init");j&&this.$74(this.$16)}else this.$16.pause("user_initiated"),this.$65();i&&this.$16.play(c);if(g){this.$16.unmute();if(this.$16.getVolume()===0){h=b("VideoPlayerVolumeSettings").getLastVolumeBeforeMute()||1;this.$16.setVolume(h);this.$16.emit("unmuteVideo")}}this.$16.updateSource("watch_scroll");d=this.$33;(!this.$1||e)&&d&&(d.abandonRequest(),this.$9||d.reset(a.getVideoID(),a.getVideoChannelID()),this.$92(),this.$61(a),this.$62(a));this.$1=!0;b("shouldWNSRenderToRHC")()&&b("Arbiter").inform("VideoWatchAndScrollController/start");b("Arbiter").inform(b("LiveRHCUtils"))};c.$61=function(b){b.hasOption("WatchAndScroll","isActive")||b.registerOption("WatchAndScroll","isActive",a.isActive)};c.$62=function(a){var c=this;this.$31.addSubscriptions(this.$75(a),a.addListener("VideoChannelController/enterChannel",function(){c.$31.release()}),a.addListener("WatchAndScroll/close",function(){c.$57();var a=b("XVideoWNSSurveyController").getURIBuilder().getURI();a=new(b("AsyncRequest"))().setURI(a);a.send()}))};c.$93=function(){if(!this.$14)return;this.$14.setState({endScreenShown:!1});this.$16&&this.$16.play("user_initiated")};c.$92=function(){__p&&__p();var a=this;if(!this.$47)return;this.$33.fetchStories(!0,function(c,d){var e=a.$14;if(!c||!c.length||!e)return;c=e.getChannelVideoElements().concat(c);e.setState({channelVideoElements:c},function(){b("setTimeoutAcrossTransitions")(function(){a.$88(a.$36+1).preload()})});a.$38=a.$38.concat(d)})};c.$88=function(a){var b=this.$14?this.$14.getChannelVideoElements():[],c=[this.$17].concat(this.$35),d=null;c.forEach(function(c){b[a].contains(c.getRootNode())&&(d=c)});d||i(0,3965);return d};c.$94=function(){if(u&&u.$50)for(var a=0;a<u.$35.length;a++){var b=u.$35[a];if(u.$50.contains(b.getRootNode()))return b}return null};c.$65=function(){__p&&__p();var a=this.$16.isMuted();this.$16.pause("user_initiated");this.$16!==this.$17&&this.$16.abortLoading();this.$87(this.$88(this.$36));this.$15=this.$16.getRootNode();var c=this.$16.getVideoNode(),d=parseFloat(c.getAttribute("data-original-aspect-ratio"));d||(d=16/9);var e=this.$46;e||(e=this.$59(c));this.$14&&(e.width=this.$14.getWidth());e.height=e.width/d;b("VideoPlayerExperiments").rhcWNSEnabled?e.height=Math.min(e.height,w()):e.height>o&&(e.height=o,e.width=e.height*d);this.$16.removeOffsetStylings();this.$16.setDimensions(e.width,e.height);this.$53(c);this.$14&&this.$14.setState({playbackFinished:!1,videoIndex:this.$36,width:e.width,height:e.height},function(){b("shouldWNSRenderToRHC")()&&b("Arbiter").inform("VideoWatchAndScrollController/resize")});this.$46=e;this.$16.play("autoplay_initiated");a&&this.$16.mute();this.$35.length<=this.$36?this.$92():this.$88(this.$36+1).preload()};c.$95=function(){var a=l;this.$12&&(a+=this.$12.scrollHeight);return Math.max(a,n)};c.$53=function(a){__p&&__p();if(this.$46){this.$7={height:this.$46.height,left:this.$46.left,top:this.$46.top,width:this.$46.width};return}if(a){var b=a.scrollWidth,c=a.scrollHeight;a=this.$79(a);c=a*c/b;this.$7.height=c;this.$7.width=a}else this.$7={height:this.$5,left:l,top:this.$95(),width:this.$6}};c.$89=function(a,c){__p&&__p();var d=b("DOM").create("canvas",{className:"_57n6"});d.height=a.height;d.width=a.width;if(d.getContext&&d.getContext("2d"))if(c.scrollHeight===0){a=b("DOM").scry(c.parentNode,"._3t5i");a=a[0];if(a){var e=d.getContext("2d");e.drawImage(a,0,0)}}else if(c instanceof window.HTMLVideoElement){e=new(b("VideoFrameBuffer"))(d,c);e.updateFrameBuffer()}a=b("DOM").create("div");a.appendChild(d);c=b("DOM").create("i",{className:"_1jto _bsl _3htz"});a.appendChild(c);return a};c.$57=function(){this.$19&&this.$55();this.$16.pause("user_initiated");if(b("VideoPlayerExperiments").pauseUpNextControllerWNS){var a=this.$94();a&&a.pause("user_initiated");u&&(u.$50=null)}this.$84()};c.$96=function(){this.$16.emit("WatchAndScroll/collapse")};c.$97=function(){var a=this.$89(this.$7,this.$16.getVideoNode(),!0);this.$14&&this.$14.setState({fadeOut:!0,fadeOutPlaceholder:a});this.$98(this.$17,this.$8);this.$18&&(b("DOM").remove(this.$18),this.$18=null);this.$13&&(this.$13.remove(),this.$13=null)};c.$98=function(a,c,d){__p&&__p();var e;a.pause("user_initiated");a.isPlayerVersion("silvercity")&&a.detachRootNode();d&&b("ReactDOM").unmountComponentAtNode(d);c.dimensions&&c.dimensions.width&&c.dimensions.height&&(a.addOffsetStylings(),a.setDimensions(c.dimensions.width,c.dimensions.height));c.videoRootNode&&b("DOM").appendContent(c.videoRootNode,a.getRootNode());a.emit("WatchAndScroll/positionUpdated");a.updateSource(c.source||"inline");d=this.$73(a.getVideoNode());c=d.top;d=b("getViewportDimensions")().height;!((e=this.$52)==null?void 0:e.disableMuteOnExit)&&a.getSource()!=="permalink"&&a.mute();c<window.scrollY||c>window.scrollY+d||this.$51===!1?(a.pause("autoplay_initiated"),a.emit("resumeAutoplay")):a.play("user_initiated")};c.$90=function(){var a=this;this.$4||i(0,3966);this.$40||i(0,3967);this.$40.setState({fadeOut:!0});this.$45=b("setTimeoutAcrossTransitions")(function(){a.$41||i(0,3968),a.$42||i(0,3969),a.$98(a.$41,a.$43,a.$42),a.$44&&(b("DOM").remove(a.$44),a.$44=null),a.$45=null},r)};c.$56=function(){var a=this;this.$4||i(0,3966);this.$14||i(0,3970);!this.$23&&b("shouldWNSRenderToRHC")()&&b("Arbiter").inform("VideoWatchAndScrollController/exit");this.$35.forEach(function(a){return a.abortLoading()});this.$97();this.$45=b("setTimeoutAcrossTransitions")(function(){b("ReactDOM").unmountComponentAtNode(a.$85()),a.$86()},r)};c.$86=function(){this.$4||i(0,3966),this.$33&&this.$33.abandonRequest(),this.$36=0,this.$1=!1,this.$31.release(),this.$31=new(b("SubscriptionsHandler"))(),this.$8={},this.$16=null,this.$17=null,this.$4=!1,this.$35=[],this.$38=[],this.$14=null,b("clearTimeout")(this.$45),this.$45=null,this.$41&&this.$42&&this.$43&&this.$98(this.$41,this.$43,this.$42),this.$41=null,this.$43={},this.$44&&(b("DOM").remove(this.$44),this.$44=null),b("VideoAutoplayControllerX").setShouldAutoplay(!0),this.$2=null,this.$23&&(this.$46=this.$59(this.$23.getVideoNode()),this.$67(),this.$63(this.$23,"user_initiated"),this.$23=null),this.$29=!1,this.$46=null};c.$91=function(){var a=this;return b("ReactDOM").render(b("React").jsx(b("VideoWatchAndScrollContainer.react"),{isDrawerEnabled:b("VideoPlayerExperiments").rhcWNSDrawerEnabled&&b("shouldWNSRenderToRHC")()&&b("VideoPlayerExperiments").rhcWNSExpandToTahoe,isLiveVideo:function(){return a.$16.isLiveVideo()},initialPosition:this.$7,initialVideoElement:this.$15,onChannelNavigation:this.$99.bind(this),onClick:this.$100.bind(this),onClose:this.$57.bind(this),onCollapse:this.$96.bind(this),onDrop:this.$101.bind(this),onGrab:this.$102.bind(this),onInitialPositionUpdate:this.$103.bind(this),onLoadUpNext:this.registerUpNextUnit.bind(this),onPlayNext:this.$104.bind(this),onReplay:this.$93.bind(this),viewedVideos:Array.from(this.$49),videoID:this.$16.getVideoID()}),this.$85())};c.$84=function(){this.$17&&this.$17.emit("exitWatchAndScroll");if(b("VideoPlayerExperiments").pauseUpNextControllerWNS){var a=this.$94();a&&a.emit("exitWatchAndScroll")}};c.$99=function(a){if(a>0&&this.$35.length<=this.$36){b("shouldWNSRenderToRHC")()||this.$57();return}this.$36+=a;this.$65()};c.$104=function(){var a=this.$94();a&&(this.$50=null,a.emit("crossfadeWatchAndScroll"),this.$51?a.play("autoplay_initiated"):(a.preload(),a.emit("showOverlay")))};c.$102=function(){this.$19&&this.$55();var a=this.$16.getOption("VideoWithLiveBroadcast","isLive");if(a)return;this.$24=this.$16.isState("playing");this.$16.pause("user_initiated")};c.$101=function(){var a=this.$16.getOption("VideoWithLiveBroadcast","isLive");if(a)return;this.$24&&this.$16.play("user_initiated");this.$24=null};c.$100=function(){var a=this.$16.getOption("VideoWithLiveBroadcast","isLive");if(this.$19||a)return;this.$16.isState("playing")?this.$16.pause("user_initiated"):(this.$16.isState("paused")||this.$16.isState("finished")||this.$16.isState("ready"))&&this.$16.play("user_initiated")};c.$87=function(a){__p&&__p();var c=this;if(this.$16===a)return;b("VideoPlayerExperiments").rhcWNSEnabled&&a.addListener("WatchAndScroll/collapse",function(){if(a!=c.$16){a.removeCurrentListener();return}if(!b("shouldWNSRenderToRHC")())return;b("Arbiter").inform("VideoWatchAndScrollController/collapse")});this.$16=a};c.pauseActiveVideo=function(a){if(!this.$16)return;this.$16.pause(a)};a.pauseActiveVideo=function(a){a===void 0&&(a="user_initiated");if(!u)return;u.pauseActiveVideo(a)};c.playActiveVideo=function(a){if(!this.$16)return;this.$16.play(a)};c.registerUpNextUnit=function(a,c){__p&&__p();var d=b("DOM").find(a,"._3iqr");if(!u||!d)return;u.$50=a;u.$51=c;b("EventListener").listen(d,"click",function(a){if(!u)return;var b=u.$94();b&&(a.preventDefault(),a.stopPropagation(),u.$50=null,b.emit("crossfadeWatchAndScroll"),b.play("user_initiated"))})};a.playActiveVideo=function(a){a===void 0&&(a="user_initiated");if(!u)return;u.playActiveVideo(a)};c.$103=function(a){this.$7=a,this.$14&&!this.$14.getFadeOutStatus()&&(this.$16.removeOffsetStylings(),this.$16.setDimensions(a.width,a.height),this.$16.emit("WatchAndScroll/positionUpdated"))};c.$105=function(){var a=b("DOM").create("div");b("shouldWNSRenderToRHC")()?b("ifRequired")("RHCVideoWNSController",function(b){return b.mount(a)}):b("DOM").appendContent(document.body,a);return a};c.$85=function(){this.$2||(this.$2=this.$105());return this.$2};return a}();e.exports=a}),null);
__d("XBasicFBNuxGenShouldShowController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/megaphone/should_show_fbnux/",{nux_id:{type:"Int",required:!0},should_log_view:{type:"Bool",defaultValue:!0},dependencies:{type:"IntVector"}})}),null);
__d("VideoControls",["csx","cx","Arbiter","AsyncRequest","Bootloader","ClippingApi","CSS","DeferredComponent.react","EventListener","FullScreen","LiveRewindUtils","LiveVideoPlayerActions","Parent","React","ReactDOM","SubscriptionsHandler","VideoPlayerExperiments","VideoPlayerUIComponentDrawer","VideoWatchAndScrollController","XBasicFBNuxGenShouldShowController","cancelAnimationFrame","containsNode","destroyOnUnload","getActiveElement","gkx","logVideosClickTracking","promiseDone","requestAnimationFrame","shouldWNSRenderToRHC","throttle"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=new Set(["embedded","embedded_video","embedded_video_preview","embedded_page_plugin","embedded_video_from_ufi"]),j=200,k=4936,l=36,m=b("VideoPlayerExperiments").persistentWNSEnabled;a=function(){"use strict";__p&&__p();function a(a,c,d){__p&&__p();var e=this,f;this.$16={current:null};this.$14=function(){e.$10=!1,e.scheduleRenderReactComponent()};this.$15=a;this.$16.current=this.$15;this.$89=c;this.$9=0;this.$82=0;this.$81=0;this.$28=0;this.$119=!1;this.$90=!1;this.$46=d.hideOnEvents.autoplay;this.$47=d.hideOnEvents.finish;this.$40=d.hideOnEvents.pause;this.$100=d.unhideOnHover;this.$41=d.hidePlaybackControl;this.$42=d.isWatchIconEligible;this.$43=d.hidePlaybackScrubber;this.$101=d.showPlaybackRateControl;this.$105=d.showVideoSliderWarningTooltip;this.$44=d.hideRemainingTime;this.$45=d.hideSettings;this.$116=d.useTwoRows;this.$53=d.isCommentAttachment;this.$83=d.pointsOfInterestConfig||{};this.$18=d.displayElapsedTime||!1;this.$19=d.displayMilliseconds||!1;this.$20=d.displayDurationLimit;this.$21=d.displayTimeOffset;this.$1=d.adBreaks;this.$2=d.adBreaksDisableReasons;this.$104=d.showSpatialAudioNUX;this.$85=(f=d.pollTimestamps)!=null?f:[];this.$67=!1;this.$99=d.shouldShowWNSNUX;this.$10=!1;this.$35=!1;this.$48=d.insertedAdBreaks;this.$49=d.isAdBreakDisabled;this.$50=d.isAdBreakInsertionWithoutGapRule;this.$61=d.isLiveRewindEnabled||this.$15.isFBWasLive();this.$62=this.$15.isFBWasLive();this.$74=null;this.$102=d.showPlayButtonForLive;this.$117=d.videoClipInfo;this.$96=!!d.videoClipInfo;this.$12=null;this.$76=d.mutedSegments;f=a.isHtml5Player();a=a.getPlayerSuborigin();this.$37=d.showButtons.watchandscroll&&f&&a!=="topic_live";this.$3=d.showButtons.casting;this.$4=d.showButtons.fullscreen&&!!b("FullScreen").isSupported();this.$79=d.permalinkURL;this.$97=d.shouldShowInlineCopyLinkOption;this.$98=d.shouldShowPermalinkButton;this.$59=d.isLive;this.$60=d.isGamingVideo;this.$68=d.isSphericalVideo;this.$29=d.forceVisible||!1;this.$39=d.hideGradient||!1;this.$114=d.useDarkTheme||!1;this.$51=!1;this.$54=!1;this.$38=!1;this.$65=!1;this.$66=!1;this.$103=d.showQualitySelector;this.$86=d.qualitySelectorMinStreams;this.$72=this.liveRewindToBeginning.bind(this);this.$70=this.liveRewindSeekBack.bind(this);this.$71=this.liveRewindSeekForward.bind(this);this.$73=this.liveRewindToLive.bind(this);this.$13=this.clipVideo.bind(this);this.$25=this.enterWatchAndScroll.bind(this);this.$24=this.enterTahoe.bind(this);this.$80=this.play.bind(this);this.$78=this.pause.bind(this);this.$91=this.scrubBegin.bind(this);this.$92=this.scrubEnd.bind(this);this.$106=this.startCasting.bind(this);this.$107=this.stopCasting.bind(this);this.$109=this.toggleFullscreen.bind(this);this.$110=this.toggleHD.bind(this);this.$111=this.toggleHLS.bind(this);this.$112=this.toggleMuted.bind(this);this.$113=this.toggleCaptions.bind(this);this.$11=this.changeVolume.bind(this);this.$95=this.setVideoPlaybackRate.bind(this);this.$94=this.setPreferredVideoQuality.bind(this);this.$23=this.$15.registerDrawer(b("VideoPlayerUIComponentDrawer").priorities.EmbeddedControls,l);this.$77=d.needsInitialVideoInfoUpdate;this.$17=this.$15.getSource();this.$30=d.gamesVideoClipButtonEnabled;this.$31=!!d.gamesVideoCreatorClippingGK&&!i.has(this.$17);this.$32=d.gamesDefaultClipLengthInSec;this.$6=d.annotatedMomentsOfInterest||{};this.$55=d.isEmbeddedPlayerRedesignEnabled;this.$115=d.useLargerGradient||!1;m||b("destroyOnUnload")(function(){b("ReactDOM").unmountComponentAtNode(c)});f=this.$15.getRootNode();b("EventListener").listen(this.$89,"focusin",function(){e.$27=!0,e.scheduleRenderReactComponent()});b("EventListener").listen(this.$89,"focusout",function(){b("containsNode")(e.$89,b("getActiveElement")())||(e.$27=!1,e.scheduleRenderReactComponent())});b("EventListener").listen(f,"click",function(a){if(e.$27&&a.detail){a=b("getActiveElement")();a&&a.blur()}});b("EventListener").listen(f,"mouseleave",function(){e.$75=!1,e.scheduleRenderReactComponent()});b("EventListener").listen(f,"mouseenter",function(){e.$75=!0,e.scheduleRenderReactComponent()});this.$15.registerOption("VideoControls","acquireForceHideLock",function(){e.$28++;return{release:function(){e.$28--,e.scheduleRenderReactComponent()}}});this.$15.registerOption("VideoControls","hideOnFinish",function(){return e.$47},function(a){e.$47=a});this.$15.registerOption("VideoControls","hideOnPause",function(){return e.$40},function(a){e.$40=a});this.$15.registerOption("VideoControls","unhideOnHover",function(){return e.$100},function(a){e.$100=a});this.$15.registerOption("VideoControls","hidePlaybackControl",function(){return e.$41},function(a){e.$41=a,e.scheduleRenderReactComponent()});this.$15.registerOption("VideoControls","available",function(){return!0});this.$15.registerOption("VideoControls","areControlsVisible",this.areControlsVisible.bind(this));["mousemove","mousedown","keydown"].forEach(function(a){b("EventListener").listen(e.$15.getRootNode(),a,b("throttle")(e.flashControls.bind(e),200))});this.$108=new(b("SubscriptionsHandler"))();this.scheduleRenderReactComponent();a=["changeVolume","loadedSubtitles","captionsAvailabilityChanged","muteVideo","pausePlayback","stateChange","toggleFullscreen","toggleSubtitles","updateMetadata","unmuteVideo","qualityChange","casting/receiverStateChange","casting/supportStateChange","casting/castingStateChange","casting/playStateChange"];a.forEach(function(a){return e.$108.addSubscriptions(e.$15.addListener(a,function(){return e.scheduleRenderReactComponentWithVideoInfoUpdate()}))});this.$108.addSubscriptions(this.$15.addListener("pauseRequested",function(a){e.$120(a)}),this.$15.addListener("playRequested",function(a){e.$121(a)}),this.$15.addListener("beginPlayback",function(){return e.$122()}),this.$15.addListener("updateStatus",function(a){if(e.$61){var c=e.$15.getSeekableRanges();c&&(e.$69=b("LiveRewindUtils").getRelativePosition(a.position,c))}e.$82=a.position;e.$21&&(e.$82-=e.$21);e.scheduleRenderReactComponent()}),this.$15.addListener("casting/updateStatus",function(a){if(e.$61){var c=e.$15.getSeekableRanges();c&&(e.$69=b("LiveRewindUtils").getRelativePosition(a.position,c))}e.$82=a.position;e.scheduleRenderReactComponent()}),this.$15.addListener("seekRangeChanged",function(a){if(e.$61){a=e.$15.getSeekableRanges();a&&(e.$81=b("LiveRewindUtils").getTotalDuration(a))}}),this.$15.addListener("updateBuffer",function(a){e.$9=a.duration+a.offset,e.scheduleRenderReactComponent()}),this.$15.addListener("optionsChange",function(a){e.$123()}),this.$15.addListener("resumeAutoplay",function(a){e.$124(),e.scheduleRenderReactComponentWithVideoInfoUpdate()}),this.$15.addListener("turnOffAutoplay",function(a){e.$52=!1}),this.$15.addListener("LivePlayer/isRewoundChanged",function(a){a=e.$15.getOption("LivePlayer","isRewound");e.$62!==a&&(e.$62=a,e.scheduleRenderReactComponent())}),this.$15.addListener("blockAudio",function(a){a||(e.$51=!0)}),this.$15.addListener("unblockAudio",function(a){a||(e.$51=!1)}));this.$99&&this.$108.addSubscriptions(this.$15.addListener("VideoWithStallRecovery/bufferingStateOn",function(){e.$35||e.$125(k)}),this.$15.addListener("VideoWithStallRecovery/bufferingStateOff",function(){e.$10=!1}));this.$108.addSubscriptions(this.$15.addListener("finishPlayback",function(){e.scheduleRenderReactComponent(!0)}));this.$123()}var c=a.prototype;c.$126=function(){this.$93=this.$15.getOption("VideoScrubberPreviewComponent","scrubberPreviewSprites"),this.$34=this.$15.getOption("VideoScrubberPreviewComponent","hasPreviewThumbnails"),this.$84=this.$15.getOption("VideoScrubberPreviewComponent","previewThumbnailInformation")};c.$124=function(){this.$52=this.$15.getOption("FeedAutoplay","isAutoplaying")};c.$123=function(){this.$124(),this.$126()};c.$120=function(a){var c=this;this.scheduleRenderReactComponentWithVideoInfoUpdate();this.$59&&this.$61&&a==="user_initiated"&&(!this.$62&&this.$74===null&&(this.$74=window.setTimeout(function(){c.$74=null,b("LiveVideoPlayerActions").setIsRewound(c.$15,!0)},j)))};c.$121=function(a){this.$59&&this.$61&&a==="user_initiated"&&this.$74!==null&&(window.clearTimeout(this.$74),this.$74=null)};c.$122=function(){this.flashControls(),this.$64=!0,this.scheduleRenderReactComponentWithVideoInfoUpdate()};c.$125=function(a){var c=this;a=b("XBasicFBNuxGenShouldShowController").getURIBuilder().setInt("nux_id",a).getURI();new(b("AsyncRequest"))().setURI(a).setMethod("GET").setReadOnly(!0).setHandler(function(a){a=a.getPayload();c.$10=a.should_show_nux}).send()};c.updateConfig_DEPRECATED=function(a,b){this.$79=a.permalinkURL||null,this.$3=a.showButtons?a.showButtons.casting:!1,this.$59=!!a.isLive,this.$1=a.adBreaks||null,this.$115=a.useLargerGradient||!1,this.scheduleRenderReactComponent()};c.updateAdBreaksConfig=function(a){this.$48=a.insertedAdBreaks,this.$49=a.isAdBreakDisabled,this.$50=a.isAdBreakInsertionWithoutGapRule,this.$29=!a.isPreviewingAdBreak,this.scheduleRenderReactComponent()};c.updateTwoRowsConfig=function(a){this.$116=a.useTwoRows,this.$53=a.isCommentAttachment,this.scheduleRenderReactComponent()};c.flashControls=function(){var a=this;this.$87||(this.$87=!0,this.scheduleRenderReactComponent());window.clearTimeout(this.$26);this.$26=window.setTimeout(function(){a.$87=!1,a.scheduleRenderReactComponent()},3e3)};c.areControlsVisible=function(){__p&&__p();var a=this;if(!this.areControlsEnabled())return!1;if(this.$29||this.$10||this.$65||this.$66)return!0;if(this.$15.isState("playing")){if(this.$96){this.$12||(this.$12=window.setTimeout(function(){a.$96=!1},5e3));return!0}else if(this.$46&&this.$52)return!1;return this.$27||this.$75&&this.$87}else if(this.$15.isState("finished")){var b=this.$15.getSource()==="tahoe";return this.$15.isFullscreen()||b||!this.$47}else if(this.$15.isState("paused"))return this.$15.isFullscreen()||!this.$40||this.$100&&(this.$27||this.$75&&this.$87);return!1};c.areControlsEnabled=function(){var a=this.$15.getSource()==="tahoe";return this.$28>0||this.$15.isState("loading")||this.$15.isState("fallback")||this.$15.getOption("SottoPaywall","enable")||this.$15.isState("finished")&&this.$47&&!this.$15.isFullscreen()&&!a?!1:!0};c.scheduleRenderReactComponentWithVideoInfoUpdate=function(){this.$77=!0,this.scheduleRenderReactComponent(!0)};c.shouldRenderComponent=function(){__p&&__p();if(this.$15.isState("loading")||this.$15.isState("fallback"))return!1;if(this.areControlsVisible()){this.$38=!1;return!0}if(!this.$38){this.$38=!0;return!0}return!1};c.scheduleRenderReactComponent=function(a){a===void 0&&(a=!1);if(!a&&!this.shouldRenderComponent())return;b("cancelAnimationFrame")(this.$88);this.$88=b("requestAnimationFrame")(this.renderReactComponent.bind(this))};c.renderReactComponent=function(){__p&&__p();var a=this;if(b("VideoPlayerExperiments").delayVideoControlRenderForApiReady&&this.$15.getState()==="loading"&&!this.$90){this.$90=!0;this.$15.runOnApiReady(function(){a.scheduleRenderReactComponent()});return}this.$77&&this.$127();this.$54=!1;if(this.$76)for(var c=this.$76,e=Array.isArray(c),f=0,c=e?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=c.length)break;g=c[f++]}else{f=c.next();if(f.done)break;g=f.value}g=g;this.$82>=g.mute_start_time_in_sec&&this.$82<=g.mute_end_time_in_sec&&(this.$54=!0)}g=this.areControlsVisible();this.$119!==g&&(this.$15.emit("VideoControls/visibilityUpdate",{areControlsVisible:g}),g?this.$23.reserve():this.$23.release(),this.$15.isState("destroyed")||b("CSS").conditionClass(this.$15.getRootNode(),"_302m",!g));this.$119=g;f=this.$15.getAvailableVideoQualities();e=this.$15.getPreferredVideoQuality();c=this.$15.getSelectedVideoQuality();var h=this.$15.canAutoSelectVideoQuality(),j=this.$15.getStreamingFormat(),k=null;this.$15.hasOption("LiveHeatmap","interestLevels")&&(k=this.$15.getOption("LiveHeatmap","interestLevels"));var l=this.$67;this.$67=b("VideoPlayerExperiments").slidingWNSv3&&this.$37&&b("VideoWatchAndScrollController").isSlidingEnabled(this.$15);l!==this.$67&&this.$15.logEvent(this.$67?"watch_and_scroll_icon_highlighted":"watch_and_scroll_icon_unhighlighted");l=this.$15.getSource()==="tahoe";var m=this.$15.getSource()==="watch_scroll",n=this.$15.isFBIsLiveTemplated()||this.$15.isFBWasLive();n=this.$61&&n&&(this.$15.isFBWasLive()||this.$15.getState()!=="finished");b("ReactDOM").render(b("React").jsx(b("DeferredComponent.react"),{deferredPlaceholder:b("React").jsx("span",{}),deferredComponent:function(a){return d(["VideoControls.react"],a)},allowCasting:this.$3,allowFullscreen:this.$4,annotatedMomentsOfInterest:this.$6,areCaptionsActive:this.$7,areCaptionsAutogenerated:this.$8,areHLSActive:this.$5,bufferedPosition:this.$9,finishedPlaying:this.$15.isState("finished"),hasFoundReceiver:this.hasFoundReceiver(),hasHD:this.$33,hasCaptions:this.$36,hasWatchAndScroll:this.$37&&!this.getIsInChannel(),hidden:!this.areControlsEnabled(),hideGradient:this.$39,isAudioBlocked:this.$51||this.$54&&b("gkx")("797757"),isCasting:this.isCasting(),isCastingSupported:this.isCastingSupported(),isCommentAttachment:this.$53,isEmbedded:i.has(this.$17),isEmbeddedPlayerRedesignEnabled:this.$55,isFullscreen:this.$56,isHD:this.$57,isInline:this.$58,isInTahoe:l,isInWatchAndScroll:m,isLive:this.$59,isLiveRewindEnabled:n,isLiveRewound:this.$62,isFBWasLive:this.$15.isFBWasLive(),isSphericalVideo:this.$68,isMuted:this.$63,isPlaying:this.$64,isSidePaneOpen:this.getIsInChannel()&&!!b("Parent").bySelector(this.$89,"._57bj"),isSlidingWNSEligible:this.$67,interestLevels:k,liveRelativePlaybackPosition:this.$69,drawer:this.$23,onActionsClick:function(){a.$66=!a.$66},onAnnotatedMomentOfInterestSelect:function(b){a.$15.seek(b)},onEnterWatchAndScroll:this.$25,onEnterTahoe:this.$24,doesFullscreenEnterTahoe:this.$22,onLiveRewindToBeginning:this.$72,onLiveRewindSeekBack:this.$70,onLiveRewindSeekForward:this.$71,onLiveRewindToLive:this.$73,onWNSNUXClose:this.$14,onClipVideo:this.$13,onPause:this.$78,onPlay:this.$80,onScrubBegin:this.$91,onScrubEnd:this.$92,onSetVideoPlaybackRate:this.$95,onSettingsClick:function(){a.$65=!a.$65},onSidePaneToggle:function(){b("Arbiter").inform("VideoChannelView/sidePaneToggle",{})},onStartCast:this.$106,onStopCast:this.$107,onToggleFullscreen:this.$109,onToggleHD:this.$110,onToggleHLS:this.$111,onToggleMuted:this.$112,onToggleCaptions:this.$113,onVolumeChange:this.$11,permalinkURL:this.$79,showInlineCopyLinkOption:this.$97,showPermalinkButton:this.$98,playbackDuration:this.$81,playbackPosition:this.$82,transparent:!g,hidePlaybackControl:this.$41,isWatchIconEligible:this.$42,hidePlaybackScrubber:this.$43,showPlaybackRateControl:this.$101,showPlayButtonForLive:this.$102,showVideoSliderWarningTooltip:this.$105,hideRemainingTime:this.$44,hideSettings:this.$45,useTwoRows:this.$116,volume:this.$118,scrubberPreviewSprites:this.$93,hasScrubberPreview:this.$34&&!m,previewThumbnailInformation:this.$84,availableQualities:f,selectedQuality:c,preferredQuality:e,canAutoSelectVideoQuality:h,onSelectQuality:this.$94,showQualitySelector:this.$103,qualitySelectorMinStreams:this.$86,streamingFormat:j,showSpatialAudioNUX:this.$104,onPointOfInterestSelect:this.$83.onPointOfInterestSelect,currentPointOfInterest:this.$83.currentPointOfInterest,pointsOfInterest:this.$83.pointsOfInterest,showPointOfInterestTimestamps:this.$83.showPointOfInterestTimestamps,displayElapsedTime:this.$18,displayMilliseconds:this.$19,adBreaks:this.$1,pollTimestamps:this.$85.filter(function(b){return b<=a.$81}),vpcID:this.$15.getVideoPlayerID(),adBreaksDisableReasons:this.$2,showSidePaneToggle:!1,showWNSNUX:this.$10&&this.areControlsEnabled()&&this.$99,insertedAdBreaks:this.$48,isAdBreakDisabled:this.$49,isAdBreakInsertionWithoutGapRule:this.$50,useDarkTheme:this.$114,videoID:this.$15.getVideoID(),videoClipInfo:this.$117?this.$117:void 0,gamesVideoClipButtonEnabled:this.$30,gamesVideoCreatorClipping:this.$31,gamesDefaultClipLengthInSec:this.$32,useLargerGradient:this.$115}),this.$89);this.$10&&this.areControlsEnabled()&&this.$99&&(this.$35=!0)};c.$127=function(){__p&&__p();var a=this.$15.getVideoInfo_DEPRECATED();if(a){this.$7=this.$15.areSubtitlesActive();this.$8=this.$15.areSubtitlesAutogenerated();this.$36=this.$15.hasSubtitles();this.$33=a.hasHD;this.$57=a.isHD;this.$63=a.isMuted;this.$64=a.isPlaying||this.isCastPlaying();if(this.$61){var c=this.$15.getSeekableRanges();c&&(this.$81=b("LiveRewindUtils").getTotalDuration(c))}else this.$20!==null&&this.$20!==void 0?this.$81=Math.min(a.playbackDuration,this.$20):this.$81=a.playbackDuration;this.$118=a.volume;c=this.$15.getOption("CommercialBreakVideoAdOverlay","videoController");c?this.$56=c.isFullscreen():this.$56=this.$15.isFullscreen();c=this.$15.getPlayerOrigin();switch(this.$15.getSource()){case"inline":case"discover":case"continue_watching_recommendation":case"topic_live":case"entry_point":this.$58=!0;break;case"permalink":this.$58=c==="video_home";break;case"games_video_home_hero":this.$58=c==="games_video_hub";break;default:this.$58=!1;break}this.$59=a.isLiveStream;this.$5=a.areHLSActive;this.$77=!1;this.$22=this.$15.listeners("enterTahoe").length!==0}};c.toggleHD=function(){this.$15.toggleHD()};c.setPreferredVideoQuality=function(a){a?this.$15.setPreferredVideoQuality(a):this.$15.unsetPreferredVideoQuality()};c.toggleHLS=function(){this.$15.switchToStreamType("hls")};c.clipVideo=function(a){b("promiseDone")(b("ClippingApi").clipVideo(this.$16,this.$15.getVideoID(),this.$15.getCurrentTimePosition(),this.$89))};c.enterWatchAndScroll=function(){b("shouldWNSRenderToRHC")()?this.$15.emit("crossfadeWatchAndScroll"):this.$15.emit("enterWatchAndScroll")};c.enterTahoe=function(){var a=this;this.$15.getSource()==="watch_scroll"?(this.$15.logEvent("watch_and_scroll_channel_entered"),b("Bootloader").loadModules(["TahoeController","URI"],function(c,d){var e=new d(a.$15.getVideoURL());d=babelHelpers["extends"]({},d.getRequestURI().getQueryData(),{ref:"tahoe"});b("VideoWatchAndScrollController").onEnterTahoe();c.openFromVideoPlayer(a.$15,e.setQueryData(d),a.$15.getVideoChannelID(),"wns")},"VideoControls")):this.$15.emit("enterTahoe")};c.scrubBegin=function(){this.isCasting()||this.$15.pause("seek_initiated")};c.scrubEnd=function(a){__p&&__p();if(this.$61){var c=this.$15.getSeekableRanges();if(c){var d=this.$69;this.$69=a;a=b("LiveRewindUtils").getAbsolutePosition(a,c);c=b("LiveRewindUtils").getLiveHeadTimestamp(c);c=c-a<1;b("LiveVideoPlayerActions").setIsRewound(this.$15,!c);b("LiveRewindUtils").logLiveRewindEvent("scrubber",this.$15,d,null,null,a)}}this.$21&&(a+=this.$21);this.$15.seek(a,"user_initiated");this.$82=a;c=this.$64||this.$15.isState("finished")&&!this.$47;!this.isCasting()&&c&&this.$15.play("seek_initiated")};c.toggleMuted=function(){this.$15.isMuted()?(b("logVideosClickTracking")(this.$15.getVideoNode()),this.$15.unmute()):this.$15.mute()};c.toggleFullscreen=function(){this.$15.isFullscreen()||b("logVideosClickTracking")(this.$15.getVideoNode()),this.$15.toggleFullscreen()};c.toggleCaptions=function(){this.$15.toggleSubtitles(),this.scheduleRenderReactComponent()};c.changeVolume=function(a){this.$15.setVolume(a)};c.liveRewindToBeginning=function(){b("LiveRewindUtils").goToBeginning(this.$15)};c.liveRewindSeekBack=function(){b("LiveRewindUtils").seekBack(this.$15)};c.liveRewindSeekForward=function(){b("LiveRewindUtils").seekForward(this.$15)};c.liveRewindToLive=function(){b("LiveRewindUtils").goToLive(this.$15)};c.play=function(){b("logVideosClickTracking")(this.$15.getVideoNode()),this.isCasting()?this.$15.setOption("casting","isPlaying",!0):this.$15.play("user_initiated"),this.$59&&this.$61&&b("LiveRewindUtils").logLiveRewindEvent("play",this.$15,this.$69,null,this.$69,null)};c.pause=function(){this.isCasting()?this.$15.setOption("casting","isPlaying",!1):this.$15.pause("user_initiated"),this.$59&&this.$61&&(b("LiveVideoPlayerActions").setIsRewound(this.$15,!0),b("LiveRewindUtils").logLiveRewindEvent("pause",this.$15,this.$69,null,this.$69,null))};c.setVideoPlaybackRate=function(a){this.$15.setPlaybackRate(a)};c.startCasting=function(){this.$15.setOption("casting","isCasting",!0)};c.stopCasting=function(){this.$15.setOption("casting","isCasting",!1)};c.isCastPlaying=function(){return this.$15.getOption("casting","isPlaying")};c.hasFoundReceiver=function(){return this.$15.getOption("casting","hasFoundReceiver")};c.isCasting=function(){return this.$15.getOption("casting","isCasting")};c.isCastingSupported=function(){return this.$15.getOption("casting","isSupported")};c.updatePointsOfInterestConfig=function(a){Object.assign(this.$83,a),this.scheduleRenderReactComponent()};c.updateDisplayElapsedTime=function(a){this.$18=a,this.scheduleRenderReactComponent()};c.updateDisplayTimeRangeConfig=function(a){this.$20=a.displayDurationLimit,this.$21=a.displayTimeOffset,this.scheduleRenderReactComponentWithVideoInfoUpdate()};c.getIsInChannel=function(){return this.$15.getIsInChannel()};c.unregister=function(){b("cancelAnimationFrame")(this.$88),this.$108.release(),this.$16.current=null};return a}();e.exports=a}),null);
__d("AgnosticEmbeddedVideoApiComponent",["EventEmitter"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b,c){__p&&__p();var d;d=a.call(this)||this;d.$AgnosticEmbeddedVideoApiComponent1=b;c("Connect.Unsafe.play",function(){d.emit("play")});c("Connect.Unsafe.pause",function(){d.emit("pause")});c("Connect.Unsafe.seek",function(a,b){d.emit("seek",a,b)});c("Connect.Unsafe.mute",function(){d.emit("mute")});c("Connect.Unsafe.unmute",function(){d.emit("unmute")});c("Connect.Unsafe.setVolume",function(a,b){d.emit("setVolume",a,b)});return d}var c=b.prototype;c.notifyStartedPlaying=function(){this.$AgnosticEmbeddedVideoApiComponent2("startedPlaying")};c.notifyFinishedPlaying=function(){this.$AgnosticEmbeddedVideoApiComponent2("finishedPlaying")};c.notifyPaused=function(){this.$AgnosticEmbeddedVideoApiComponent2("paused")};c.notifyStartedBuffering=function(){this.$AgnosticEmbeddedVideoApiComponent2("startedBuffering")};c.notifyFinishedBuffering=function(){this.$AgnosticEmbeddedVideoApiComponent2("finishedBuffering")};c.notifyError=function(){this.$AgnosticEmbeddedVideoApiComponent2("error")};c.notifyStateUpdate=function(a){this.$AgnosticEmbeddedVideoApiComponent1({type:"cachedStateUpdateRequest",data:JSON.stringify(a)})};c.notifyVideoAPIReady=function(a){this.$AgnosticEmbeddedVideoApiComponent1({type:"onVideoAPIReady",data:JSON.stringify(a)})};c.$AgnosticEmbeddedVideoApiComponent2=function(a){this.$AgnosticEmbeddedVideoApiComponent1({type:"stateChange",state:a})};return b}(b("EventEmitter"));e.exports=a}),null);
__d("WWWEmbeddedVideoAPIComponent",["AgnosticEmbeddedVideoApiComponent","Arbiter","UnverifiedXD"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();var c=this;this.$1=a;this.$2=new(b("AgnosticEmbeddedVideoApiComponent"))(b("UnverifiedXD").send.bind(b("UnverifiedXD")),b("Arbiter").subscribe.bind(b("Arbiter")));this.$2.addListener("play",function(){c.$1.play("embedded_video_api_initiated")});this.$2.addListener("pause",function(){c.$1.pause("embedded_video_api_initiated")});this.$2.addListener("seek",function(a,b){c.$1.seek(b.target)});this.$2.addListener("mute",function(){c.$1.mute()});this.$2.addListener("unmute",function(){c.$1.unmute()});this.$2.addListener("setVolume",function(a,b){c.$1.setVolume(b.volume)});this.$1.addListener("stateChange",function(){if(c.$1.isState("ready")){var a={isMuted:c.$1.isMuted(),volume:c.$1.getVolume(),timePosition:c.$1.getCurrentTimePosition(),duration:c.$1.getPlaybackDuration()};c.$2.notifyVideoAPIReady(a)}else c.$1.isState("playing")?c.$2.notifyStartedPlaying():c.$1.isState("paused")?c.$2.notifyPaused():c.$1.isState("finished")&&c.$2.notifyFinishedPlaying()});this.$1.addListener("updateStatus",function(a){if(a.position!==void 0){a={timePosition:a.position};c.$2.notifyStateUpdate(a)}});this.$1.addListener("buffering",function(){c.$2.notifyStartedBuffering()});this.$1.addListener("buffered",function(){c.$2.notifyFinishedBuffering()});this.$1.addListener("error",function(){c.$2.notifyError()});this.$1.addListener("updateMetadata",function(a){a={duration:c.$1.getPlaybackDuration()};c.$2.notifyStateUpdate(a)});this.$1.addListener("muteVideo",function(){var a={isMuted:!0};c.$2.notifyStateUpdate(a)});this.$1.addListener("unmuteVideo",function(){var a={isMuted:!1};c.$2.notifyStateUpdate(a)});this.$1.addListener("changeVolume",function(a){a={volume:a.volume,isMuted:a.volume===0};c.$2.notifyStateUpdate(a)});if(!this.$1.isState("loading")&&!this.$1.isState("fallback")){a={isMuted:this.$1.isMuted(),volume:this.$1.getVolume(),timePosition:this.$1.getCurrentTimePosition(),duration:this.$1.getPlaybackDuration()};this.$2.notifyVideoAPIReady(a)}};e.exports=a}),null);
__d("SphericalVideoFallback",["cx","CSS"],(function(a,b,c,d,e,f,g){__p&&__p();a={setup:function(a,c){__p&&__p();var d=c.fallbackUriList,e=c.fallbackType,f=function(){__p&&__p();a.emit("VideoPlayerFallbackEvents/enter");var c=a.getLastError();if(c&&c.error!=="SPHERICAL_SETUP_FAILED"&&c.error!=="SPHERICAL_RENDER_ERROR")return;var f=a.addListener("stateChange",function(){a.isState("playing")&&(a.logEvent("spherical_fallback_entered",{spherical_fallback_type:e}),f.remove())});a.setFallbackSources(d);b("CSS").removeClass(a.getRootNode(),"_3-n5");a.reset();a.emit("VideoPlayerFallbackEvents/recover")};if(a.isState("fallback"))f();else var g=a.addListener("stateChange",function(){a.isState("fallback")&&(f(),g.remove())})}};e.exports=a}),null);
__d("VideoErrorOverlay",["SphericalVideoFallback"],(function(a,b,c,d,e,f){__p&&__p();function g(a,b){"textContent"in a&&(a.textContent=b),a.innerText=b}function h(a){if("textContent"in a)return a.textContent;return!a.innerText?"":a.innerText}a=function(){"use strict";__p&&__p();function a(a,c,d,e,f){__p&&__p();var g=this;this.$1=c;this.$2=d;this.$3=e;a.registerOption("VideoErrorOverlay","title",function(){return g.getTitle()},function(a){return g.setTitle(a)});a.registerOption("VideoErrorOverlay","message",function(){return g.getMessage()},function(a){return g.setMessage(a)});a.registerOption("VideoErrorOverlay","linkURL",function(){return g.getLinkURL()},function(a){return g.setLinkURL(a)});a.registerOption("VideoErrorOverlay","linkTitle",function(){return g.getLinkTitle()},function(a){return g.setLinkTitle(a)});a.registerOption("VideoErrorOverlay","available",function(){return!0});f&&b("SphericalVideoFallback").setup(a,f)}var c=a.prototype;c.getTitle=function(){return this.$1?h(this.$1):""};c.setTitle=function(a){this.$1&&g(this.$1,a)};c.getMessage=function(){return h(this.$2)};c.setMessage=function(a){g(this.$2,a)};c.getLinkURL=function(){return this.$3.href};c.setLinkURL=function(a){this.$3.href=a};c.getLinkTitle=function(){return h(this.$3)};c.setLinkTitle=function(a){g(this.$3,a)};return a}();e.exports=a}),null);
__d("BladeRunnerConfig",["RTISubscriptionManagerConfig","nullthrows"],(function(a,b,c,d,e,f){__p&&__p();var g="javascript-sandbox",h="www_sandbox";function i(a){var c=b("nullthrows")(a.method);return!c.startsWith("FBLQ")||a.config_id=="test_silq"}a=function(){"use strict";__p&&__p();function a(){}var c=a.prototype;c.patchRequestHeaders=function(a){var c={},d=b("RTISubscriptionManagerConfig").bladerunner_www_sandbox,e=b("RTISubscriptionManagerConfig").bladerunner_php_sandbox;d!=null&&(c[g]=d);for(var f in a)c[f]=a[f];e!=null&&i(a)&&(c[h]=e);return c};return a}();c=new a();e.exports=c}),null);
__d("BanzaiLogger",["Banzai"],(function(a,b,c,d,e,f){function g(a){return{log:function(c,d){b("Banzai").post("logger:"+c,d,a)},create:g}}a=g();e.exports=a}),null);
__d("MqttPublishListener",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({NOT_CONNECTED:"NOT_CONNECTED",PUBLISH_ERROR:"PUBLISH_ERROR",QUEUED:"QUEUED",SENT:"SENT",ACKED:"ACKED",NOT_ACKED:"NOT_ACKED"});e.exports={MqttPublishEvent:a}}),null);
__d("RequestStreamE2EClientLoggerEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({RECEIVED:"received",SENT:"sent",FAILURE:"failure",PUBACK:"puback"})}),null);
__d("RequestStreamE2EClientLoggerMessageType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({REQUEST_STREAM:"request_stream",AMENDMENT:"amendment",AMENDMENT_ACK:"amendment_ack",CANCEL:"cancel",RESPONSE:"response",RESPONSE_ACK:"response_ack",TIMED_REQUEST:"timed_request",INTERRUPT:"interrupt"})}),null);
__d("BladeRunnerLogger",["BanzaiLogger","BanzaiODS","BladeRunnerTypes","CurrentUser","FBLogger","MqttPublishListener","Random","RealtimeRequestStreamWebClientTypedLogger","RequestStreamE2EClientLoggerEvent","RequestStreamE2EClientLoggerMessageType","RequestStreamE2EClientSamplingConfig","gkx"],(function(a,b,c,d,e,f){__p&&__p();var g=b("MqttPublishListener").MqttPublishEvent,h="bladerunner_js_client",i={info:"info",warning:"warning",exception:"exception"};a=function(){"use strict";__p&&__p();function a(){this.$1=this.$4(),this.setFBLoggerLevel(1)}var c=a.prototype;c.info=function(a){this.$3>=2&&b("FBLogger")(h).info(a),this.$5(i.info,a)};c.warn=function(a){this.$3>=1&&b("FBLogger")(h).warn(a),this.$5(i.warning,a)};c.exception=function(a,c){c===void 0&&(c="");c=c+" "+a.toString();this.$3>=0&&b("FBLogger")(h).warn(c);this.$5(i.exception,c)};c.trimForLogging=function(a){var b=1024;return typeof a==="string"&&a.length>b?"[trimmed]:"+a.substring(0,b)+"...":a};c.bumpCounter=function(a,c){c===void 0&&(c=1),b("BanzaiODS").bumpEntityKey(2966,"BladeRunnerClient",a,c)};c.setClientSessionId=function(a){this.$2=a};c.setFBLoggerLevel=function(a){this.$3=a};c.$5=function(a,c){if(this.$1){a=new(b("RealtimeRequestStreamWebClientTypedLogger"))().setClientTimeMs(Date.now()).setSeverity(a).setMessage(this.trimForLogging(c)).setClientSessionID(this.$2).setUserFbid(b("CurrentUser").getID());a.log()}};c.$4=function(){return b("gkx")("676834")};c.shouldLogE2E=function(a){var c=b("RequestStreamE2EClientSamplingConfig").sampleRate;if(c>1&&a!=null){a=b("RequestStreamE2EClientSamplingConfig").methodToSamplingMultiplier[a];a===0?c=0:a!=null&&(c/=a)}return b("Random").coinflip(c)};c.logE2EEvent=function(a,c,d,e,f){__p&&__p();c===void 0&&(c=b("RequestStreamE2EClientLoggerEvent").RECEIVED);d===void 0&&(d=null);e===void 0&&(e=null);f===void 0&&(f=null);if(d==null)return;a={request_id:d.requestId,message_type:a,event:c,method:e,timestamp:Date.now()/1e3};d.auxId&&(a.aux_id=d.auxId);f!=null&&(a.additional_data=f);b("BanzaiLogger").log("RequestStreamE2EClientLoggerConfig",a)};c.logFrameWithMQTTEvent=function(a,c){switch(c){case g.SENT:this.logFrame(a,b("RequestStreamE2EClientLoggerEvent").SENT);break;case g.ACKED:this.logFrame(a,b("RequestStreamE2EClientLoggerEvent").PUBACK);break;case g.NOT_ACKED:case g.NOT_CONNECTED:case g.PUBLISH_ERROR:this.logFrameFailure(a,c)}};c.logFrameFailure=function(a,c){this.logFrame(a,b("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:c})};c.logFrame=function(a,c,d){__p&&__p();d===void 0&&(d=null);var e=null,f=null,g=null;switch(a.type){case b("BladeRunnerTypes").StreamFrameType.REQUEST:e=b("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM;var h=a.getRequest();f=h.getHeaders().method;g=h.getInstrumentationData();break;case b("BladeRunnerTypes").StreamFrameType.DATA:e=b("RequestStreamE2EClientLoggerMessageType").AMENDMENT;g=a.getData().getInstrumentationData();break}g!=null&&e!=null&&this.logE2EEvent(e,c,g,f,d)};return a}();c=new a();e.exports=c}),null);
__d("BladeRunnerTypesInternal",["Base64","BladeRunnerLogger","BladeRunnerTypes"],(function(a,b,c,d,e,f){__p&&__p();var g=function(){"use strict";__p&&__p();function a(){}var b=a.prototype;b.getHeaders=function(){if(this.headers!=null)return this.headers;throw new Error("Expected headers")};b.getInstrumentationData=function(){if(this.instrumentationData!=null)try{return JSON.parse(this.instrumentationData)}catch(a){return null}else return null};a.readObject=function(b){var c=new a();c.streamId=n(b.streamId);c.requestType=n(b.requestType);c.payload=q(b.payload);c.headers=t(b.headers);c.extraHeader=q(b.extraHeader);c.requestTarget=q(b.requestTarget);c.instrumentationData=q(b.instrumentationData);return c};return a}(),h=function(){"use strict";__p&&__p();function a(){}a.readObject=function(b){var c=new a();c.streamId=n(b.streamId);c.dataId=o(b.dataId);c.data=q(b.data);c.shouldAck=v(b.shouldAck);return c};var c=a.prototype;c.decodeData=function(){if(this.data==null)throw new Error("Expected data");return b("Base64").decode(this.data)};c.setData=function(a){this.data=b("Base64").encode(a)};c.getInstrumentationData=function(){if(this.instrumentationData!=null)return JSON.parse(this.instrumentationData);else return null};return a}(),i=function(){"use strict";__p&&__p();function a(){}a.readObject=function(b){var c=new a();c.streamId=n(b.streamId);c.dataId=n(b.dataId);c.success=u(b.success);c.message=q(b.message);c.code=o(b.code);return c};return a}();i.ACK_CODE_LANDED_AND_ACCEPTED=20;i.ACK_CODE_LANDED_BUT_NOT_ACCEPTED=21;i.ACK_CODE_FAILED_TO_LAND=50;var j=function(){"use strict";function a(){}a.readObject=function(b){var c=new a();c.streamId=o(b.streamId);c.message=q(b.message);return c};return a}(),k=function(){"use strict";__p&&__p();function a(){}a.readObject=function(b){var c=new a();c.streamId=n(b.streamId);c.status=n(b.status);c.message=q(b.message);c.code=o(b.code);c.shouldRetry=v(b.shouldRetry);c.retryDelayMs=o(b.retryDelayMs);return c};return a}(),l=function(){"use strict";__p&&__p();function a(){}a.readObject=function(b){var c=new a();c.streamId=n(b.streamId);c.newBody=q(b.newBody);c.newExtraHeader=q(b.newExtraHeader);c.patchExtraHeader=q(b.patchExtraHeader);c.killBody=v(b.killBody);c.temporary=v(b.temporary);return c};return a}(),m=function(){"use strict";__p&&__p();function a(){}var c=a.prototype;c.getRequest=function(){if(this.type==b("BladeRunnerTypes").StreamFrameType.REQUEST&&this.request!=null)return this.request;throw new Error("Expected request")};c.getData=function(){if(this.type==b("BladeRunnerTypes").StreamFrameType.DATA&&this.data!=null)return this.data;throw new Error("Expected data")};c.getDataAck=function(){if(this.type==b("BladeRunnerTypes").StreamFrameType.DATA_ACK&&this.dataAck!=null)return this.dataAck;throw new Error("Expected dataAck")};c.getStatusUpdate=function(){if(this.type==b("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE&&this.statusUpdate!=null)return this.statusUpdate;throw new Error("Expected status update")};c.getLog=function(){if(this.type==b("BladeRunnerTypes").StreamFrameType.LOG&&this.log!=null)return this.log;throw new Error("Expected log")};c.getRewriteRequest=function(){if(this.type==b("BladeRunnerTypes").StreamFrameType.REWRITE_REQUEST&&this.rewriteRequest!=null)return this.rewriteRequest;throw new Error("Expected rewrite request")};c.getStreamId=function(){__p&&__p();if(this.type==b("BladeRunnerTypes").StreamFrameType.REQUEST&&this.request!=null)return this.request.streamId;if(this.type==b("BladeRunnerTypes").StreamFrameType.DATA&&this.data!=null)return this.data.streamId;if(this.type==b("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE&&this.statusUpdate!=null)return this.statusUpdate.streamId;if(this.type==b("BladeRunnerTypes").StreamFrameType.LOG&&this.log!=null)return this.log.streamId;if(this.type==b("BladeRunnerTypes").StreamFrameType.REWRITE_REQUEST&&this.rewriteRequest!=null)return this.rewriteRequest.streamId;if(this.type==b("BladeRunnerTypes").StreamFrameType.DATA_ACK&&this.dataAck!=null)return this.dataAck.streamId;throw new Error("Frame with unexpected type")};c.isInstrumented=function(){if(this.type===b("BladeRunnerTypes").StreamFrameType.REQUEST)return this.getRequest().instrumentationData!=null;else if(this.type===b("BladeRunnerTypes").StreamFrameType.DATA)return this.getData().instrumentationData!=null;else return!1};a.readObject=function(c){__p&&__p();var d=new a();d.type=n(c.type);switch(d.type){case b("BladeRunnerTypes").StreamFrameType.REQUEST:d.request=g.readObject(r(c.request));break;case b("BladeRunnerTypes").StreamFrameType.DATA:d.data=h.readObject(r(c.data));break;case b("BladeRunnerTypes").StreamFrameType.DATA_ACK:d.dataAck=i.readObject(r(c.dataAck));break;case b("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE:d.statusUpdate=k.readObject(r(c.statusUpdate));break;case b("BladeRunnerTypes").StreamFrameType.LOG:d.log=j.readObject(r(c.log));break;case b("BladeRunnerTypes").StreamFrameType.REWRITE_REQUEST:d.rewriteRequest=l.readObject(r(c.rewriteRequest));break;default:b("BladeRunnerLogger").warn("Frame with unexpected type: "+d.type);return null}return d};a.newRequestFrame=function(c){var d=new a();d.type=b("BladeRunnerTypes").StreamFrameType.REQUEST;d.request=c;return d};a.newDataFrame=function(c){var d=new a();d.type=b("BladeRunnerTypes").StreamFrameType.DATA;d.data=c;return d};a.newDataAckFrame=function(c){var d=new a();d.type=b("BladeRunnerTypes").StreamFrameType.DATA_ACK;d.dataAck=c;return d};a.newStatusUpdateFrame=function(c){var d=new a();d.type=b("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE;d.statusUpdate=c;return d};a.newLogFrame=function(c){var d=new a();d.type=b("BladeRunnerTypes").StreamFrameType.LOG;d.log=c;return d};a.newRewriteRequestFrame=function(c){var d=new a();d.type=b("BladeRunnerTypes").StreamFrameType.REWRITE_REQUEST;d.rewriteRequest=c;return d};return a}();a=function(){"use strict";__p&&__p();function a(a,b,c){this.batchId=a,this.frames=b,this.instrumentationData=c}var b=a.prototype;b.getFrames=function(){if(this.frames!=null)return this.frames;throw new Error("Expected frames")};b.getInstrumentationData=function(){if(this.instrumentationData!=null)try{return JSON.parse(this.instrumentationData)}catch(a){return null}else return null};b.write=function(){return JSON.stringify(this)};b.isInstrumented=function(){return this.getFrames().some(function(a){return a.isInstrumented()})};a.read=function(b){__p&&__p();b=JSON.parse(b);var c=b.batchId||0,d=[];for(var e=b.frames,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;h=m.readObject(h);h!=null&&d.push(h)}h=b.instrumentationData||null;return new a(c,d,h)};return a}();function n(a){if(typeof a==="number")return a;throw new Error("Expected number")}function o(a){return a==null?null:n(a)}function p(a){if(typeof a==="string")return a;throw new Error("Expected string")}function q(a){return a==null?null:p(a)}function r(a){if(typeof a==="object"&&a!=null)return a;throw new Error("Expected object")}function s(a){if(typeof a==="object"&&a!=null){var b=a,c={};Object.keys(b).forEach(function(a){var d=b[a];typeof d==="string"&&d!=null&&(c[a]=d)});return c}throw new Error("Expected string map")}function t(a){return a==null?null:s(a)}function u(a){if(typeof a==="boolean"&&a!=null)return a;throw new Error("Expected boolean")}function v(a){return a==null?null:u(a)}e.exports={GatewayStreamBatch:a,GatewayStreamData:h,GatewayStreamDataAck:i,GatewayStreamFrame:m,GatewayStreamLog:j,GatewayStreamRequest:g,GatewayStreamRewriteRequest:l,GatewayStreamStatusUpdate:k}}),null);
__d("BladeRunnerEventHandler",["BladeRunnerLogger","BladeRunnerTypes","BladeRunnerTypesInternal","RequestStreamE2EClientLoggerEvent","RequestStreamE2EClientLoggerMessageType","gkx","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){__p&&__p();var g=1e3;a=function(){"use strict";__p&&__p();function a(a,b,c){this.$2=a,this.$1=b,this.$3=c}var c=a.prototype;c.onProxyResponse=function(a){__p&&__p();this.$4(a);var c=[];for(var d=a.getFrames(),e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;this.$2.witnessFrame(g)&&c.push(g)}b("BladeRunnerLogger").logE2EEvent(b("RequestStreamE2EClientLoggerMessageType").RESPONSE,b("RequestStreamE2EClientLoggerEvent").SENT,a.getInstrumentationData());c.length>0&&this.$5(new(b("BladeRunnerTypesInternal").GatewayStreamBatch)(a.batchId,c,a.instrumentationData))};c.onDisconnect=function(){this.$2.resetErrors();var a=new(b("BladeRunnerTypesInternal").GatewayStreamStatusUpdate)();a.streamId=this.$2.getRequest().streamId;a.status=b("BladeRunnerTypes").StreamStatus.CLOSED;a.shouldRetry=!0;a.retryDelayMs=0;a=new(b("BladeRunnerTypesInternal").GatewayStreamBatch)(null,[b("BladeRunnerTypesInternal").GatewayStreamFrame.newStatusUpdateFrame(a)]);this.onProxyResponse(a)};c.$4=function(a){__p&&__p();var c=this;a=a.getFrames().filter(function(a){return a.type==b("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE});for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;f=f.getStatusUpdate();if(f.status==b("BladeRunnerTypes").StreamStatus.CLOSED||f.status==b("BladeRunnerTypes").StreamStatus.REJECTED){this.$2.onError();var h=f.shouldRetry!=null&&f.shouldRetry,i=f.message!=null?f.message:"null";if(h&&this.$2.getErrorCount()<=this.$2.getRetriesAllowed()){f.status=b("BladeRunnerTypes").StreamStatus.PAUSED;var j=g;f.retryDelayMs!=null&&(j=f.retryDelayMs);b("BladeRunnerLogger").info("Can retry: stream "+f.streamId+" closed with status "+f.status+", message "+i+". Error count: "+this.$2.getErrorCount()+", retryDelay "+j+"ms. Already retrying: "+this.$2.getRetryRequestScheduled().toString());this.$2.getRetryRequestScheduled()?b("BladeRunnerLogger").bumpCounter("stream_closed_already_retrying"):(b("BladeRunnerLogger").bumpCounter("stream_closed_will_retry"),this.$2.setRetryRequestScheduled(!0),j>0?b("setTimeoutAcrossTransitions")(function(){return c.$6()},j):this.$6())}else b("BladeRunnerLogger").info("Will not retry: stream "+f.streamId+" closed with status "+f.status+", message "+i+". Error count: "+this.$2.getErrorCount()+", shouldRetry "+h.toString()+". Already retrying: "+this.$2.getRetryRequestScheduled().toString()),h?b("BladeRunnerLogger").bumpCounter("stream_closed_retry_exceeded"):b("BladeRunnerLogger").bumpCounter("stream_closed_no_retry"),this.$3.removeStream(f.streamId)}}};c.$6=function(){this.$2.setRetryRequestScheduled(!1),this.$2.isAlive()&&this.$3.sendRetryStreamRequest(this.$2)};c.$5=function(a){__p&&__p();b("BladeRunnerLogger").bumpCounter("send_to_handler");var c=[];this.$1.onBatch(a);for(var a=a.getFrames(),d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;try{switch(f.type){case b("BladeRunnerTypes").StreamFrameType.DATA:this.$1.onData(f.getData().decodeData());c.push(f.getData());break;case b("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE:this.$1.onStatusUpdate(f.getStatusUpdate().status);break;case b("BladeRunnerTypes").StreamFrameType.LOG:f=f.getLog().message;f!=null&&(this.$1.onLog(f),b("gkx")("972601"));break;case b("BladeRunnerTypes").StreamFrameType.DATA_ACK:break;default:throw new Error("Frame with unexpected type")}}catch(a){b("BladeRunnerLogger").bumpCounter("send_to_handler_error"),b("BladeRunnerLogger").exception(a,"Failed sending frame to stream handler")}}this.$7(c)};c.$7=function(a){__p&&__p();var c=[];for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;if(f.shouldAck===!0&&f.dataId!=null){var g=new(b("BladeRunnerTypesInternal").GatewayStreamDataAck)();g.streamId=f.streamId;g.dataId=f.dataId;g.success=!0;c.push(g)}}this.$3.sendDataAcks(c)};return a}();e.exports=a}),null);
__d("MqttEnv",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=Object.freeze({mqtt_waterfall_log_client_sampling:1,mqtt_ws_polling_enabled:3,mqtt_ws_forced_polling_only:4,mqtt_send_unload_event:6,mqtt_ws_reconnect_reset:7,mqtt_lp_use_fetch:9,mqtt_fast_lp:11,mqtt_lp_no_delay:12,mqtt_enable_publish_over_polling:13});b=function(){__p&&__p();var a=b.prototype;a.random=function(){return this.$1!=null?this.$1():Math.random()};a.isUserLoggedInNow=function(){return this.$2!=null?this.$2():!0};a.clearTimeout=function(a){function b(b){return a.apply(this,arguments)}b.toString=function(){return a.toString()};return b}(function(a){if(this.$3!=null){this.$3(a);return}clearTimeout(a)});a.setTimeout=function(a){function b(b,c){return a.apply(this,arguments)}b.toString=function(){return a.toString()};return b}(function(a,b){for(var c=arguments.length,d=new Array(c>2?c-2:0),e=2;e<c;e++)d[e-2]=arguments[e];return this.$4!=null?this.$4.apply(null,arguments):setTimeout.apply(null,arguments)});a.getLoggerInstance=function(){return this.$5!=null?this.$5():g.getInstance()};a.genGk=function(a){return this.$6!=null?this.$6(a):!1};a.createSocket=function(a,b){return this.$7!=null?this.$7(a,b):new WebSocket(a)};a.scheduleCallback=function(a){return this.$8!=null?this.$8(a):a()};a.scheduleLoggingCallback=function(a){return this.$9!=null?this.$9(a):a()};a.configRead=function(a,b){return this.$10!=null?this.$10(a,b):b};a.configWrite=function(a,b){this.$11!=null&&this.$11(a,b)};function b(){this.$1=null,this.$2=null,this.$3=null,this.$4=null,this.$5=null,this.$6=null,this.$7=null,this.$8=null,this.$9=null,this.$10=null,this.$11=null}a.initialize=function(a,b,c,d,e,f,g,h,i,j,k){this.$1=a,this.$2=b,this.$3=c,this.$4=d,this.$5=e,this.$6=f,this.$7=g,this.$8=h,this.$9=i,this.$10=j,this.$11=k};return b}();var g=function(){__p&&__p();function a(){}a.getInstance=function(){return new a()};var b=a.prototype;b.setAppId=function(a){};b.eventLogConnect=function(a){};b.eventLogPull=function(a){};b.eventLogPullFinish=function(a){};b.eventLogDisconnect=function(a){};b.eventLogSocketError=function(a){};b.eventLogOutgoingPublish=function(a){};b.eventLogIncomingPublish=function(a){};b.eventLogPublishTimeout=function(a){};b.eventLogMiscellaneousError=function(a){};b.logIfLoggedOut=function(){};b.logError=function(a){};b.logErrorWarn=function(a){};b.logWarn=function(a){};b.debugTrace=function(a){};b.bumpCounter=function(a){};return a}();e.exports={Env:new b(),MqttGkNames:a}}),null);
__d("IrisSubscribeChecker",["MqttEnv"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MqttEnv").Env;a=function(){__p&&__p();function a(a){__p&&__p();this.$1=g.getLoggerInstance();this.$2=null;this.$3=!1;this.$4=!1;this.$5=!1;this.$6=!0;this.$7=0;this.$8=a;if(typeof window!=="undefined"){a=window.location.hostname;(a==="m.facebook.com"||a==="mobile.facebook.com"||a==="mtouch.facebook.com")&&(this.$6=!1)}}var b=a.prototype;b.start=function(){this.$6=!0};b.stop=function(){this.$6=!1,this.$9()};b.onConnectAttempt=function(){};b.onConnectFailure=function(){this.$9()};b.onConnected=function(){var a=this;this.$7++;this.$9();this.$3=!1;this.$4=!1;this.$5=!1;this.$6&&(this.$2=g.setTimeout(function(){a.$10()},8e3))};b.onConnectSuccess=function(){};b.onConnectionLost=function(){this.$9()};b.onSubscribe=function(a){a==="/t_ms"&&(this.$3=!0)};b.onUnsubscribe=function(a){};b.onPublish=function(a){(a==="/messenger_sync_get_diffs"||a==="/messenger_sync_create_queue")&&(this.$4=!0,this.$3&&(this.$5=!0,this.$9()))};b.onMessage=function(a){};b.onWSFatal=function(){};b.$9=function(){this.$2&&(g.clearTimeout(this.$2),this.$2=null)};b.$10=function(){if(this.$4===!1){var a=this.$7==1?"no_iris_session_initialConnect":"no_iris_session";this.$1.bumpCounter(a);this.$1.eventLogMiscellaneousError({errorMessage:a});this.$8()?this.$1.bumpCounter(a+".withProvider"):this.$1.bumpCounter(a+".withoutProvider");this.$3===!0?this.$1.bumpCounter(a+".withTopicSubscribe"):this.$1.bumpCounter(a+".withoutTopicSubscribe")}this.$3===!1&&this.$1.bumpCounter("no_iris_topic_subscribe");this.$3===!0&&this.$4===!0&&this.$5===!1&&this.$1.bumpCounter("session_before_topic_subscribe")};return a}();e.exports=a}),null);
__d("MqttAnalyticsHook",["MqttEnv"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MqttEnv").Env;a=function(){__p&&__p();function a(){this.$1=g.getLoggerInstance(),this.$2=0,this.$3=0,this.$4=0,this.$5=0,this.$1.bumpCounter("session_start"),g.isUserLoggedInNow()||this.$1.bumpCounter("session_start.logout")}var b=a.prototype;b.onConnectAttempt=function(){this.$1.bumpCounter("ws_connect_attempt")};b.onConnectFailure=function(){this.$3++,this.$1.bumpCounter("ws_connect_failure")};b.onConnected=function(){this.$1.bumpCounter("ws_connect_connected")};b.onConnectSuccess=function(){this.$2===0&&this.$1.bumpCounter("ws_connect_first_success"),this.$2++,this.$1.bumpCounter("ws_connect_success")};b.onConnectionLost=function(){this.$1.bumpCounter("ws_disconnect")};b.onSubscribe=function(a){};b.onUnsubscribe=function(a){};b.onPublish=function(a){this.$1.bumpCounter("ws_publish."+a)};b.onMessage=function(a){this.$1.bumpCounter("message_arrived."+a)};b.onWSFatal=function(){this.$1.bumpCounter("ws_fatal")};b.onPollRequestSent=function(){this.$1.bumpCounter("polling_request_send")};b.onPollRequestSuccess=function(){this.$1.bumpCounter("polling_request_succeed"),this.$4===0&&this.$1.bumpCounter("polling_first_success"),this.$4++};b.onPollResponse=function(a){this.$1.bumpCounter("lp.message_arrived."+a)};b.onPollFinish=function(){this.$1.bumpCounter("polling_request_finish")};b.onPollRequestFailed=function(a){this.$1.bumpCounter("polling_request_failed"),this.$1.bumpCounter("polling_request_failed_"+a),this.$5++};return a}();e.exports=a}),null);
__d("MqttConnectionHookCollection",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1=new Set()}var b=a.prototype;b.addHook=function(a){this.$1.add(a)};b.removeHook=function(a){this.$1["delete"](a)};b.onConnectAttempt=function(){this.$1.forEach(function(a){a.onConnectAttempt()})};b.onConnectFailure=function(){this.$1.forEach(function(a){a.onConnectFailure()})};b.onConnected=function(){this.$1.forEach(function(a){a.onConnected()})};b.onConnectSuccess=function(){this.$1.forEach(function(a){a.onConnectSuccess()})};b.onConnectionLost=function(){this.$1.forEach(function(a){a.onConnectionLost()})};b.onSubscribe=function(a){this.$1.forEach(function(b){b.onSubscribe(a)})};b.onUnsubscribe=function(a){this.$1.forEach(function(b){b.onUnsubscribe(a)})};b.onPublish=function(a){this.$1.forEach(function(b){b.onPublish(a)})};b.onMessage=function(a){this.$1.forEach(function(b){b.onMessage(a)})};b.onWSFatal=function(){this.$1.forEach(function(a){a.onWSFatal()})};return a}();e.exports=a}),null);
__d("MqttProtocolUtils",["MqttEnv"],(function(a,b,c,d,e,f){__p&&__p();var g=b("MqttEnv").Env;function a(a,b){if(a==null)return b;var c=new Uint8Array(a.length+b.length);c.set(a);c.set(b,a.length);return c}function c(a,b){__p&&__p();b=b;var c=0,d=1,e;do{if(b===a.length)return null;e=a[b++];c+=(e&127)*d;d*=128}while((e&128)!==0);return{value:c,offset:b}}function d(a){__p&&__p();a=a;var b=new Array(1);for(var c=0;c<4;c++){var d=a%128;a>>=7;if(a>0)b[c]=d|128;else{b[c]=d;break}}return b}function h(a,b,c){c=c;b[c++]=a>>8;b[c++]=a%256;return c}function f(a,b){return 256*a[b]+a[b+1]}function i(a){var b=0;for(var c=0,d=a.length;c<d;c++){var e=a.charCodeAt(c);e<128?b+=1:e<2048?b+=2:e>=55296&&e<=56319?(b+=4,c++):b+=3}return b}function j(a,b,c,d){d=h(b,c,d);k(a,c,d);return d+b}function k(a,b,c){c=c;for(var d=0,e=a.length;d<e;d++){var f=a.charCodeAt(d);f<128?b[c++]=f:f<2048?(b[c++]=192|f>>6,b[c++]=128|f&63):f<55296||f>=57344?(b[c++]=224|f>>12,b[c++]=128|f>>6&63,b[c++]=128|f&63):(f=65536+((f&1023)<<10|a.charCodeAt(++d)&1023),b[c++]=240|f>>18,b[c++]=128|f>>12&63,b[c++]=128|f>>6&63,b[c++]=128|f&63)}}function l(a,b,c){__p&&__p();var d=[],e=b,f=0;while(e<b+c){var g=a[e++];if(g<128)d[f++]=String.fromCharCode(g);else if(g>191&&g<224){var h=a[e++];d[f++]=String.fromCharCode((g&31)<<6|h&63)}else if(g>239&&g<365){h=a[e++];var i=a[e++],j=a[e++];h=((g&7)<<18|(h&63)<<12|(i&63)<<6|j&63)-65536;d[f++]=String.fromCharCode(55296+(h>>10));d[f++]=String.fromCharCode(56320+(h&1023))}else{i=a[e++];j=a[e++];d[f++]=String.fromCharCode((g&15)<<12|(i&63)<<6|j&63)}}return d.join("")}b=function(){"use strict";__p&&__p();function a(a,b,c){this.$1=a*1e3,this.$4=b,this.$5=c,this.$3=!1}var b=a.prototype;b.$6=function(){var a=this;this.$3?(this.$3=!1,this.$4(),this.$2=g.setTimeout(function(){a.$6()},this.$1)):this.$5()};b.reset=function(){var a=this;this.$3=!0;this.$2&&(g.clearTimeout(this.$2),this.$2=null);this.$1>0&&(this.$2=g.setTimeout(function(){a.$6()},this.$1))};b.cancel=function(){this.$2&&(g.clearTimeout(this.$2),this.$2=null)};return a}();e.exports={UTF8Length:i,convertStringToUTF8:k,concatBuffers:a,decodeMultiByteInt:c,convertUTF8ToString:l,encodeMultiByteInt:d,writeUInt16BE:h,readUInt16BE:f,writeString:j,Pinger:b}}),null);
__d("MqttUtils",["MqttEnv"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MqttEnv").Env,h={endpointWithSessionId:function(a,b){return this.endpointWithExtraParameter(a,"sid",b.toString())},endpointWithExtraParameters:function(a,b){var c=this,d=a;b.forEach(function(a,b,e){d=c.endpointWithExtraParameter(d,b,a)});return d},endpointWithExtraParameter:function(a,b,c){if(a.indexOf("?")>0)return a+"&"+b+"="+c;else return a+"?"+b+"="+c},generateSessionId:function(){return Math.floor(g.random()*Number.MAX_SAFE_INTEGER)},promiseDone:function(a,b,c){var d=arguments.length>1?a.then(b,c):a;d.then(null,function(a){g.setTimeout(function(){if(a instanceof Error)throw a;else throw new Error("promiseDone")},0)})},promiseDoneWithTimeout:function(a,b,c,d){var e=!1;g.setTimeout(function(){e||(e=!0,c(new Error("promise timeout")))},d);h.promiseDone(a,function(a){e||(e=!0,b(a))},function(a){e||(e=!0,c(a))})},sprintf:function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];var e=0;return a.replace(/%s/g,function(){return String(c[e++])})},hasWSSupport:function(){return"WebSocket"in a&&a.WebSocket!=null&&"CLOSING"in a.WebSocket.prototype},getWSAvailability:function(){var b="";if("WebSocket"in a&&a.WebSocket!==null)b+="W";else return"none";"CLOSING"in a.WebSocket.prototype&&(b+="C");return b}};e.exports=h}),null);
__d("MqttProtocolCodec",["MqttProtocolUtils","MqttUtils"],(function(a,b,c,d,e,f){__p&&__p();var g=(c=b("MqttProtocolUtils")).UTF8Length,h=c.convertStringToUTF8,i=c.convertUTF8ToString,j=c.decodeMultiByteInt,k=c.encodeMultiByteInt,l=c.readUInt16BE,m=c.writeString,n=c.writeUInt16BE,o=b("MqttUtils").sprintf,p=Object.freeze({CONNECT:1,CONNACK:2,PUBLISH:3,PUBACK:4,SUBSCRIBE:8,SUBACK:9,UNSUBSCRIBE:10,UNSUBACK:11,PINGREQ:12,PINGRESP:13,DISCONNECT:14}),q=[0,6,77,81,73,115,100,112,3];function r(a,b){__p&&__p();b=b;var c=b,d=a[b],e=d>>4;b+=1;var f=j(a,b);if(f==null)return{wireMessage:null,position:c};b=f.offset;f=b+f.value;if(f>a.length)return{wireMessage:null,position:c};var g;switch(e){case p.CONNACK:c=a[b++];c=!!(c&1);var h=a[b++];g=new u(c,h);break;case p.PUBLISH:c=d&15;h=c>>1&3;d=l(a,b);b+=2;var k=i(a,b,d);b+=d;d=null;h===1&&(d=l(a,b),b+=2);var m=w.createWithBytes(a.subarray(b,f)),n=(c&1)===1;c=(c&8)===8;g=new x(k,m,h,d,n,c);break;case p.PINGREQ:g=new s("PINGREQ");break;case p.PINGRESP:g=new s("PINGRESP");break;case p.PUBACK:case p.UNSUBACK:k=l(a,b);g=new v(e===p.PUBACK?"PUBACK":"UNSUBACK",k);break;case p.SUBACK:m=l(a,b);b+=2;h=a.subarray(b,f);g=new t(m,h);break;default:throw new Error(o("Invalid MQTT message type %s.",e))}return{wireMessage:g,position:f}}function a(a){__p&&__p();var b=[],c=0;while(c<a.length){var d=r(a,c),e=d.wireMessage;c=d.position;if(e)b.push(e);else break}d=null;c<a.length&&(d=a.subarray(c));return{messages:b,remaining:d}}d=function(){"use strict";function a(a){this.messageType=p[a]}var b=a.prototype;b.encode=function(){throw new TypeError("Cannot abstract class WireMessage")};return a}();var s=function(b){"use strict";__p&&__p();babelHelpers.inheritsLoose(a,b);function a(a){return b.call(this,a)||this}var c=a.prototype;c.encode=function(){var a=new ArrayBuffer(2),b=new Uint8Array(a);b[0]=(this.messageType&15)<<4;return a};return a}(d);f=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,"DISCONNECT")||this}var c=b.prototype;c.encode=function(){var a=(this.messageType&15)<<4,b=new ArrayBuffer(2),c=new Uint8Array(b);c[0]=a;c.set(k(0),1);return b};return b}(d);var t=function(b){"use strict";babelHelpers.inheritsLoose(a,b);function a(a,c){var d;d=b.call(this,"SUBACK")||this;d.messageIdentifier=a;d.returnCode=c;return d}return a}(d),u=function(b){"use strict";babelHelpers.inheritsLoose(a,b);function a(a,c){var d;d=b.call(this,"CONNACK")||this;d.sessionPresent=a;d.returnCode=c;return d}return a}(d),v=function(b){"use strict";__p&&__p();babelHelpers.inheritsLoose(a,b);function a(a,c){a=b.call(this,a)||this;a.messageIdentifier=c;return a}var c=a.prototype;c.encode=function(){var a=(this.messageType&15)<<4,b=2,c=k(b),d=c.length+1;b=new ArrayBuffer(b+d);var e=new Uint8Array(b);e[0]=a;e.set(c,1);d=n(this.messageIdentifier,e,d);return b};return a}(d);c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this,"CONNECT")||this;d.clientId=b;d.connectOptions=c;return d}var c=b.prototype;c.encode=function(){__p&&__p();var a=(this.messageType&15)<<4,b=q.length+3;b+=g(this.clientId)+2;b+=g(this.connectOptions.userName)+2;var c=k(b);b=new ArrayBuffer(1+c.length+b);var d=new Uint8Array(b);d[0]=a;a=1;d.set(c,1);a+=c.length;d.set(q,a);a+=q.length;c=2|128;d[a++]=c;a=n(this.connectOptions.keepAliveInterval,d,a);a=m(this.clientId,g(this.clientId),d,a);a=m(this.connectOptions.userName,g(this.connectOptions.userName),d,a);return b};return b}(d);b=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b,c,d,e){var f;f=a.call(this,b)||this;f.topic=c;if(d<0&&d>1||d===1&&e==null)throw new TypeError(o("Argument Invalid. qos: %s messageType: %s.",d,b));f.qos=d;f.messageIdentifier=e;return f}var c=b.prototype;c.encode=function(){__p&&__p();var a=(this.messageType&15)<<4;a|=2;var b=g(this.topic),c=2+b+2;this.messageType===p.SUBSCRIBE&&(c+=1);var d=k(c);c=new ArrayBuffer(1+d.length+c);var e=new Uint8Array(c);e[0]=a;a=1;e.set(d,1);a+=d.length;this.messageIdentifier!=null&&(a=n(this.messageIdentifier,e,a));a=m(this.topic,b,e,a);this.messageType===p.SUBSCRIBE&&this.qos!=null&&(e[a++]=this.qos);return c};return b}(d);var w=function(){"use strict";__p&&__p();function a(a,b){this.payloadString=a,this.payloadBytes=b}a.createWithString=function(b){var c=new Uint8Array(new ArrayBuffer(g(b)));h(b,c,0);return new a(b,c)};a.createWithBytes=function(b){var c=i(b,0,b.length);return new a(c,b)};var b=a.prototype;b.string=function(){return this.payloadString};b.bytes=function(){return this.payloadBytes};return a}(),x=function(b){"use strict";__p&&__p();babelHelpers.inheritsLoose(a,b);function a(a,c,d,e,f,g){__p&&__p();var h;h=b.call(this,"PUBLISH")||this;h.topic=a;h.payloadMessage=c;h.qos=d;h.messageIdentifier=e;h.retained=f!=null?f:!1;h.duplicate=g!=null?g:!1;if(h.qos===1&&h.messageIdentifier==null)throw new TypeError("Argument Invalid. messageIdentifier: null and qos: 1");return h}var c=a.prototype;c.encode=function(){__p&&__p();var a=(this.messageType&15)<<4;this.duplicate&&(a|=8);a=a|=this.qos<<1;this.retained&&a!=1;var b=g(this.topic),c=b+2;c+=this.messageIdentifier==null?0:2;var d=this.payloadMessage.bytes();c+=d.byteLength;var e=k(c);c=new ArrayBuffer(1+e.length+c);var f=new Uint8Array(c);f[0]=a;f.set(e,1);a=1+e.length;a=m(this.topic,b,f,a);this.messageIdentifier!=null&&(a=n(this.messageIdentifier,f,a));f.set(d,a);return c};return a}(d);e.exports={MESSAGE_TYPE:p,WireMessage:{Base:d,PubAckUnsubAck:v,Ping:s,ConnAck:u,Connect:c,Disconnect:f,Subscription:b,Publish:x},createMessageWithString:w.createWithString,decodeMessage:r,decodeByteMessages:a}}),null);
__d("MqttTypes",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a,b){this.errorCode=a,this.errorMessage=b};b=function(a,b){this.mqttError=a,this.connAck=b};c=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){d===void 0&&(d=null);c=a.call(this,c)||this;c.isRecoverable=b;c.originalError=d;return c}return b}(babelHelpers.wrapNativeSuper(Error));e.exports={MqttError:a,MqttChannelError:c,ConnectFailure:b}}),null);
__d("MqttProtocolClient",["MqttEnv","MqttProtocolCodec","MqttTypes","MqttProtocolUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=30,h=6e4,i=b("MqttEnv").Env,j=(a=b("MqttProtocolCodec")).MESSAGE_TYPE,k=a.WireMessage,l=a.createMessageWithString,m=a.decodeByteMessages;c=b("MqttTypes").MqttError;var n=b("MqttTypes").ConnectFailure,o=b("MqttProtocolUtils").concatBuffers,p=b("MqttProtocolUtils").Pinger,q={SOCKET_ERROR:new c(1,"Socket error"),SOCKET_MESSAGE:new c(2,"Unable to parse invalid socket message"),INVALID_DATA_TYPE:new c(3,"Received non-arraybuffer from socket."),CONNECT_TIMEOUT:new c(4,"Connect timed out"),CONNACK_FAILURE:new c(5,"Connection failure due to connack"),PING_TIMEOUT:new c(6,"Ping timeout"),APP_DISCONNECT:new c(7,"Disconnect initiated by app"),SERVER_DISCONNECT:new c(8,"Disconnect message sent my server"),SOCKET_CLOSE:new c(9,"Socket connection closed")};d=function(){__p&&__p();function a(a){this.$3=a,this.$2={userName:"",mqttVersion:3,keepAliveInterval:10,ignoreSubProtocol:!1,onConnectSuccess:function(){},onConnectFailure:function(a){},onConnection:function(){},onConnectionError:function(a){},onConnectionLost:function(a){},onMessageArrived:function(a,b,c){},onMessageDelivered:function(a,b){}},this.$1="mqttwsclient",this.$4=0,this.$5=!1,this.$9=i.getLoggerInstance()}var b=a.prototype;b.connect=function(a){__p&&__p();var b=this;if(this.$5)throw new Error("Invalid state: connect - already connected");this.$2=a;this.setConnected(!1);this.$7!=null&&(i.clearTimeout(this.$7),this.$7=null);this.$7=i.setTimeout(function(){b.$9.bumpCounter("protocol.error.connect.timeout"),b.$11(q.CONNECT_TIMEOUT)},g*1e3);this.$6=i.createSocket(this.$3);this.$6.binaryType="arraybuffer";this.$6.onopen=function(){b.setConnected(!0),b.$12(new k.Connect(b.$1,a)),a.onConnection()};this.$6.onmessage=function(a){__p&&__p();a=a.data;if(!(a instanceof ArrayBuffer)){b.$9.bumpCounter("protocol.error.onmessage.type");b.$11(q.INVALID_DATA_TYPE);return}try{a=new Uint8Array(a);b.$10!=null&&(a=o(b.$10,a),b.$9.bumpCounter("protocol.debug.usingMessagesBuffer"),delete b.$10,b.$10=null);a=m(a);var c=a.messages;b.$10=a.remaining;for(var a=0;a<c.length;a++)b.handleMessage(c[a])}catch(a){b.$10=null,b.$9.logError(a,q.SOCKET_MESSAGE.errorMessage),b.$9.bumpCounter("protocol.error.onmessage.parse"),b.$11(q.SOCKET_MESSAGE)}};this.$6.onerror=function(a){var c;try{c=parseInt(JSON.parse(b.$2.userName).s,10)}catch(a){c=-1}b.$9.eventLogSocketError({sessionID:c,errorCode:1,errorMessage:"socket.onerror "+a.type});b.$9.bumpCounter("protocol.error.socket");b.$11(q.SOCKET_ERROR)};this.$6.onclose=function(a){b.$9.bumpCounter("protocol.socket.close"),b.$11(q.SOCKET_CLOSE)};this.$8!=null&&this.$8.cancel();this.$8=new p(a.keepAliveInterval,this.$12.bind(this,new k.Ping("PINGREQ")),this.$11.bind(this,q.PING_TIMEOUT))};b.$13=function(){this.setConnected(!1),this.$8!=null&&this.$8.cancel(),this.$7!=null&&(i.clearTimeout(this.$7),this.$7=null),this.$6!=null&&(this.$6.onopen=function(a){},this.$6.onmessage=function(a){},this.$6.onerror=function(a){},this.$6.onclose=function(a){},this.$6.readyState===this.$6.OPEN&&this.$6.close(),delete this.$6,this.$6=null),this.$2.onConnectSuccess=function(){},this.$2.onConnectFailure=function(a){},this.$2.onConnection=function(){},this.$2.onConnectionError=function(a){},this.$2.onConnectionLost=function(a){},this.$2.onMessageArrived=function(a,b,c){},this.$2.onMessageDelivered=function(a,b){}};b.disconnect=function(){if(this.$6==null||this.$6.readyState!==this.$6.OPEN||!this.$5){this.$13();return}this.$12(new k.Disconnect());this.$9.bumpCounter("protocol.debug.disconnect");this.$11(q.APP_DISCONNECT)};b.isConnected=function(){return this.$5};b.setConnected=function(a){this.$5=a};b.subscribe=function(a){if(!this.$5){this.$9.bumpCounter("protocol.error.subscribe.notconnected");throw new Error("Invalid state: subscribe - not connected")}this.$9.bumpCounter("protocol.subscribe."+a);a=new k.Subscription("SUBSCRIBE",a,0,this.$14());this.$12(a)};b.unsubscribe=function(a){if(!this.$5){this.$9.bumpCounter("protocol.error.unsubscribe.notconnected");throw new Error("Invalid state: unsubscribe - not connected")}this.$9.bumpCounter("protocol.unsubscribe."+a);a=new k.Subscription("UNSUBSCRIBE",a,0,this.$14());this.$12(a)};b.publish=function(a,b,c){this.$5||this.$9.bumpCounter("protocol.error.publish.notconnected");this.$9.bumpCounter("protocol.publish."+a);var d=this.$14();a=new k.Publish(a,l(b),c,d);this.$12(a);return d};b.$14=function(){++this.$4===h&&(this.$4=1);return this.$4};b.$11=function(a,b){this.$9.bumpCounter("protocol.debug.disconnect.internal");var c=this.$5,d=this.$2,e=d.onConnectionLost,f=d.onConnectFailure;this.setConnected(!1);this.$13();c?i.scheduleCallback(function(){e(a)}):i.scheduleCallback(function(){f(new n(a,b!=null?b:-1))})};b.$12=function(a){var b=this.$6;if(b==null)return;if(b.readyState!=b.OPEN)return;b.send(a.encode())};b.handleMessage=function(a){__p&&__p();var b=this;switch(a.messageType){case j.CONNACK:this.$7!=null&&(i.clearTimeout(this.$7),this.$7=null);if(a instanceof k.ConnAck){var c=a;if(c.returnCode!==0){this.$9.bumpCounter("protocol.error.connack.invalidreturncode");this.setConnected(!1);this.$11(q.CONNACK_FAILURE,c.returnCode);return}i.scheduleCallback(function(){b.$2.onConnectSuccess()});this.$8!=null&&this.$8.reset()}break;case j.PUBLISH:if(a instanceof k.Publish){var d=a;i.scheduleCallback(function(){b.$2.onMessageArrived(d.topic,d.payloadMessage.payloadString,d.qos)});c=d.messageIdentifier;this.$9.bumpCounter("protocol.publish.received");if(d.qos===1&&c!=null){c=new k.PubAckUnsubAck("PUBACK",c);this.$12(c)}}break;case j.PUBACK:if(a instanceof k.PubAckUnsubAck){c=a;var e=c.messageIdentifier;this.$9.bumpCounter("protocol.puback.received");i.scheduleCallback(function(){b.$2.onMessageDelivered("",e)})}break;case j.PINGRESP:this.$8!=null&&this.$8.reset();break;case j.DISCONNECT:this.$11(q.SERVER_DISCONNECT);break;case j.SUBACK:this.$9.bumpCounter("protocol.suback.received");break;case j.UNSUBACK:this.$9.bumpCounter("protocol.unsuback.received");break;default:this.$9.logError(new Error("MqttProtocolClient: Received unhandled message type: "+a.messageType),"Received unhandled message type");this.$9.bumpCounter("protocol.error.handlemessage.unsupportedtype");break}};return a}();e.exports=d}),null);
__d("MqttUserName",["gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,c,d,e,f,g,h){h===void 0&&(h=null),this.$1=a,this.$2=c,this.$3=d,this.$4=e,this.$5=f,this.$6=g,this.$7=b("gkx")("1166607")?!1:typeof document==="object"&&document&&document.hasFocus&&document.hasFocus(),this.$8=h}var c=a.prototype;c.gen=function(a,c,d,e){e===void 0&&(e=[]);var f=b("gkx")("1166607")?!1:this.$7;a={u:this.$1,s:a,cp:this.$3,ecp:this.$2,chat_on:this.$6,fg:f,d:this.$4,ct:"websocket",mqtt_sid:"",aid:this.$5,st:c,pm:d,dc:"",no_auto_fg:!0,gas:this.$8,pack:e};return JSON.stringify(a)};c.setForegroundState=function(a){this.$7=a};c.setChatVisibility=function(a){this.$6=a};c.getEndpointCapabilities=function(){return this.$2};c.setEndpointCapabilities=function(a){this.$2=a};c.getIsGuestAuthStringPresent=function(){return this.$8!==null};return a}();e.exports=a}),null);
__d("MqttConnection",["Promise","MqttConnectionHookCollection","MqttEnv","MqttProtocolClient","MqttPublishListener","MqttTypes","MqttUserName","MqttUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MqttEnv").Env,h=b("MqttEnv").MqttGkNames,i=b("MqttPublishListener").MqttPublishEvent;b("MqttTypes").ConnectFailure;var j=b("MqttTypes").MqttChannelError;b("MqttTypes").MqttError;var k=10,l="publish",m="subscribe",n="unsubscribe",o=function(a){},p=18e4,q=5*1e3,r=15,s=21;a=function(){__p&&__p();function a(){__p&&__p();this.$8=!1;this.$10=g.getLoggerInstance();this.$11="Disconnected";this.$14=new Set();this.$15=new Map();this.$18=0;this.$19=0;this.$12=0;this.$13=0;this.$8=!1;this.$5="";this.$6=new(b("MqttUserName"))("",0,1,"",0,!0);this.$9=0;this.$7=null;var a=function(){};this.$1=a;this.$2=a;this.$3=a;this.$16=!1;this.$17=!1;this.$20=new(b("MqttConnectionHookCollection"))();this.$4=function(){return[]}}var c=a.prototype;c.run=function(a){__p&&__p();var b=this,c=a.onStateChange,d=a.onJSError,e=a.onMessageReceived,f=a.endpoint,g=a.mqttUserName,h=a.subscribedTopics;a=a.extraConnectMessageProvider;if(this.$8){this.$10.debugTrace("run","Run called while in running state.");return}this.$1=c;this.$3=e;this.$5=f;this.$6=g;this.$8=!0;this.$12=0;this.$2=d||o;h&&h.forEach(function(a){return b.$14.add(a)});this.$4=a;this.$21();this.$22()};c.shutdown=function(){this.$23(),this.$24("shutdown"),this.$8=!1,this.$10.debugTrace("shutdown","Shutdown")};c.subscribe=function(a){this.$14.add(a);this.ensureConnected(m)&&this.$25(a);return!0};c.publish=function(a,c,d,e){var f={resolve:function(){},reject:function(a){}};e!=null&&(f.listener=e);var g=new(b("Promise"))(function(a,b){f.resolve=a,f.reject=b}),h=this.ensureConnected(l);!h?(e==null?void 0:e.onEvent(i.NOT_CONNECTED),f.reject(new Error("Client disconnected"))):this.$26(a,c,d,f);return g};c.unsubscribe=function(a){this.$14["delete"](a);this.ensureConnected(n)&&this.$27(a);return!0};c.addHook=function(a){this.$20.addHook(a)};c.removeHook=function(a){this.$20.removeHook(a)};c.isRunning=function(){return this.$8};c.getSessionId=function(){return this.$9};c.hasFatal=function(){return this.$16};c.hasConnectSuccess=function(){return this.$17};c.canPublish=function(){return this.ensureConnected("canPublish")};c.ensureConnected=function(a){return!this.$8||this.$7==null||!this.$7.isConnected()?!1:!0};c.connectionState=function(){return this.$11};c.mqttStateFromConnectionState=function(a){switch(a){case"Connecting":case"TransportConnected":return"Connecting";case"Connected":return"Connected";case"Disconnected":return"Disconnected"}throw new Error("Unknown state "+a)};c.testOnlyGetSubscribedTopics=function(){return this.$14};c.$21=function(){var a=this;g.genGk(h.mqtt_send_unload_event)&&typeof window!=="undefined"&&window.addEventListener("unload",function(b){return a.$28(b)})};c.$28=function(a){this.publish("/browser_close","{}",0)};c.$23=function(){this.$8&&this.$7!=null&&(this.$29("Disconnected"),this.$7!=null&&this.$7.disconnect(),this.$7=null)};c.$29=function(a){a!==this.$11&&(this.$11=a,this.$1(a))};c.$22=function(){__p&&__p();var a=this;if(!this.$8)return;this.$29("Connecting");var c=Date.now();this.$9=b("MqttUtils").generateSessionId();var d=Array.from(this.$14),e=b("MqttUtils").endpointWithSessionId(this.$5,this.$9);try{this.$7=new(b("MqttProtocolClient"))(e);var f=this.$30(),g=f.map(function(a){return a.topic});e=this.$6.gen(this.$9,d,f);this.$7!=null&&(this.$7.connect({userName:e,mqttVersion:3,keepAliveInterval:k,ignoreSubProtocol:!0,onConnectFailure:function(b){return a.$31(b,c,d,g)},onConnectSuccess:function(){return a.$32(c,d,g)},onConnection:function(){return a.$33(f,d)},onConnectionError:function(b){return a.$34(b)},onConnectionLost:function(b){return a.$35(b)},onMessageArrived:function(b,c,d){return a.$36(b,c,d)},onMessageDelivered:function(b,c){return a.$37(b,c)}}),this.$10.bumpCounter("protocol.connectattempt"),this.$20.onConnectAttempt(),this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.connectattempt"))}catch(a){this.$10.bumpCounter("js_error_in_init_exception"),this.$29("Disconnected"),this.$38(!1,!1,c,d,[],14,a.message),a&&this.$10.logErrorWarn(a,"ws_js_error"),this.$20.onWSFatal(),this.$39(new j(!1,"ws_js_error",a),"client_init")}};c.$30=function(){var a=this.$4(),b=65536;a=a.map(function(a){a.messageId=b--;return a});return a};c.$25=function(a){__p&&__p();try{if(this.$7!=null){this.$7.subscribe(a);this.$10.debugTrace("_doSubscribe","Subscribing to "+a);this.$20.onSubscribe(a);this.$10.bumpCounter("protocol.subscribe");return!0}}catch(b){this.$10.logError(b,"Exception subscribing"),this.$10.bumpCounter("subscribe_exception."+a),this.$10.bumpCounter("protocol.subscribe.error")}return!1};c.$27=function(a){__p&&__p();try{if(this.$7!=null){this.$7.unsubscribe(a);this.$10.debugTrace("_doUnsubscribe","Unsubscribing to "+a);this.$20.onUnsubscribe(a);this.$10.bumpCounter("protocol.unsubscribe");return!0}}catch(b){this.$10.logError(b,"Exception unsubscribing"),this.$10.bumpCounter("unsubscribe_exception."+a),this.$10.bumpCounter("protocol.unsubscribe.error")}return!1};c.$26=function(a,b,c,d){__p&&__p();if(this.$7!=null)try{b=this.$7.publish(a,b,c);this.$10.bumpCounter("protocol.publish");var e=b!=null?b:"null";this.$10.debugTrace("_doPublish","publish "+a+" with messageId:"+e+" qos:"+c);this.$20.onPublish(a);(e=d.listener)==null?void 0:e.onEvent(i.SENT);b!=null?this.$15.set(b,d):d.resolve();return!0}catch(b){this.$10.logError(b,"Exception publishing");this.$10.bumpCounter("publish_exception."+a);d.reject(b);this.$10.bumpCounter("protocol.publish.error");return!1}else return!1};c.$40=function(a){__p&&__p();var b=this;a===void 0&&(a=null);if(!this.$8)return;this.$23();this.$24("reconnect");this.$41();this.$9=-1;this.$13=0;a=a!=null?a:Math.pow(2,Math.min(this.$12,6))*(1e3+g.random()*200);this.$10.debugTrace("_scheduleReconnect","Reconnect in "+a+" ms");g.setTimeout(function(){b.$22()},a);this.$12+=1};c.$41=function(){if(!g.genGk(h.mqtt_ws_reconnect_reset))return;var a=Date.now()-this.$13,b=this.$13!==0&&a>q,c=this.$12>r;(b||c)&&(this.$12=0);this.$13!==0&&a<=q&&this.$10.bumpCounter("short_lived_session");c&&this.$10.bumpCounter("connection_attempt_limit")};c.$38=function(a,b,c,d,e,f,g){a===!0?this.$19++:this.$18++,this.$10.eventLogConnect({sessionID:this.$9,connectionStatus:a,connectionState:this.mqttStateFromConnectionState(this.$11),ackReceived:b,duration:Date.now()-c,hostname:this.$5,attemptNumber:this.$12,failTotal:this.$18,successTotal:this.$19,subscribedTopics:d,publishes:e,errorCode:f,errorMessage:g})};c.$31=function(a,b,c,d){__p&&__p();var e=a.mqttError,f=e.errorMessage;this.$10.debugTrace("connect","Connect failed "+f);this.$10.bumpCounter("protocol.onconnectfailure");this.$20.onConnectFailure();this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnectfailure");this.$38(!1,a.connAck!=null,b,c,d,e.errorCode,f);if(a.connAck!=null){this.$10.bumpCounter("protocol.connect_failure."+a.connAck);if(a.connAck===s){this.$40(p);return}}this.$40()};c.$33=function(a,b){__p&&__p();var c=this;this.$10.bumpCounter("protocol.onconnection");this.$10.debugTrace("Connect","Socket established");this.$20.onConnected();this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnection");b.forEach(function(a){c.$20.onSubscribe(a)});a.forEach(function(a){c.$20.onPublish(a.topic)});this.$29("TransportConnected")};c.$32=function(a,b,c){this.$10.bumpCounter("protocol.onconnectsuccess"),this.$10.debugTrace("connect","Connect success"),this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnectsucess"),this.$20.onConnectSuccess(),this.$17=!0,this.$38(!0,!0,a,b,c),this.$29("Connected"),this.$42(b),g.genGk(h.mqtt_ws_reconnect_reset)||(this.$12=0),this.$13=Date.now()};c.$35=function(a){this.$10.bumpCounter("protocol.onconnectionlost"),a.errorCode&&this.$10.eventLogDisconnect({sessionID:this.$9,errorCode:a.errorCode,errorMessage:a.errorMessage,duration:Date.now()-this.$13}),this.$10.debugTrace("connect","connection lost"),this.$20.onConnectionLost(),this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnectionlost"),this.$40()};c.$34=function(a){};c.$36=function(a,b,c){this.$10.bumpCounter("protocol.onmessagearrived");this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onmessagearrived");this.$10.debugTrace("onMessageArrived","Message received on "+a);this.$20.onMessage(a);try{this.$3(a,b,c)}catch(b){this.$10.logError(b,"Listener threw error"),this.$10.bumpCounter("listener_error."+a)}};c.$37=function(a,b){__p&&__p();this.$10.bumpCounter("protocol.onmessagedelivered");a=b!=null?b:"null";this.$10.debugTrace("onMessageDelivered","Delivered Message {ID: "+a+"}");if(b==null)return;a=this.$15.get(b);if(a==null){this.$10.bumpCounter("protocol.message_with_unknown_id");return}this.$15["delete"](b);(b=a.listener)==null?void 0:b.onEvent(i.ACKED);a.resolve()};c.$24=function(a){this.$10.bumpCounter("protocol.fail_all_unacked_publishes."+a),this.$15.forEach(function(b,c,d){(c=b.listener)==null?void 0:c.onEvent(i.NOT_ACKED);b.reject(new Error(a))}),this.$15.clear()};c.$42=function(a){var b=this,c=new Set(a);c.forEach(function(a){b.$14.has(a)||b.unsubscribe(a)});a=new Set(this.$14);a.forEach(function(a){c.has(a)||b.subscribe(a)})};c.$39=function(a,b){try{this.$10.bumpCounter("js_error_in_init");this.$10.bumpCounter(b+".error");this.$16=!0;var c=a?a.message:"error";this.$10.debugTrace("onError",b+": "+c);this.$2(a)}catch(a){this.$10.bumpCounter("js_error_in_error_logging"),this.$10.logError(a,"JS error while trying to log previous error")}};return a}();e.exports=a}),null);
__d("MqttChannel",["Promise","requireDeferred","ChannelClientID","IrisSubscribeChecker","MqttAnalyticsHook","MqttConnection","MqttEnv","MqttPublishListener","MqttPublishTimeoutConfig","MqttUserName","MqttUtils","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MqttEnv").Env,h=b("MqttEnv").MqttGkNames,i=b("MqttPublishListener").MqttPublishEvent,j=b("MqttPublishTimeoutConfig").mqttPublishTimeoutMs||60*1e3;a=function(){__p&&__p();function a(a){__p&&__p();var c=this,d=a.endpoint,e=a.pollingEndpoint,f=a.userFbid,h=a.appId,i=a.initialSubscribedTopics,j=a.capabilities,k=a.clientCapabilities,l=a.chatVisibility;l=l===void 0?!0:l;a=a.guestAuthString;a=a===void 0?null:a;this.$10=g.getLoggerInstance();this.$10.setAppId(h);this.$11=new(b("MqttUserName"))(f,j,k,b("ChannelClientID").getID(),h,l,a);this.$1=d;this.$2=e;this.$5="Disconnected";this.$7="LPInactive";this.$6="Disconnected";this.$3=[];this.$4=new Set();this.$8=new Map();this.$9=new(b("MqttConnection"))();this.$12=null;this.$15=new(b("MqttAnalyticsHook"))();this.$9.addHook(this.$15);this.$9.addHook(new(b("IrisSubscribeChecker"))(function(){return c.$4.size>0}));this.$14=new Map();this.$13=[];this.$16(i);this.$17();this.$10.logIfLoggedOut()}var c=a.prototype;c.$16=function(a){__p&&__p();var c=this;if(this.$9.isRunning()){this.$18("run","Connection started calling run again");return}if(g.genGk(h.mqtt_ws_polling_enabled))if(g.genGk(h.mqtt_ws_forced_polling_only)){this.$18("MqttChannel","Websocket disabled, will do long polling only");return}else if(!b("MqttUtils").hasWSSupport()){this.$18("MqttChannel","Websocket Unavailable, will do long polling only");this.$10.bumpCounter("ws_unavailable_polling");return}this.$9.run({onStateChange:function(a){c.$19(a)},onJSError:function(a){c.$20(a)},onMessageReceived:function(a,b,d){c.$21(a,b,d)},endpoint:this.$1,mqttUserName:this.$11,subscribedTopics:a,extraConnectMessageProvider:function(){return c.$22()}})};c.shutdown=function(){this.$9&&this.$9.shutdown()};c.publish=function(a,c,d){d===void 0&&(d={qos:1,skipBuffer:!1});var e;d.qos===0?e=this.$23(a,c,d.listener):e=this.$24(a,c,d);b("MqttUtils").promiseDone(e,function(){},function(a){(a=d.listener)==null?void 0:a.onEvent(i.PUBLISH_ERROR)});return e};c.$23=function(a,b,c){return this.$25(a,b,0,c)};c.$24=function(a,c,d){__p&&__p();var e={resolve:function(){},reject:function(a){}},f=new(b("Promise"))(function(a,b){e.resolve=a,e.reject=b}),h=g.random();a={topic:a,payload:c,options:d,ack:e,publishToken:h,timeoutId:null};if(d.skipBuffer)if(this.$9.connectionState()==="Connecting"){this.$13.push(a);(c=d.listener)==null?void 0:c.onEvent(i.QUEUED)}else this.$26(a);else{a.timeoutId=this.$27(h);this.$14.set(h,a);(c=d.listener)==null?void 0:c.onEvent(i.QUEUED);this.$28(a)}return f};c.$26=function(a){b("MqttUtils").promiseDone(this.$25(a.topic,a.payload,a.options.qos,a.options.listener),function(){a.ack.resolve()},function(b){a.ack.reject(b)})};c.$28=function(a){var c=this;b("MqttUtils").promiseDone(this.$25(a.topic,a.payload,a.options.qos,a.options.listener),function(){return c.$29(a)},function(a){})};c.$25=function(a,c,d,e){var f=this,g,h,j=this.getConnectionState(),k=Date.now();!this.$9.canPublish()&&this.$12&&this.$12.canPublish()?(g=this.$12.publish(a,c,d),h="lp",e!=null&&(g=g.then(function(){return e.onEvent(i.SENT)})),this.$10.bumpCounter("try_publish_lp")):(g=this.$9.publish(a,c,d,e),h="ws",this.$10.bumpCounter("try_publish_ws"));b("promiseDone")(g,function(){f.$10.eventLogOutgoingPublish({sessionID:f.$9.getSessionId(),topic:a,qos:d,payloadSizeBytes:c.length*2,success:!0,protocol:h,errorMessage:null,connectionState:j,startTime:k})},function(b){f.$10.eventLogOutgoingPublish({sessionID:f.$9.getSessionId(),topic:a,qos:d,payloadSizeBytes:c.length*2,success:!1,protocol:h,errorMessage:b.toString(),connectionState:j,startTime:k})});return g};c.subscribe=function(a,b){__p&&__p();var c=this;this.$9.subscribe(a);var d=this.$8.get(a);!d?(d=[b],this.$8.set(a,d)):d.push(b);return function(){var d=c.$8.get(a)||[];d=d.filter(function(a){return a!==b});c.$8.set(a,d);d.length===0&&c.unsubscribeAll(a)}};c.subscribeChannelEvents=function(a){this.$3.push(a)};c.registerExtraConnectPayloadProvider=function(a){var b=this;this.$18("MqttChannel","registerExtraConnectPayloadProvider called");this.$4.add(a);if(this.$9.isRunning()){a=a.getPublishMessages();a.forEach(function(a){b.publish(a.topic,a.payload,{qos:a.qos,skipBuffer:!0})})}};c.unregisterExtraConnectPayloadProvider=function(a){this.$4["delete"](a)};c.unsubscribeAll=function(a){this.$9.unsubscribe(a),this.$8["delete"](a)};c.getConnectionState=function(){return this.$5};c.getLongPollingStatus=function(){return this.$7};c.getEndpoint=function(){return this.$1};c.addHook=function(a){this.$9.addHook(a)};c.removeHook=function(a){this.$9.removeHook(a)};c.testOnlyMessageReceived=function(a,b){this.$21(a,b,-1)};c.$30=function(a){var b=this.$14.get(a);b!=null&&b.timeoutId!=null&&g.clearTimeout(b.timeoutId);this.$14["delete"](a)};c.$27=function(a){__p&&__p();var b=this;a=g.setTimeout(function(a){var c=b.$14.get(a);if(!c)return;var d=c.topic;b.$10.bumpCounter("publish_timeout."+d);b.$10.debugTrace("publish_timeout","Timeout publishing topic: "+d+" publishToken: "+a);b.$10.eventLogPublishTimeout({topic:d});b.$30(a);c.ack.reject(new Error("Publish Timed Out"))},j,a);return a};c.$29=function(a){var b=a.publishToken,c=this.$14.get(b);if(!c)return;this.$30(b);a.ack.resolve();this.$10.debugTrace("publish_success","Topic: "+a.topic+" publishToken: "+a.publishToken);this.$10.bumpCounter("publish_success."+a.topic)};c.$21=function(a,b,c){__p&&__p();var d=this.$8.get(a);this.$10.eventLogIncomingPublish({sessionID:this.$9.getSessionId(),topic:a,connectionState:this.getConnectionState(),qos:c});if(!d)this.$10.debugTrace("_onMessageReceived",a+" being dropped, no listeners");else for(var c=d,a=Array.isArray(c),d=0,c=a?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(a){if(d>=c.length)break;e=c[d++]}else{d=c.next();if(d.done)break;e=d.value}e=e;try{e(b)}catch(a){this.$10.logError(a,"Listener exception"),this.$10.bumpCounter("listener_error")}}};c.$20=function(a){if(g.genGk(h.mqtt_ws_polling_enabled)){a.isRecoverable?this.$10.bumpCounter("recoverable_error_skipped"):this.$10.bumpCounter("unrecoverable_error_skipped");return}a.isRecoverable?this.$10.bumpCounter("recoverable_error_not_skipped"):this.$10.bumpCounter("unrecoverable_error_not_skipped");this.$31(a)};c.$32=function(a){this.$31(a)};c.$31=function(a){__p&&__p();for(var b=this.$3,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e.onJSError&&e.onJSError(a)}};c.$33=function(){var a=this;this.$13.forEach(function(b){a.$26(b)});this.$13=[];this.$14.forEach(function(b,c,d){a.$28(b)})};c.$19=function(a){a==="Connecting"?(this.$13.forEach(function(a){a.ack.reject(new Error("Client Reconnecting"))}),this.$13=[]):a==="TransportConnected"&&this.$33(),this.$18("_changeState","Connection state = "+a),this.$34(a,this.$7)};c.$35=function(a,b){this.$12&&this.$12.canPublish()&&this.$33(),this.$18("_changeLPStatus","LP status = "+a+", LP Request status = "+b),this.$34(this.$6,a)};c.$34=function(a,b){var c=this.$9.mqttStateFromConnectionState(a);this.$12&&this.$12.canPublish()&&(c="Connected");this.$6=a;(c!==this.$5||b!=this.$7)&&(this.$5=c,this.$7=b,this.$36(c))};c.$36=function(a){__p&&__p();for(var b=this.$3,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e.onMQTTStateChanged(a)}};c.$22=function(){var a=this,b=[];this.$4.forEach(function(c){try{c=c.getPublishMessages();Array.prototype.push.apply(b,c)}catch(b){a.$10.logError(b,"ConnectPayload provider exception"),a.$10.bumpCounter("connectPayloadProvider_error")}});return b};c.$17=function(){__p&&__p();var a=this;g.genGk(h.mqtt_ws_polling_enabled)&&this.$2&&this.$2!=""&&b("requireDeferred")("MqttLongPollingRunner").onReady(function(b){__p&&__p();b=new b(a.$2,a.$11,a.$9.hasFatal(),a.$9.hasConnectSuccess(),function(b,c,d){return a.$21(b,c,d)},function(){return Array.from(a.$8.keys())},function(){return a.$22()},function(b){a.$32(b)},function(b,c){a.$35(b,c)});b.start();a.$9.addHook(b);b.addHook(a.$15);a.$12=b;a.$10.debugTrace("MqttChannel","longPollingRunner loaded")})};c.$18=function(a,b){this.$10.debugTrace(a,"Mqtt channel: "+b)};c.setForegroundState=function(a){this.$11&&this.$11.setForegroundState(a)};c.setChatVisibility=function(a){this.$11&&this.$11.setChatVisibility(a)};c.getEndpointCapabilities=function(){return this.$11.getEndpointCapabilities()};c.setEndpointCapabilities=function(a){this.$11.setEndpointCapabilities(a)};return a}();e.exports=a}),null);
__d("JSScheduler",["SchedulerFb-Internals_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={unstable_Immediate:(c=b("SchedulerFb-Internals_DO_NOT_USE")).unstable_ImmediatePriority,unstable_UserBlocking:c.unstable_UserBlockingPriority,unstable_Normal:c.unstable_NormalPriority,unstable_Low:c.unstable_LowPriority,unstable_Idle:c.unstable_IdlePriority},h=!1,i=c.unstable_scheduleCallback,j=c.unstable_cancelCallback;a.__fbNativeSetTimeout||a.setTimeout;a.__fbNativeClearTimeout||a.clearTimeout;var k={priorities:g,shouldYield:b("SchedulerFb-Internals_DO_NOT_USE").unstable_shouldYield,getCurrentPriorityLevel:b("SchedulerFb-Internals_DO_NOT_USE").unstable_getCurrentPriorityLevel,runWithPriority:b("SchedulerFb-Internals_DO_NOT_USE").unstable_runWithPriority,defer:function(a){var b=k.getCurrentPriorityLevel();return i(b,a)},next:function(a){return b("SchedulerFb-Internals_DO_NOT_USE").unstable_next(a)},getCallbackScheduler:function(){var a=k.getCurrentPriorityLevel();return function(b){return i(a,b)}},getUserBlockingRunAtCurrentPriCallbackScheduler_DO_NOT_USE:function(){var a=k.getCurrentPriorityLevel();return function(c){return i(g.unstable_UserBlocking,function(){b("SchedulerFb-Internals_DO_NOT_USE").unstable_runWithPriority(a,c)})}},deferUserBlockingRunAtCurrentPri_DO_NOT_USE:function(a){var c=k.getCurrentPriorityLevel();return i(g.unstable_UserBlocking,function(){b("SchedulerFb-Internals_DO_NOT_USE").unstable_runWithPriority(c,a)})},scheduleNormalPriCallback:function(a){return i(g.unstable_Normal,a)},scheduleLoggingPriCallback:function(a){return i(g.unstable_Low,a)},scheduleSpeculativeCallback:function(a){return i(g.unstable_Idle,a)},cancelCallback:function(a){j(a)},scheduleDelayedCallback_DO_NOT_USE:function(a,b,c){a=i(a,c,{delay:b});return a},cancelDelayedCallback_DO_NOT_USE:function(a){a=a;return j(a)},startEventProfiling:function(){var a;a=(a=b("SchedulerFb-Internals_DO_NOT_USE").unstable_Profiling)==null?void 0:a.startLoggingProfilingEvents;typeof a=="function"&&a()},stopEventProfiling:function(){var a;a=(a=b("SchedulerFb-Internals_DO_NOT_USE").unstable_Profiling)==null?void 0:a.stopLoggingProfilingEvents;return typeof a=="function"?a():null},makeSchedulerGlobalEntry:function(c,d){c===void 0&&(c=null),d===void 0&&(d=!1),c!==null&&c!==void 0&&b("SchedulerFb-Internals_DO_NOT_USE").unstable_forceFrameRate(c),d&&k.startEventProfiling(),a.ScheduleJSWork=function(a){return function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];h?a.apply(void 0,c):k.deferUserBlockingRunAtCurrentPri_DO_NOT_USE(function(){h=!0;try{a.apply(void 0,c)}finally{h=!1}})}}}};e.exports=k}),null);
__d("FantailLogger",["FantailConfig"],(function(a,b,c,d,e,f){__p&&__p();var g=b("FantailConfig").FantailLogQueue;a={debug:function(a,b){var c;for(var d=arguments.length,e=new Array(d>2?d-2:0),f=2;f<d;f++)e[f-2]=arguments[f];g&&(c=g.get(a)).debug.apply(c,[b].concat(e))},info:function(a,b){var c;for(var d=arguments.length,e=new Array(d>2?d-2:0),f=2;f<d;f++)e[f-2]=arguments[f];g&&(c=g.get(a)).info.apply(c,[b].concat(e))},warn:function(a,b){var c;for(var d=arguments.length,e=new Array(d>2?d-2:0),f=2;f<d;f++)e[f-2]=arguments[f];g&&(c=g.get(a)).warn.apply(c,[b].concat(e))},error:function(a,b){var c;for(var d=arguments.length,e=new Array(d>2?d-2:0),f=2;f<d;f++)e[f-2]=arguments[f];g&&(c=g.get(a)).error.apply(c,[b].concat(e))}};e.exports=a}),null);
__d("MqttUnifiedClientConnectFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("mqtt_unified_client_connect");e.exports=a}),null);
__d("MqttUnifiedClientIncomingPublishFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("mqtt_unified_client_incoming_publish");e.exports=a}),null);
__d("MqttUnifiedClientOutgoingPublishFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("mqtt_unified_client_outgoing_publish");e.exports=a}),null);
__d("MqttWsClientTypedLoggerLite",["Banzai","generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:MqttWsClientLoggerConfig")}),null);
__d("MqttLogger",["BanzaiODS","ChannelClientID","FantailLogger","FBLogger","Log","LogHistory","MqttEnv","MqttUnifiedClientConnectFalcoEvent","MqttUnifiedClientIncomingPublishFalcoEvent","MqttUnifiedClientOutgoingPublishFalcoEvent","MqttUtils","MqttWsClientTypedLoggerLite","Random","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MqttEnv").Env,h=b("MqttWsClientTypedLoggerLite").log,i=b("Random").coinflip,j="mqtt_client",k=100,l=null,m={CONNECT:"mqtt_client_connect",DISCONNECT:"mqtt_client_disconnect",PUBLISH:"mqtt_client_publish",CLIENT_ERROR:"mqtt_client_error",PUBLISH_TIMEOUT:"mqtt_qos1_publish_timeout",SOCKET_DISCONNECT:"mqtt_protocol_error"},n={CONNECT:"connect",OUTGOING_PUBLISH:"outgoing_publish",INCOMING_PUBLISH:"incoming_publish"};a=function(){__p&&__p();a.getInstance=function(){l||(l=new a());return l};function a(){this.$1=b("LogHistory").getInstance(j),this.$2=0,this.$3=b("gkx")("778292"),this.$4=Date.now(),this.$5=b("ChannelClientID").getID()}var c=a.prototype;c.setAppId=function(a){this.$2===0&&(this.$2=a)};c.eventLogConnect=function(a){__p&&__p();var c=a.sessionID,d=a.connectionStatus,e=a.connectionState,f=a.ackReceived,h=a.duration,i=a.hostname,j=a.attemptNumber;a.failTotal;a.successTotal;var k=a.subscribedTopics,l=a.publishes,o=a.errorCode;a=a.errorMessage;var p=d?"success":"failed";this.bumpCounter(m.CONNECT+"."+p);p={device_id:this.$5,session_id:c,logged_in:g.isUserLoggedInNow(),href:window.location.hostname,connection_status:d,duration:h,hostname:i,feature_availability:b("MqttUtils").getWSAvailability(),attempt_number:j,subscribed_topics:k,publishes:l,error_code:o,error_message:a};var q={app_id:this.$2,event_type:n.CONNECT,acked:f,connection_state:e,client_type:"WEBSOCKET",duration:h,error:a,session_id:c};this.$6(m.CONNECT,p);this.$7(function(){b("MqttUnifiedClientConnectFalcoEvent").log(function(){return q})})};c.eventLogPull=function(a){var b=a.pullEventName,c=a.sessionID,d=a.status,e=a.duration,f=a.hostname;a=a.errorMessage;c={device_id:this.$5,session_id:c,logged_in:g.isUserLoggedInNow(),href:window.location.hostname,connection_status:d,duration:e,hostname:f,error_message:a};this.$6(b,c)};c.eventLogPullFinish=function(a){var b=a.pullEventName,c=a.sessionID,d=a.duration,e=a.errorMessage,f=a.publishReceived;a=a.publishSent;c={device_id:this.$5,session_id:c,logged_in:g.isUserLoggedInNow(),href:window.location.hostname,duration:d,error_message:e,publish_received:f,publish_sent:a};this.$6(b,c)};c.eventLogDisconnect=function(a){var b=a.sessionID,c=a.errorCode,d=a.errorMessage;a=a.duration;this.bumpCounter(m.DISCONNECT);b={device_id:this.$5,session_id:b,href:window.location.hostname,duration:a,error_code:c,error_message:d};this.$6(m.DISCONNECT,b)};c.eventLogSocketError=function(a){var c=a.sessionID,d=a.errorCode;a=a.errorMessage;if(!b("gkx")("1186740"))return;c={device_id:this.$5,session_id:c,href:window.location.hostname,error_code:d,error_message:a};this.$6(m.SOCKET_DISCONNECT,c)};c.eventLogOutgoingPublish=function(a){var c=a.sessionID,d=a.topic,e=a.qos,f=a.payloadSizeBytes,g=a.success,h=a.protocol,i=a.errorMessage,j=a.connectionState;a=a.startTime;this.bumpCounter(m.PUBLISH+"."+d);f={device_id:this.$5,href:window.location.hostname,topic:d,qos:e,payload_size_bytes:f,success:g?1:0,protocol:h,error_message:i};var k={app_id:this.$2,event_type:n.OUTGOING_PUBLISH,session_id:c,topic:d,client_type:"WEBSOCKET",connection_state:j,qos:e,acked:e==1?g:null,duration:Date.now()-a,error:i};this.$6(m.PUBLISH,f);this.$7(function(){b("MqttUnifiedClientOutgoingPublishFalcoEvent").log(function(){return k})})};c.eventLogIncomingPublish=function(a){var c=a.sessionID,d=a.topic,e=a.connectionState;a=a.qos;var f={app_id:this.$2,event_type:n.INCOMING_PUBLISH,session_id:c,topic:d,client_type:"WEBSOCKET",connection_state:e,qos:a};this.$7(function(){b("MqttUnifiedClientIncomingPublishFalcoEvent").log(function(){return f})})};c.logError=function(a,c){var d=this;g.scheduleLoggingCallback(function(){try{b("FBLogger")(j).catching(a).mustfix(c),d.$8(b("FantailLogger").error,c)}catch(a){}})};c.eventLogPublishTimeout=function(a){a=a.topic;a={device_id:this.$5,href:window.location.hostname,topic:a};this.$6(m.PUBLISH_TIMEOUT,a)};c.eventLogMiscellaneousError=function(a){a=a.errorMessage;a={device_id:this.$5,logged_in:g.isUserLoggedInNow(),href:window.location.hostname,error_message:a,time_passed:Date.now()-this.$4};this.$6(m.CLIENT_ERROR,a)};c.logIfLoggedOut=function(){if(!b("gkx")("1186990")||g.isUserLoggedInNow())return;var a={logged_in:g.isUserLoggedInNow(),href:window.location.href,error_message:"Not logged in",time_passed:Date.now()-this.$4};this.$6(m.CLIENT_ERROR,a)};c.logErrorWarn=function(a,c){var d=this;g.scheduleLoggingCallback(function(){try{b("FBLogger")(j).catching(a).warn(c),d.$8(b("FantailLogger").warn,c)}catch(a){}})};c.logWarn=function(a,c){var d=this;g.scheduleLoggingCallback(function(){try{d.$1.warn(a,c),d.$8(b("FantailLogger").warn,c)}catch(a){}})};c.debugTrace=function(a,c){var d=this;g.scheduleLoggingCallback(function(){try{d.$1.debug(a,c),d.$8(b("FantailLogger").debug,c)}catch(a){}})};c.bumpCounter=function(a){var c=this;if(!i(k))return;g.scheduleLoggingCallback(function(){c.$2!==0&&b("BanzaiODS").bumpEntityKey(2966,"mqtt_ws_client",c.$2+"."+a,k),b("BanzaiODS").bumpEntityKey(2966,"mqtt_ws_client",a,k)})};c.$6=function(a,c){var d=this;g.scheduleLoggingCallback(function(){c.event_type=a;c.app_id=d.$2;c.online=d.$9();var e=JSON.stringify(c);d.$1.log(a,e);a!==m.DISCONNECT&&h(c);d.$8(b("FantailLogger").info,e)})};c.$7=function(a){b("gkx")("1272991")&&g.scheduleLoggingCallback(a)};c.$8=function(a,b){g.scheduleLoggingCallback(function(){})};c.$9=function(){return window.navigator&&window.navigator.onLine!==void 0?window.navigator.onLine:!1};return a}();e.exports=a}),null);
__d("MqttEnvInitializer",["CurrentUser","JSScheduler","MqttEnv","MqttLogger","Random","WebStorage","clearTimeout","gkx","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("MqttEnv").MqttGkNames,i=b("MqttEnv").Env,j="mqtt:",k={genGk:function(a){__p&&__p();switch(a){case h.mqtt_waterfall_log_client_sampling:return b("gkx")("832242");case h.mqtt_ws_polling_enabled:return!0;case h.mqtt_ws_forced_polling_only:return b("gkx")("865724");case h.mqtt_send_unload_event:return b("gkx")("901339");case h.mqtt_ws_reconnect_reset:return b("gkx")("807517");case h.mqtt_lp_use_fetch:return b("gkx")("945829");case h.mqtt_fast_lp:return b("gkx")("1001007");case h.mqtt_lp_no_delay:return b("gkx")("1066746");case h.mqtt_enable_publish_over_polling:return b("gkx")("968609");default:b("MqttLogger").getInstance().logError(new Error("unknown gk"),"Unknown GK value "+a);return!1}},useJSScheduler:function(a){return b("gkx")("987139")?a:null},initialize:function(){__p&&__p();i.initialize(b("Random").random,b("CurrentUser").isLoggedInNow,b("clearTimeout"),b("setTimeoutAcrossTransitions"),function(){return b("MqttLogger").getInstance()},k.genGk,null,k.useJSScheduler(b("JSScheduler").scheduleNormalPriCallback),k.useJSScheduler(b("JSScheduler").scheduleLoggingPriCallback),function(a,c){var d=(g||(g=b("WebStorage"))).getLocalStorage();if(d){d=d.getItem(j+a);if(d!=null)return d}return c},function(a,c){var d=(g||(g=b("WebStorage"))).getLocalStorage();d&&(c==null?d.removeItem(j+a):d.setItem(j+a,c))})}};e.exports=k}),null);
__d("FBMqttChannel",["MqttChannel","MqttEnvInitializer","MqttWebConfig"],(function(a,b,c,d,e,f){"use strict";b("MqttEnvInitializer").initialize();e.exports=new(b("MqttChannel"))({endpoint:(a=b("MqttWebConfig")).endpoint,pollingEndpoint:a.pollingEndpoint,userFbid:a.fbid,appId:a.appID,initialSubscribedTopics:a.subscribedTopics,capabilities:a.capabilities,clientCapabilities:a.clientCapabilities,chatVisibility:a.chatVisibility})}),null);
__d("BladeRunnerSocket",["Promise","BladeRunnerEventHandler","BladeRunnerLogger","BladeRunnerTypes","BladeRunnerTypesInternal","FBMqttChannel","RequestStreamE2EClientLoggerEvent","RequestStreamE2EClientLoggerMessageType","uuid"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="Connected",h="Disconnected",i=511*1024,j="/br_sr",k="/sr_res",l=null;a=function(){__p&&__p();function a(a){this.$1=[],this.$2=0,this.$3=0,this.$4=null,this.$5=0,this.$6=new Map(),this.$7=a!=null?a:b("FBMqttChannel"),this.$8=new Map(),b("BladeRunnerLogger").setClientSessionId(b("uuid")()),this.$9()}a.get=function(){l==null&&(l=new a(b("FBMqttChannel")));return l};var c=a.prototype;c.sendNewStreamRequest=function(c,d){d=new(b("BladeRunnerEventHandler"))(c,d,this);var e=c.getRequest();this.$6.set(e.streamId,d);this.getStreamCount()<=a.maxStreamCount?this.$10(e):(b("BladeRunnerLogger").bumpCounter("socket_request_throttled_max_streams"),b("BladeRunnerLogger").warn("Maximum stream count reached, will not send request: "+JSON.stringify(c.getRequest().getHeaders())),this.$11(d,e.streamId))};c.sendRetryStreamRequest=function(a){this.$10(a.getRequest())};c.sendCancel=function(a){b("BladeRunnerLogger").bumpCounter("socket_send_cancel");var c=new(b("BladeRunnerTypesInternal").GatewayStreamStatusUpdate)();c.streamId=a;c.status=b("BladeRunnerTypes").StreamStatus.CLOSED;this.$12(c);this.removeStream(a)};c.sendAmendment=function(a,c,d){b("BladeRunnerLogger").bumpCounter("socket_send_amendment");var e=new(b("BladeRunnerTypesInternal").GatewayStreamData)();e.streamId=a;e.setData(c);d!=null&&(e.instrumentationData=d);this.$13(e)};c.sendAmendmentWithAck=function(a,c,d){__p&&__p();var e=this;b("BladeRunnerLogger").bumpCounter("socket_send_amendment");var f=this.$14(),g=new(b("BladeRunnerTypesInternal").GatewayStreamData)();g.streamId=a;g.setData(c);g.shouldAck=!0;g.dataId=f;d!=null&&(g.instrumentationData=d);a=new(b("Promise"))(function(a,b){e.$8.set(f,{resolve:a,reject:b})});this.$13(g);return a};c.$13=function(a){this.$1.push(b("BladeRunnerTypesInternal").GatewayStreamFrame.newDataFrame(a)),this.$15()};c.sendDataAcks=function(a){b("BladeRunnerLogger").bumpCounter("socket_send_data_ack",a.length),this.$16(a)};c.removeStream=function(a){this.$6["delete"](a)};c.getStreamCount=function(){return this.$6.size};c.getNextStreamId=function(){this.$5++;return this.$5};c.onMQTTStateChanged=function(a){this.$15();if(a!=h&&a!=g||this.$4==a)return;this.$4=a;b("BladeRunnerLogger").info("MQTTStateChanged: "+a);a==h?(b("BladeRunnerLogger").bumpCounter("mqtt_state_disconnected"),this.$17()):a==g&&b("BladeRunnerLogger").bumpCounter("mqtt_state_connected")};c.$10=function(a){b("BladeRunnerLogger").bumpCounter("socket_send_request"),this.$1.push(b("BladeRunnerTypesInternal").GatewayStreamFrame.newRequestFrame(a)),this.$15()};c.$12=function(a){this.$1.push(b("BladeRunnerTypesInternal").GatewayStreamFrame.newStatusUpdateFrame(a)),this.$15()};c.$16=function(a){__p&&__p();for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;this.$1.push(b("BladeRunnerTypesInternal").GatewayStreamFrame.newDataAckFrame(e))}this.$15()};c.$18=function(){this.$2++;return this.$2};c.$14=function(){this.$3++;return this.$3};c.$15=function(){if(this.$7.getConnectionState()===g&&this.$1.length>0){try{this.$19(this.$1)}finally{this.$1=[]}return!0}return!1};c.$19=function(a){__p&&__p();var c=this,d=new(b("BladeRunnerTypesInternal").GatewayStreamBatch)(this.$18(),a),e=d.write();if(e.length>i){var f=Math.floor(a.length/2);if(f===0){var g=new Error("Publish is too long: "+e.length);a.forEach(function(a){return b("BladeRunnerLogger").logFrameFailure(a,"too long")});this.$20(d,g,"Publish is too long");throw g}this.$19(a.slice(0,f));this.$19(a.slice(f,a.length))}else try{b("BladeRunnerLogger").info("send message to "+j+" "+e);g={qos:1,skipBuffer:!1};d.isInstrumented()&&(g.listener={onEvent:function(c){__p&&__p();for(var d=a,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;b("BladeRunnerLogger").logFrameWithMQTTEvent(g,c)}}});this.$7.publish(j,e,g)["catch"](function(a){c.$20(d,a,"Failed publishing to MQTT")});b("BladeRunnerLogger").bumpCounter("mqtt_publish_success")}catch(a){this.$20(d,a,"Failed publishing to MQTT");throw a}};c.$9=function(){__p&&__p();var a=this;b("BladeRunnerLogger").info("Starting socket with endpoint "+this.$7.getEndpoint()+" useragent "+navigator.userAgent);this.onMQTTStateChanged(this.$7.getConnectionState());this.$7.subscribeChannelEvents({onMQTTStateChanged:function(b){a.onMQTTStateChanged(b)},onJSError:function(a){var c=a!=null&&typeof a.isRecoverable==="boolean"?a.isRecoverable:!1;c?b("BladeRunnerLogger").bumpCounter("mqtt_channel_recoverable_error"):(b("BladeRunnerLogger").warn("JS error in MQTTChannel: "+(typeof a=="object"&&a!=null?a.toString():"unknown error")+", "+JSON.stringify(a)),b("BladeRunnerLogger").bumpCounter("mqtt_channel_error"))}});this.$7.subscribe(j,function(a){throw new Error("Unexpected response: "+j+" "+a.toString())});this.$7.subscribe(k,function(b){a.$21(b)})};c.$21=function(a){a=b("BladeRunnerTypesInternal").GatewayStreamBatch.read(a);this.processBatch(a)};c.$20=function(a,c,d){__p&&__p();for(var a=a.getFrames(),e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=a.length)break;g=a[f++]}else{f=a.next();if(f.done)break;g=f.value}g=g;if(g.type===b("BladeRunnerTypes").StreamFrameType.REQUEST){var h=g.getRequest(),i=this.$6.get(h.streamId);i!=null&&this.$22(i,h.streamId,b("BladeRunnerTypes").StreamStatus.CLOSED,!0,null)}else if(g.type===b("BladeRunnerTypes").StreamFrameType.DATA){i=g.getData();h=i.dataId;if(i.shouldAck!=null&&i.shouldAck&&h!=null){g=new(b("BladeRunnerTypesInternal").GatewayStreamDataAck)();g.streamId=i.streamId;g.dataId=h;g.success=!1;g.code=b("BladeRunnerTypesInternal").GatewayStreamDataAck.ACK_CODE_FAILED_TO_LAND;g.message=d;this.$23(g)}}}b("BladeRunnerLogger").info("Failed publishing to MQTT: "+c.message);b("BladeRunnerLogger").bumpCounter("mqtt_publish_error")};c.$23=function(a){var c=this.$8.get(a.dataId);c!=null&&(this.$8["delete"](a.dataId),a.success?c.resolve(!0):a.code===b("BladeRunnerTypesInternal").GatewayStreamDataAck.ACK_CODE_LANDED_BUT_NOT_ACCEPTED?c.resolve(!1):c.reject(a.message))};c.processBatch=function(a){__p&&__p();try{b("BladeRunnerLogger").logE2EEvent(b("RequestStreamE2EClientLoggerMessageType").RESPONSE,b("RequestStreamE2EClientLoggerEvent").RECEIVED,a.getInstrumentationData());b("BladeRunnerLogger").bumpCounter("socket_process_batch");var c=JSON.stringify(a);b("BladeRunnerLogger").info("Received batch "+c.substring(0,256)+(c.length>256?"...":""));c=null;for(var d=a.getFrames(),e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;var h=g.getStreamId();c==null&&(c=h);if(h!=null&&c!=h)throw new Error("Received batch with frames for multiple streams");g.type==b("BladeRunnerTypes").StreamFrameType.DATA_ACK&&this.$23(g.getDataAck())}if(c!=null){h=this.$6.get(c);h!=null?h.onProxyResponse(a):b("BladeRunnerLogger").info("Received batch with frames for unknown stream id: "+c)}else b("BladeRunnerLogger").info("Received batch with no frames")}catch(a){b("BladeRunnerLogger").exception(a,"Failed processing batch from MQTT");b("BladeRunnerLogger").bumpCounter("socket_process_batch_error");throw a}};c.$17=function(){this.$6.forEach(function(a,b,c){a.onDisconnect()})};c.$11=function(a,c){this.$22(a,c,b("BladeRunnerTypes").StreamStatus.REJECTED,!1,0)};c.$22=function(a,c,d,e,f){var g=new(b("BladeRunnerTypesInternal").GatewayStreamStatusUpdate)();g.streamId=c;g.status=d;g.shouldRetry=e;g.retryDelayMs=f;c=new(b("BladeRunnerTypesInternal").GatewayStreamBatch)(null,[b("BladeRunnerTypesInternal").GatewayStreamFrame.newStatusUpdateFrame(g)]);a.onProxyResponse(c)};return a}();a.maxStreamCount=2e3;e.exports=a}),null);
__d("BladeRunnerStream",["regeneratorRuntime"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this.$1=a}var c=a.prototype;c.getStreamHandler=function(){return this.$1};c.cancel=function(){};c.amendWithAck=function(a){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:return a.abrupt("return",!1);case 1:case"end":return a.stop()}},null,this)};c.amendFireAndForget=function(a){};c.isAlive=function(){return!1};c.getStatus=function(){return null};c.getStreamId=function(){return 0};return a}();e.exports=a}),null);
__d("BladeRunnerStreamState",["BladeRunnerTypes","BladeRunnerTypesInternal"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this.$1=a,this.$2=null,this.$3=0,this.$4=!1,this.$5=0,this.$6=!1}var c=a.prototype;c.getRequest=function(){return this.$1};c.isAlive=function(){return!(this.$2==b("BladeRunnerTypes").StreamStatus.CLOSED||this.$2==b("BladeRunnerTypes").StreamStatus.REJECTED)};c.getLastStatus=function(){return this.$2};c.setLastStatus=function(a){this.$2=a};c.onError=function(){this.$3+=1};c.getErrorCount=function(){return this.$3};c.resetErrors=function(){this.$3=0};c.getRetryRequestScheduled=function(){return this.$6};c.setRetryRequestScheduled=function(a){this.$6=a};c.witnessFrame=function(a){__p&&__p();switch(a.type){case b("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE:var c=a.getStatusUpdate(),d=!0;switch(c.status){case b("BladeRunnerTypes").StreamStatus.ACCEPTED:d=!this.$4;this.$4||(this.$4=!0);break;case b("BladeRunnerTypes").StreamStatus.STARTED:d=this.getLastStatus()!=b("BladeRunnerTypes").StreamStatus.STARTED;break;case b("BladeRunnerTypes").StreamStatus.PAUSED:d=this.getLastStatus()==b("BladeRunnerTypes").StreamStatus.STARTED;break;case b("BladeRunnerTypes").StreamStatus.CLOSED:case b("BladeRunnerTypes").StreamStatus.REJECTED:default:d=!0}this.setLastStatus(c.status);return d;case b("BladeRunnerTypes").StreamFrameType.REWRITE_REQUEST:this.$7(a.getRewriteRequest());return!1;default:return!0}};c.setRetriesAllowed=function(a){this.$5=a};c.getRetriesAllowed=function(){return this.$5};c.$7=function(a){if(a.patchExtraHeader!=null)return;a.temporary!=null||a.temporary==!0||(a.newBody!=null&&(this.$1.payload=a.newBody),a.newExtraHeader!=null&&(this.$1.extraHeader=a.newExtraHeader,this.$1.headers=JSON.parse(a.newExtraHeader)),a.killBody!=null&&a.killBody==!0&&(this.$1.payload=null))};return a}();e.exports=a}),null);
__d("BladeRunnerSocketStream",["regeneratorRuntime","Promise","BladeRunnerLogger","BladeRunnerStream","BladeRunnerStreamState","BladeRunnerTypes","BladeRunnerTypesInternal","RequestStreamE2EClientLoggerEvent","RequestStreamE2EClientLoggerMessageType","uuid"],(function(a,b,c,d,e,f){__p&&__p();var g=4,h={reason:"stream_dead"};a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d,e){__p&&__p();c=a.call(this,c)||this;c.$BladeRunnerSocketStream1=e;c.$BladeRunnerSocketStream2=new(b("BladeRunnerStreamState"))(d);c.$BladeRunnerSocketStream2.setRetriesAllowed(g);c.$BladeRunnerSocketStream3=!1;e=d.getHeaders().method;var f=d.getHeaders()["request-id"];e=b("BladeRunnerLogger").shouldLogE2E(e);(f!=null||e)&&(f==null?f=b("uuid")():e||(c.$BladeRunnerSocketStream3=!0),d.instrumentationData=JSON.stringify({requestId:f}));return c}var d=c.prototype;d.send=function(){var a=this.$BladeRunnerSocketStream2.getRequest();b("BladeRunnerLogger").logE2EEvent(b("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,b("RequestStreamE2EClientLoggerEvent").RECEIVED,a.getInstrumentationData(),a.getHeaders().method,this.$BladeRunnerSocketStream3?{clientForced:"true"}:null);this.$BladeRunnerSocketStream1.sendNewStreamRequest(this.$BladeRunnerSocketStream2,this.getStreamHandler())};d.amendWithAck=function(a){__p&&__p();var c,d;return b("regeneratorRuntime").async(function(e){__p&&__p();while(1)switch(e.prev=e.next){case 0:c=this.$BladeRunnerSocketStream2.getRequest();d=c.getInstrumentationData();d&&(d.auxId=b("uuid")(),b("BladeRunnerLogger").logE2EEvent(b("RequestStreamE2EClientLoggerMessageType").AMENDMENT,b("RequestStreamE2EClientLoggerEvent").RECEIVED,d));if(!this.isAlive()){e.next=5;break}return e.abrupt("return",this.$BladeRunnerSocketStream1.sendAmendmentWithAck(c.streamId,a,d==null?null:JSON.stringify(d)));case 5:b("BladeRunnerLogger").logE2EEvent(b("RequestStreamE2EClientLoggerMessageType").AMENDMENT,b("RequestStreamE2EClientLoggerEvent").FAILURE,d,null,h);return e.abrupt("return",b("Promise").reject("BladeRunner stream is not alive"));case 7:case"end":return e.stop()}},null,this)};d.amendFireAndForget=function(a){var c=this.$BladeRunnerSocketStream2.getRequest();c=c.getInstrumentationData();c&&(c.auxId=b("uuid")(),b("BladeRunnerLogger").logE2EEvent(b("RequestStreamE2EClientLoggerMessageType").AMENDMENT,b("RequestStreamE2EClientLoggerEvent").RECEIVED,c));this.isAlive()?this.$BladeRunnerSocketStream1.sendAmendment(this.$BladeRunnerSocketStream2.getRequest().streamId,a,c==null?null:JSON.stringify(c)):b("BladeRunnerLogger").logE2EEvent(b("RequestStreamE2EClientLoggerMessageType").AMENDMENT,b("RequestStreamE2EClientLoggerEvent").FAILURE,c,null,h)};d.cancel=function(){b("BladeRunnerLogger").logE2EEvent(b("RequestStreamE2EClientLoggerMessageType").CANCEL,b("RequestStreamE2EClientLoggerEvent").RECEIVED,this.$BladeRunnerSocketStream2.getRequest().getInstrumentationData()),this.isAlive()&&(this.$BladeRunnerSocketStream1.sendCancel(this.$BladeRunnerSocketStream2.getRequest().streamId),this.$BladeRunnerSocketStream2.setLastStatus(b("BladeRunnerTypes").StreamStatus.CLOSED))};d.isAlive=function(){return this.$BladeRunnerSocketStream2.isAlive()};d.getStatus=function(){return this.$BladeRunnerSocketStream2.getLastStatus()};d.getStreamId=function(){return this.$BladeRunnerSocketStream2.getRequest().streamId};return c}(b("BladeRunnerStream"));e.exports=a}),null);
__d("BladeRunnerClient",["Base64","BladeRunnerConfig","BladeRunnerLogger","BladeRunnerSocket","BladeRunnerSocketStream","BladeRunnerTypes","BladeRunnerTypesInternal"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this.$1=a!=null?a:b("BladeRunnerSocket").get()}var c=a.prototype;c.requestStream=function(a,c,d){var e=new(b("BladeRunnerTypesInternal").GatewayStreamRequest)();e.streamId=this.$1.getNextStreamId();e.requestType=b("BladeRunnerTypes").StreamRequestType.BLADE_RUNNER;e.headers=b("BladeRunnerConfig").patchRequestHeaders(a);e.extraHeader=JSON.stringify(e.headers);e.payload=c!=null?b("Base64").encode(c):null;a=new(b("BladeRunnerSocketStream"))(d,e,this.$1);a.send();return a};c.logInfo=function(a){b("BladeRunnerLogger").info(a)};c.bumpCounter=function(a){b("BladeRunnerLogger").bumpCounter(a)};return a}();e.exports=a}),null);
__d("SimpleFBAuthenticatedXHRRequest",["invariant","CurrentUser","DTSG","DTSGUtils","ServerJSDefine","SprinkleConfig","StaticSiteData","XHRRequest","isFacebookURI"],(function(a,b,c,d,e,f,g){__p&&__p();var h=1;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d){var e;c=a.call(this,c)||this;e=(e={},e[b("StaticSiteData").jsmod_key]=b("ServerJSDefine").getLoadedModuleHash(),e.__req=(h++).toString(36),e.__ajax__=1,e.__a=1,e.__user=b("CurrentUser").getID(),e);a.prototype.setData.call(babelHelpers.assertThisInitialized(c),babelHelpers["extends"]({},d,e));return c}var d=c.prototype;d.send=function(){__p&&__p();var c=this;if(!b("isFacebookURI")(this.getURI()))return a.prototype.send.call(this);if(b("DTSG").getCachedToken){var d=b("DTSG").getCachedToken();if(d)return this.sendOnDTSGToken(d);else{b("DTSG").getToken().done(function(a){return c.sendOnDTSGToken(a)});return this}}else this.sendOnDTSGToken(b("DTSG").getToken())};d.sendOnDTSGToken=function(c){if(c){a.prototype.setData.call(this,babelHelpers["extends"]({},this.getData(),{fb_dtsg:c}));if(b("SprinkleConfig").param_name){var d;a.prototype.setData.call(this,babelHelpers["extends"]({},this.getData(),(d={},d[b("SprinkleConfig").param_name]=b("DTSGUtils").getNumericValue(c),d)))}}return a.prototype.send.call(this)};d.setData=function(a){g(0,5518)};c.parseResponse=function(a){return JSON.parse(a.substr(9))};c.getPayload=function(a){a=c.parseResponse(a).payload;return a.payload?a.payload:a};return c}(b("XHRRequest"));e.exports=a}),null);
__d("XFantailLogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/fantail/",{service:{type:"String",required:!0}})}),null);
__d("FantailLogQueue",["ChannelClientID","CircularBuffer","PHPQuerySerializer","SimpleFBAuthenticatedXHRRequest","XFantailLogController","destroyOnUnload","setIntervalAcrossTransitions","sprintf"],(function(a,b,c,d,e,f){__p&&__p();var g,h={DEBUG:"debug",INFO:"info",WARN:"warn",ERROR:"error"};a=function(){"use strict";__p&&__p();function a(a){this.$2=a,this.$3=new(b("CircularBuffer"))(200),b("setIntervalAcrossTransitions")(this.$4.bind(this),30*1e3),b("destroyOnUnload")(this.$4.bind(this))}a.get=function(b){a.$1=a.$1||{};a.$1[b]=a.$1[b]||new a(b);return a.$1[b]};var c=a.prototype;c.debug=function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];this.$5.apply(this,[h.DEBUG,a].concat(c))};c.info=function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];this.$5.apply(this,[h.INFO,a].concat(c))};c.warn=function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];this.$5.apply(this,[h.WARN,a].concat(c))};c.error=function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];this.$5.apply(this,[h.ERROR,a].concat(c))};c.$5=function(a,c){for(var d=arguments.length,e=new Array(d>2?d-2:0),f=2;f<d;f++)e[f-2]=arguments[f];var g=b("sprintf").apply(void 0,[c].concat(e));this.$3.write({log_time:Date.now(),log:g,severity:a,device_id:b("ChannelClientID").getID()})};c.$4=function(){var a=this.$3.read();if(a.length>0){var c={log_time:[],log:[],severity:[],device_id:[]};a.forEach(function(a){c.log_time.push(a.log_time),c.log.push(a.log),c.severity.push(a.severity),c.device_id.push(a.device_id)});this.$3.clear();a=b("XFantailLogController").getURIBuilder().setString("service",this.$2).getURI();new(b("SimpleFBAuthenticatedXHRRequest"))(a,c).setMethod("POST").setDataSerializer((g||(g=b("PHPQuerySerializer"))).serialize).setRequestHeader("Content-Type","application/x-www-form-urlencoded").send()}};return a}();e.exports=a}),null);
__d("SkywalkerUtils",["CurrentLocale","RTISubscriptionManagerConfig"],(function(a,b,c,d,e,f){__p&&__p();a={patchContext:function(a){a=a||{};a.locale=b("CurrentLocale").get();if(b("RTISubscriptionManagerConfig").assimilator){var c=b("RTISubscriptionManagerConfig").assimilator;c.tierType!=null&&(a.tierType=c.tierType);c.sandboxIP!=null&&c.sandboxPort!=null&&c.sandboxHostname!=null&&(a.sandboxIP=c.sandboxIP,a.sandboxPort=c.sandboxPort,a.sandboxHostname=c.sandboxHostname)}return a}};e.exports=a}),null);
__d("MqttLongPollingHookCollection",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1=new Set()}var b=a.prototype;b.addHook=function(a){this.$1.add(a)};b.removeHook=function(a){this.$1["delete"](a)};b.onPollRequestSent=function(){this.$1.forEach(function(a){a.onPollRequestSent()})};b.onPollRequestSuccess=function(){this.$1.forEach(function(a){a.onPollRequestSuccess()})};b.onPollResponse=function(a){this.$1.forEach(function(b){b.onPollResponse(a)})};b.onPollFinish=function(){this.$1.forEach(function(a){a.onPollFinish()})};b.onPollRequestFailed=function(a){this.$1.forEach(function(b){b.onPollRequestFailed(a)})};return a}();e.exports=a}),null);
__d("PromiseResult",["Promise"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){var a=this;this.promise=new(b("Promise"))(function(b,c){a.$1=b,a.$2=c})}var c=a.prototype;c.resolve=function(a){this.$1(a)};c.reject=function(a){this.$2(a)};return a}();e.exports=a}),null);
__d("MqttFetchClient",["Promise","MqttEnv","MqttProtocolCodec","MqttUtils","PromiseResult"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MqttEnv").Env,h=b("MqttProtocolCodec").WireMessage,i=b("MqttProtocolCodec").decodeByteMessages,j=b("MqttProtocolCodec").MESSAGE_TYPE,k="fetch_pull",l="fetch_pull_finish",m="fetch_",n=6e4,o="action",p="chunked",q="send",r="true",s=5,t=20,u=10,v=5e3;a=function(){__p&&__p();function a(){this.$1="",this.$2=g.getLoggerInstance(),this.$3=0,this.$4="",this.$6=function(){},this.$7=function(a){},this.$8=function(){},this.$9=function(a){},this.$10=0,this.$11=0,this.$12=0,this.$13=0,this.$14="Ready",this.$15=[],this.$16=[],this.$17=null,this.$18=!1,this.$19=0}a.isSupported=function(){return typeof fetch==="function"};var c=a.prototype;c.run=function(a,c,d,e,f,g,h,i){this.$1=b("MqttUtils").endpointWithSessionId(a,c),this.$3=c,this.$4=d,this.$5=e,this.$6=f,this.$7=g,this.$8=h,this.$9=i,this.$20()};c.isTopicSupported=function(a){return!0};c.publish=function(a,c){__p&&__p();if(this.$14!=="ReceivingData"){this.$2.bumpCounter(m+"publish."+a+".invalidstate");return b("Promise").reject("not connected")}else{this.$2.bumpCounter(m+"publish."+a+".publish");var d=new(b("PromiseResult"))();a={topic:a,payload:c,promiseResult:d};this.$15.push(a);this.$21();return d.promise}};c.abort=function(){this.$6=function(){},this.$7=function(a){},this.$8=function(){},this.$9=function(a){}};c.$22=function(a){var b=this;a.forEach(function(a){b.$2.bumpCounter(m+"publish."+a.topic+".resolved"),a.promiseResult.resolve()});this.$12+=a.length};c.$23=function(a,b){var c=this;a.forEach(function(a){c.$2.bumpCounter(m+"publish."+a.topic+".rejected"),a.promiseResult.reject(b)})};c.$24=function(a,b,c,d){var e=a.map(function(a){return a.topic}).join(",");this.$2.debugTrace("FetchClient","Fetch publish request failed. Publishes:"+e+", retry:"+c);this.$2.bumpCounter(m+"publish_request_failed");this.$14!="ReceivingData"||c===s?(this.$23(a,d),this.$18=!1,this.$2.bumpCounter(m+"publish_request_failed_final"),this.$21()):this.$25(a,b,c+1)};c.$26=function(a,b,c,d){__p&&__p();if(!d.ok){this.$2.bumpCounter(m+"publish_request_failed.http."+d.status);if(d.status===409){this.$19++;if(this.$19>=u){this.$2.bumpCounter(m+"409_reset");this.$27(new Error("Too many 409 errors"));return}}this.$24(a,b,c,this.$28(d));return}this.$2.bumpCounter(m+"publish_request_success");b=a.map(function(a){return a.topic}).join(",");this.$2.debugTrace("FetchClient","Fetch publish request success. Publishes:"+b+", retry:"+c);this.$22(a);this.$18=!1;this.$21()};c.$21=function(){__p&&__p();if(this.$14!="ReceivingData")return;if(this.$18)return;if(this.$15.length==0&&this.$16.length==0)return;this.$18=!0;var a=this.$15.slice(0,t);this.$15=this.$15.slice(t,this.$15.length);clearTimeout(this.$17);this.$17=null;var b=this.$16.slice(0,t);this.$16=this.$16.slice(t,this.$16.length);this.$25(a,b,0)};c.$25=function(a,c,d){__p&&__p();var e=this,f=a.map(function(a){return a.topic}).join(",");this.$2.debugTrace("FetchClient","Fetch publish request sent. Publishes:"+f+", retry:"+d);f=b("MqttUtils").endpointWithExtraParameter(this.$1,o,q);var h=a.map(function(a){return{topic:a.topic,payload:a.payload,qos:0,messageId:g.random()}});h=this.$5.gen(this.$3,[],h,c);this.$2.bumpCounter(m+"publish_request");b("MqttUtils").promiseDoneWithTimeout(fetch(f,{method:"POST",mode:"cors",cache:"no-cache",credentials:"include",referrer:"no-referrer",body:h,keepalive:!1}),function(b){return e.$26(a,c,d,b)},function(b){return e.$24(a,c,d,b)},n)};c.$29=function(a){a=a.message;this.$2.debugTrace("FetchClient","Fetch request failed with error:"+a);this.$9(a);this.$30(!1,a);this.$2.bumpCounter(m+"error");this.$14="Error"};c.$31=function(a){__p&&__p();var b=this;this.$2.debugTrace("FetchClient","Fetch response data received");a=i(new Uint8Array(a));a=a.messages;var c=a.filter(function(a){return a.messageType===j.PINGREQ});a=a.filter(function(a){return a.messageType===j.PUBLISH}).map(function(a){if(!(a instanceof h.Publish))return{};a=a;a.qos===1&&a.messageIdentifier!=null&&(b.$16.push(a.messageIdentifier),b.$17==null&&(b.$17=g.setTimeout(function(){b.$21()},v)));return{topic:a.topic,payload:a.payloadMessage.payloadString,qos:a.qos}});for(var d=a,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(e){if(f>=d.length)break;k=d[f++]}else{f=d.next();if(f.done)break;k=f.value}k=k;this.$2.bumpCounter(m+"response_"+k.topic)}a&&a.length>0&&(this.$13+=a.length,this.$7(a));c&&c.length>0&&this.$32()};c.$32=function(){this.$2.debugTrace("FetchClient","Got server ping request"),this.$2.bumpCounter(m+"ping")};c.$27=function(a){this.$2.debugTrace("FetchClient","Fetch request ended: "+a.toString()),this.$2.bumpCounter(m+"done"),this.$33(a.message),this.$8(),this.$14="Done"};c.$34=function(a,c,d){__p&&__p();var e=this;if(d!==null&&d!==void 0)try{this.$31(d)}catch(a){this.$27(a);this.$2.bumpCounter(m+"dataDecodeException");return}if(c){this.$27(new Error("EOF"));return}b("MqttUtils").promiseDone(a.read(),function(c){var b=c.done;c=c.value;return e.$34(a,b,c)},function(a){return e.$27(a)})};c.$35=function(a){__p&&__p();if(!a.ok){this.$2.bumpCounter(m+"error.http."+a.status);this.$29(this.$28(a));return}a=a.body;if(!a){this.$29(new Error("Empty body"));return}a=a.getReader();this.$6();this.$2.bumpCounter(m+"success");this.$30(!0,null);this.$11=Date.now();this.$14="ReceivingData";this.$2.debugTrace("FetchClient","Fetch request success");this.$34(a,!1,null)};c.$33=function(a){this.$2.eventLogPullFinish({pullEventName:l,sessionID:this.$3,duration:Date.now()-this.$11,errorMessage:a,publishReceived:this.$13,publishSent:this.$12})};c.$30=function(a,b){this.$2.eventLogPull({pullEventName:k,sessionID:this.$3,status:a,duration:Date.now()-this.$10,hostname:this.$1,errorMessage:b})};c.$20=function(){__p&&__p();var a=this;if(this.$14!="Ready")return;this.$2.debugTrace("FetchClient","Sending fetch request");this.$2.bumpCounter(m+"request");this.$10=Date.now();var c=b("MqttUtils").endpointWithExtraParameter(this.$1,p,r);b("MqttUtils").promiseDoneWithTimeout(fetch(c,{method:"POST",mode:"cors",cache:"no-cache",credentials:"include",referrer:"no-referrer",body:this.$4,keepalive:!1}),function(b){return a.$35(b)},function(b){return a.$29(b)},n)};c.$28=function(a){return new Error("Http error, status="+a.status)};return a}();e.exports=a}),null);
__d("MqttLongPollingClient",["Promise","MqttEnv","MqttProtocolCodec","XHRRequest","getCrossOriginTransport"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MqttEnv").Env,h=b("MqttProtocolCodec").WireMessage,i=b("MqttProtocolCodec").decodeByteMessages,j=120*1e3,k="simple_pull";a=function(){__p&&__p();function a(){this.$3="",this.$4=0,this.$2=g.getLoggerInstance(),this.$1="Ready",this.$5="",this.$7=function(){},this.$8=function(a){},this.$9=function(){},this.$10=function(a){},this.$11=0,this.$12=null,this.$13=new Set(["/t_ms","/messenger_sync_get_diffs","/messenger_sync_create_queue","/webrtc","/rtc_multi"])}var c=a.prototype;c.run=function(a,b,c,d,e,f,g,h){this.$3=a,this.$4=b,this.$5=c,this.$6=d,this.$7=e,this.$8=f,this.$9=g,this.$10=h,this.$14(this.$5)};c.isTopicSupported=function(a){return this.$13.has(a)};c.publish=function(a,c){return b("Promise").reject("not supported")};c.abort=function(){this.$12!=null&&this.$12.abort("Disconnected")};c.$15=function(a,b){if(this.$1===a)return;this.$1=a;a=="Error"&&b!=null&&this.$10(b)};c.$16=function(a){__p&&__p();if(this.$1!="RequestSend")return;if(!a){this.$17("EmptyResponse",null);return}this.$7();this.$18(!0,null);this.$15("ResponseReceived");a=i(new Uint8Array(a));a=a.messages.filter(function(a){return a instanceof h.Publish}).map(function(a){if(a instanceof h.Publish){a=a;return{topic:a.topic,payload:a.payloadMessage.payloadString,qos:a.qos}}else return{}});this.$8(a);this.$9()};c.$17=function(a,b){b=b!=null?b.message:"null";this.$2.debugTrace("LongPollingClient Error","Poll failed with error:"+a+", errorMsg:"+b);this.$18(!1,a+":"+b);this.$15("Error",a)};c.$18=function(a,b){this.$2.eventLogPull({pullEventName:k,sessionID:this.$4,status:a,duration:Date.now()-this.$11,hostname:this.$3,errorMessage:b})};c.$14=function(a){__p&&__p();var c=this;if(this.$1!="Ready"||this.$12)return;try{this.$11=Date.now(),this.$12=new(b("XHRRequest"))(this.$3).setResponseType("arraybuffer").setRawData(a).setTransportBuilder(b("getCrossOriginTransport").withCredentials).setResponseHandler(function(a){return c.$16(a)}).setNetworkFailureHandler(function(a){c.$17("Network",a)}).setErrorHandler(function(a){c.$17("Error",a)}).setAbortHandler(function(a){c.$17("Abort",null)}).setTimeoutHandler(function(){c.$17("Timeout",null)}).setTimeout(j).send(),this.$15("RequestSend")}catch(a){this.$17("Error",a)}};return a}();e.exports=a}),null);
__d("exponentialBackoff",["MqttEnv"],(function(a,b,c,d,e,f){__p&&__p();var g=b("MqttEnv").Env;function a(a,b){__p&&__p();b===void 0&&(b=null);var c=null,d=0;function e(){__p&&__p();for(var e=arguments.length,f=new Array(e),h=0;h<e;h++)f[h]=arguments[h];var i=function(){a.apply(b,f)};if(c===null){var j=Math.max(0,Math.pow(2,Math.min(d,6))*(1e3+g.random()*100)-2e3);c=g.setTimeout(function(){i(),c=null},j)}d++}e.reset=function(){d=0,c!=null&&(g.clearTimeout(c),c=null)};e.isPending=function(){return c!=null};return e}e.exports=a}),null);
__d("MqttLongPollingRunner",["Promise","MqttEnv","MqttFetchClient","MqttLongPollingClient","MqttLongPollingHookCollection","MqttTypes","MqttUtils","exponentialBackoff"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("MqttEnv").Env,h=b("MqttEnv").MqttGkNames,i=b("MqttTypes").MqttChannelError,j=4,k=1e3,l=3e3,m="mqtt_should_longpoll",n="last_lp",o="yes",p="no";a=function(){__p&&__p();function a(a,c,d,e,f,j,k,l,m){__p&&__p();var n=this;this.$23=function(){__p&&__p();try{if(!n.$29())return;var a=n.$30();n.$14=a;var c=n.$9(),d=n.$10();c=c.filter(function(b){return a.isTopicSupported(b)});d=d.filter(function(b){return a.isTopicSupported(b.topic)});if(c.length==0&&d.length==0){n.$5.debugTrace("LongPollingRunner","Poll skipped, nothing to do");n.$14=null;g.setTimeout(function(){n.$23()},1e3);return}var e=b("MqttUtils").generateSessionId();a.run(n.$6,e,n.$7.gen(e,c,d),n.$7,function(){return n.$31()},function(a){return n.$32(a)},function(){return n.$33()},function(a){return n.$34(a)});n.$19.onPollRequestSent();e=c.join(",");c=d.map(function(a){return a.topic}).join(",");n.$5.debugTrace("LongPollingRunner","Making a poll request to "+n.$6+". SubscribedTopics:"+e+". Publishes:"+c)}catch(a){a&&n.$5.logErrorWarn(a,"lp_js_error"),n.$11(new i(!1,"js error lp",a)),n.$34("lp_js_error")}};this.$6=a;this.$7=c;this.$1=e;this.$2=0;this.$3=d;this.$4=b("MqttUtils").hasWSSupport();this.$5=g.getLoggerInstance();this.$8=f;this.$9=j;this.$10=k;this.$11=l;this.$12=m;this.$13=!1;this.$14=null;this.$15="LPInactive";this.$16="NotSent";this.$17=0;this.$19=new(b("MqttLongPollingHookCollection"))();this.$18=new(b("exponentialBackoff"))(this.$23,this);this.$20=0;this.$21=p;a=g.genGk(h.mqtt_lp_use_fetch);c=b("MqttFetchClient").isSupported();a?this.$5.bumpCounter("fetch_gk_pass"):this.$5.bumpCounter("fetch_gk_fail");c?this.$5.bumpCounter("fetch_api_supported"):this.$5.bumpCounter("fetch_api_not_supported");this.$22=a&&c}var c=a.prototype;c.addHook=function(a){this.$19.addHook(a)};c.start=function(){var a=this;this.$21=g.configRead(n,p);this.$5.debugTrace("LongPollingRunner","Runner loaded, last status "+this.$21);this.$20=Date.now();this.$23();g.setTimeout(function(){a.$23()},k+100);g.setTimeout(function(){a.$23()},l+100)};c.canPublish=function(){return this.$15==="LPActive"&&this.$16==="ReceivingData"};c.publish=function(a,c,d){return g.genGk(h.mqtt_enable_publish_over_polling)&&(this.$14&&this.$14.isTopicSupported(a))?this.$14.publish(a,c):b("Promise").reject()};c.onConnectAttempt=function(){};c.onConnectFailure=function(){this.$2++,this.$23()};c.onConnected=function(){};c.onConnectSuccess=function(){this.$1=!0,g.configWrite(n,null)};c.onConnectionLost=function(){};c.onSubscribe=function(a){};c.onUnsubscribe=function(a){};c.onPublish=function(a){};c.onMessage=function(a){};c.onWSFatal=function(){this.$3=!0,this.$23()};c.getStatus=function(){return this.$15};c.getRequestStatus=function(){return this.$16};c.$24=function(a){a!=this.$15&&(this.$5.debugTrace("LongPollingRunner","status changed to "+a+" from "+this.$15),this.$15=a,this.$12(this.$15,this.$16))};c.$25=function(a){if(!this.$22)return;a!==this.$16&&(this.$5.debugTrace("LongPollingRunner","request status changed to "+a+" from "+this.$16),this.$16=a,this.$12(this.$15,this.$16))};c.$26=function(){this.$17=0};c.$27=function(){this.$17++,this.$17>=j&&this.$24("LPError")};c.$28=function(){__p&&__p();var a=g.genGk(h.mqtt_lp_no_delay),b=g.genGk(h.mqtt_ws_polling_enabled),c=g.genGk(h.mqtt_fast_lp);this.$5.debugTrace("LongPollingRunner","_shouldPoll? pollNow:"+String(a)+" enabled:"+String(b)+" fastPoll:"+String(c)+" hasWSSupport:"+String(this.$4)+" hasSuccess:"+String(this.$1)+" failureCount:"+this.$2+" wsFatal:"+String(this.$3));if(!b)return!1;if(a){this.$5.bumpCounter(m+".nd");return!0}if(!this.$4){this.$5.bumpCounter(m+".na");return!0}if(this.$3){this.$5.bumpCounter(m+".fatal");return!0}if(this.$1)return!1;if(c){b=Date.now()-this.$20;if(this.$21===o){if(this.$2>=1)return!0;if(b>k){this.$5.bumpCounter(m+".fastdelay");return!0}}else if(b>l){this.$5.bumpCounter(m+".regulardelay");return!0}}if(this.$2>=3){this.$5.bumpCounter(m+".failure");return!0}return!1};c.$29=function(){if(this.$14!=null)return!1;var a=this.$28();!this.$13&&a&&(this.$5.bumpCounter("polling_kickin"),this.$13=!0,this.$24("LPActive"),this.$26());this.$13&&!a&&(this.$5.bumpCounter("polling_stopped"),this.$13=!1,this.$24("LPInactive"),this.$26());return a};c.$30=function(){if(this.$22){this.$5.debugTrace("LongPollingRunner","Creating polling client using Fetch API");return new(b("MqttFetchClient"))()}else{this.$5.debugTrace("LongPollingRunner","Creating regular Polling client");return new(b("MqttLongPollingClient"))()}};c.$31=function(){this.$5.debugTrace("LongPollingRunner","Poll success"),this.$19.onPollRequestSuccess(),this.$18.reset(),this.$24("LPActive"),this.$26(),g.configWrite(n,o),this.$25("ReceivingData")};c.$32=function(a){__p&&__p();var b=a.map(function(a){return a.topic}).join(",");this.$5.debugTrace("LongPollingRunner","Poll response received, message received:"+b);for(var b=a,a=Array.isArray(b),c=0,b=a?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(a){if(c>=b.length)break;d=b[c++]}else{c=b.next();if(c.done)break;d=c.value}d=d;this.$19.onPollResponse(d.topic);this.$8(d.topic,d.payload,d.qos)}};c.$33=function(){this.$5.debugTrace("LongPollingRunner","Poll finish"),this.$19.onPollFinish(),this.$14&&this.$14.abort(),this.$14=null,this.$23(),this.$25("NotSent")};c.$34=function(a){this.$19.onPollRequestFailed(a),this.$14&&this.$14.abort(),this.$14=null,this.$18(),this.$27(),this.$25("NotSent")};return a}();e.exports=a}),null);